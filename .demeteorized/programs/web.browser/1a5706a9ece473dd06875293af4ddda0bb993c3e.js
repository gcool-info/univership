!function(){var e,t;(function(){t={}}).call(this),function(){(function(){var e=this,n=e._,i={},o=Array.prototype,r=Object.prototype,a=Function.prototype,s=o.push,l=o.slice,c=o.concat,u=r.toString,d=r.hasOwnProperty,h=o.forEach,f=o.map,p=o.reduce,g=o.reduceRight,m=o.filter,v=o.every,_=o.some,y=o.indexOf,b=o.lastIndexOf,w=Array.isArray,k=Object.keys,T=a.bind,x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=x),t._=x):e._=x,x.VERSION="1.5.2";var S=function(e){return"[object Arguments]"===u.call(e)};S(arguments)||(S=function(e){return!(!e||!d.call(e,"callee")||"function"!=typeof e.callee)});var C=function(e){return e.length===+e.length&&(S(e)||e.constructor!==Object)},E=x.each=x.forEach=function(e,t,n){if(null!=e)if(h&&e.forEach===h)e.forEach(t,n);else if(C(e)){for(var o=0,r=e.length;r>o;o++)if(t.call(n,e[o],o,e)===i)return}else for(var a=x.keys(e),o=0,r=a.length;r>o;o++)if(t.call(n,e[a[o]],a[o],e)===i)return};x.map=x.collect=function(e,t,n){var i=[];return null==e?i:f&&e.map===f?e.map(t,n):(E(e,function(e,o,r){i.push(t.call(n,e,o,r))}),i)};var P="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=x.bind(t,i)),o?e.reduce(t,n):e.reduce(t);if(E(e,function(e,r,a){o?n=t.call(i,n,e,r,a):(n=e,o=!0)}),!o)throw new TypeError(P);return n},x.reduceRight=x.foldr=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return i&&(t=x.bind(t,i)),o?e.reduceRight(t,n):e.reduceRight(t);var r=e.length;if(!C(e)){var a=x.keys(e);r=a.length}if(E(e,function(s,l,c){l=a?a[--r]:--r,o?n=t.call(i,n,e[l],l,c):(n=e[l],o=!0)}),!o)throw new TypeError(P);return n},x.find=x.detect=function(e,t,n){var i;return M(e,function(e,o,r){return t.call(n,e,o,r)?(i=e,!0):void 0}),i},x.filter=x.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(E(e,function(e,o,r){t.call(n,e,o,r)&&i.push(e)}),i)},x.reject=function(e,t,n){return x.filter(e,function(e,i,o){return!t.call(n,e,i,o)},n)},x.every=x.all=function(e,t,n){t||(t=x.identity);var o=!0;return null==e?o:v&&e.every===v?e.every(t,n):(E(e,function(e,r,a){return(o=o&&t.call(n,e,r,a))?void 0:i}),!!o)};var M=x.some=x.any=function(e,t,n){t||(t=x.identity);var o=!1;return null==e?o:_&&e.some===_?e.some(t,n):(E(e,function(e,r,a){return o||(o=t.call(n,e,r,a))?i:void 0}),!!o)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):M(e,function(e){return e===t})},x.invoke=function(e,t){var n=l.call(arguments,2),i=x.isFunction(t);return x.map(e,function(e){return(i?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?void 0:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return E(e,function(e,o,r){var a=t?t.call(n,e,o,r):e;a>i.computed&&(i={value:e,computed:a})}),i.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return E(e,function(e,o,r){var a=t?t.call(n,e,o,r):e;a<i.computed&&(i={value:e,computed:a})}),i.value},x.shuffle=function(e){var t,n=0,i=[];return E(e,function(e){t=x.random(n++),i[n-1]=i[t],i[t]=e}),i},x.sample=function(e,t,n){return arguments.length<2||n?e[x.random(e.length-1)]:x.shuffle(e).slice(0,Math.max(0,t))};var D=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var i=D(t);return x.pluck(x.map(e,function(e,t,o){return{value:e,index:t,criteria:i.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var I=function(e){return function(t,n,i){var o={},r=null==n?x.identity:D(n);return E(t,function(n,a){var s=r.call(i,n,a,t);e(o,s,n)}),o}};x.groupBy=I(function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)}),x.indexBy=I(function(e,t,n){e[t]=n}),x.countBy=I(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,i){n=null==n?x.identity:D(n);for(var o=n.call(i,t),r=0,a=e.length;a>r;){var s=r+a>>>1;n.call(i,e[s])<o?r=s+1:a=s}return r},x.toArray=function(e){return e?x.isArray(e)?l.call(e):C(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:C(e)?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:l.call(e,0,t)},x.initial=function(e,t,n){return l.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:l.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var L=function(e,t,n){return t&&x.every(e,x.isArray)?c.apply(n,e):(E(e,function(e){x.isArray(e)||x.isArguments(e)?t?s.apply(n,e):L(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return L(e,t,[])},x.without=function(e){return x.difference(e,l.call(arguments,1))},x.uniq=x.unique=function(e,t,n,i){x.isFunction(t)&&(i=n,n=t,t=!1);var o=n?x.map(e,n,i):e,r=[],a=[];return E(o,function(n,i){(t?i&&a[a.length-1]===n:x.contains(a,n))||(a.push(n),r.push(e[i]))}),r},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=l.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=c.apply(o,l.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(null==e)return{};for(var n={},i=0,o=e.length;o>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var i=0,o=e.length;if(n){if("number"!=typeof n)return i=x.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,o+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;o>i;i++)if(e[i]===t)return i;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=i?n:e.length;o--;)if(e[o]===t)return o;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),o=0,r=new Array(i);i>o;)r[o++]=e,e+=n;return r};var A=function(){};x.bind=function(e,t){var n,i;if(T&&e.bind===T)return T.apply(e,l.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=l.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(l.call(arguments)));A.prototype=e.prototype;var o=new A;A.prototype=null;var r=e.apply(o,n.concat(l.call(arguments)));return Object(r)===r?r:o}},x.partial=function(e){var t=l.call(arguments,1);return function(){return e.apply(this,t.concat(l.call(arguments)))}},x.bindAll=function(e){var t=l.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var i=t.apply(this,arguments);return x.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},x.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(l.call(arguments,1)))},x.throttle=function(e,t,n){var i,o,r,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:new Date,a=null,r=e.apply(i,o)};return function(){var c=new Date;s||n.leading!==!1||(s=c);var u=t-(c-s);return i=this,o=arguments,0>=u?(clearTimeout(a),a=null,s=c,r=e.apply(i,o)):a||n.trailing===!1||(a=setTimeout(l,u)),r}},x.debounce=function(e,t,n){var i,o,r,a,s;return function(){r=this,o=arguments,a=new Date;var l=function(){var c=new Date-a;t>c?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(r,o)))},c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(r,o)),s}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},x.keys=k||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){for(var t=x.keys(e),n=t.length,i=new Array(n),o=0;n>o;o++)i[o]=e[t[o]];return i},x.pairs=function(e){for(var t=x.keys(e),n=t.length,i=new Array(n),o=0;n>o;o++)i[o]=[t[o],e[t[o]]];return i},x.invert=function(e){for(var t={},n=x.keys(e),i=0,o=n.length;o>i;i++)t[e[n[i]]]=n[i];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return E(l.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=c.apply(o,l.call(arguments,1));return E(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=c.apply(o,l.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return E(l.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var H=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var o=u.call(e);if(o!=u.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]==e)return i[r]==t;var a=e.constructor,s=t.constructor;if(a!==s&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(s)&&s instanceof s))return!1;n.push(e),i.push(t);var l=0,c=!0;if("[object Array]"==o){if(l=e.length,c=l==t.length)for(;l--&&(c=H(e[l],t[l],n,i)););}else{for(var d in e)if(x.has(e,d)&&(l++,!(c=x.has(t,d)&&H(e[d],t[d],n,i))))break;if(c){for(d in t)if(x.has(t,d)&&!l--)break;c=!l}}return n.pop(),i.pop(),c};x.isEqual=function(e,t){return H(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=w||function(e){return"[object Array]"==u.call(e)},x.isObject=function(e){return e===Object(e)},E(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return d.call(e,t)},x.noConflict=function(){return e._=n,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var i=Array(Math.max(0,e)),o=0;e>o;o++)i[o]=t.call(n,o);return i},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var O={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};O.unescape=x.invert(O.escape);var N={escape:new RegExp("["+x.keys(O.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(O.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(N[e],function(t){return O[e][t]})}}),x.result=function(e,t){if(null==e)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){E(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),V.call(this,n.apply(x,e))}})};var R=0;x.uniqueId=function(e){var t=++R+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var i;n=x.defaults({},n,x.templateSettings);var o=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),r=0,a="__p+='";e.replace(o,function(t,n,i,o,s){return a+=e.slice(r,s).replace(F,function(e){return"\\"+B[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&&(a+="';\n"+o+"\n__p+='"),r=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return i(t,x);var l=function(e){return i.call(this,e,x)};return l.source="function("+(n.variable||"obj")+"){\n"+a+"}",l},x.chain=function(e){return x(e).chain()};var V=function(e){return this._chain?x(e).chain():e};x.mixin(x),E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],V.call(this,n)}}),E(["concat","join","slice"],function(e){var t=o[e];x.prototype[e]=function(){return V.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){e=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:e}}(),function(){var e,t=Package.underscore._;(function(){e={isClient:!0,isServer:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){function n(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0}if(e.isServer)var i=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(e){for(var t=1;t<arguments.length;t++){if(!(arguments[t]in e))return void 0;e=e[arguments[t]]}return e},_ensure:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];n in e||(e[n]={}),e=e[n]}return e},_delete:function(e){for(var t=[e],n=!0,i=1;i<arguments.length-1;i++){var o=arguments[i];if(!(o in e)){n=!1;break}if(e=e[o],"object"!=typeof e)break;t.push(e)}for(var i=t.length-1;i>=0;i--){var o=arguments[i+1];if(n)n=!1;else for(var r in t[i][o])return;delete t[i][o]}},wrapAsync:function(o,r){return function(){for(var a,s=r||this,l=t.toArray(arguments),c=l.length-1;c>=0;--c){var u=l[c],d=typeof u;if("undefined"!==d){"function"===d&&(a=u);break}}if(!a){if(e.isClient)a=n;else{var h=new i;a=h.resolver()}++c}l[c]=e.bindEnvironment(a);var f=o.apply(s,l);return h?h.wait():f}},_inherits:function(e,n){for(var i in n)t.has(n,i)&&(e[i]=n[i]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;e._wrapAsync=function(){return o||(e._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),e.wrapAsync.apply(e,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var e=function(e){o.setImmediate(e)};return e.implementation="setImmediate",e}return null}function n(){function e(e,t){return"string"==typeof e&&e.substring(0,t.length)===t}function t(t){if(t.source===o&&e(t.data,s)){var n=t.data.substring(s.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,i=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=i,!n)return null;var r=0,a={},s="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",t,!1):o.attachEvent("onmessage",t);var l=function(e){++r,a[r]=e,o.postMessage(s+r,"*")};return l.implementation="postMessage",l}function i(){var e=function(e){o.setTimeout(e,0)};return e.implementation="setTimeout",e}var o=this;e._setImmediate=t()||n()||i()}.call(this),function(){var n=function(e){if(Package.ddp){var t=Package.ddp.DDP._CurrentInvocation;if(t.get()&&t.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){t.withValue(null,e)}}return e},i=function(t,i){return e.bindEnvironment(n(i),t)};t.extend(e,{setTimeout:function(e,t){return setTimeout(i("setTimeout callback",e),t)},setInterval:function(e,t){return setInterval(i("setInterval callback",e),t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},defer:function(t){e._setImmediate(i("defer callback",t))}})}.call(this),function(){e.makeErrorType=function(t,n){var i=function(){var e=this;if(Error.captureStackTrace)Error.captureStackTrace(e,i);else{var o=new Error;o.__proto__=i.prototype,o instanceof i&&(e=o)}return n.apply(e,arguments),e.errorType=t,e};return e._inherits(i,Error),i},e.Error=e.makeErrorType("Meteor.Error",function(e,t,n){var i=this;i.error=e,i.reason=t,i.details=n,i.message=i.reason?i.reason+" ["+i.error+"]":"["+i.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(e){return e()},e._SynchronousQueue=function(){var e=this;e._tasks=[],e._running=!1,e._runTimeout=null},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var i=this;if(!i.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");i._tasks.push(n);var o=i._tasks;i._tasks=[],i._running=!0,i._runTimeout&&(clearTimeout(i._runTimeout),i._runTimeout=null);try{for(;!t.isEmpty(o);){var r=o.shift();try{r()}catch(a){if(t.isEmpty(o))throw a;e._debug("Exception in queued task: "+a.stack)}}}finally{i._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var e=this;e.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var e=this;return!e._running}})}.call(this),function(){var t=[],n=!e.isCordova&&("loaded"===document.readyState||"complete"==document.readyState),i=function(){for(n=!0;t.length;)t.shift()()};if(document.addEventListener){var o=e.isCordova?"deviceready":"DOMContentLoaded";document.addEventListener(o,i,!1),window.addEventListener("load",i,!1)}else document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&i()}),window.attachEvent("load",i);e.startup=function(i){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(r){return void setTimeout(function(){e.startup(i)},50)}i()}else n?i():t.push(i)}}.call(this),function(){var t=0;e._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var i=Function.prototype.bind.call(console.log,console);i.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e}}.call(this),function(){var n=0,i=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return i[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(e,t){var n=i[this.slot];try{i[this.slot]=e;var o=t()}finally{i[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,r){var a=t.clone(i);if(!o||"string"==typeof o){var s=o||"callback of async function";o=function(t){e._debug("Exception in "+s+":",t&&t.stack||t)}}return function(){var e=i;try{i=a;var s=n.apply(r,t.toArray(arguments))}catch(l){o(l)}finally{i=e}return s}},e._nodeCodeMustBeInFiber=function(){}}.call(this),function(){e.absoluteUrl=function(n,i){i||"object"!=typeof n||(i=n,n=void 0),i=t.extend({},e.absoluteUrl.defaultOptions,i||{});var o=i.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),i.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),i.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(e){return"object"==typeof __meteor_runtime_config__&&"/"===e.substr(0,1)&&(e=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+e),e}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}(),function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,o,r,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)a[n]=str(n,l)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],o=str(i,l),o&&a.push(quote(i)+(gap?": ":":")+o));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o=str(i,l),o&&a.push(quote(i)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i=walk(o,n),void 0!==i?o[n]=i:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}(),function(){{var e;Package.meteor.Meteor}(function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={},i=0;i<t.length;i++)n[t.charAt(i)]=i;e={},e.encode=function(t){if("string"==typeof t){var n=t;t=e.newBinary(n.length);for(var i=0;i<n.length;i++){var r=n.charCodeAt(i);if(r>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");t[i]=r}}for(var a=[],s=null,l=null,c=null,u=null,i=0;i<t.length;i++)switch(i%3){case 0:s=t[i]>>2&63,l=(3&t[i])<<4;break;case 1:l|=t[i]>>4&15,c=(15&t[i])<<2;break;case 2:c|=t[i]>>6&3,u=63&t[i],a.push(o(s)),a.push(o(l)),a.push(o(c)),a.push(o(u)),s=null,l=null,c=null,u=null}return null!=s&&(a.push(o(s)),a.push(o(l)),a.push(null==c?"=":o(c)),null==u&&a.push("=")),a.join("")};var o=function(e){return t.charAt(e)},r=function(e){return"="===e?-1:n[e]};e.newBinary=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],n=0;e>n;n++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},e.decode=function(t){var n=Math.floor(3*t.length/4);"="==t.charAt(t.length-1)&&(n--,"="==t.charAt(t.length-2)&&n--);for(var i=e.newBinary(n),o=null,a=null,s=null,l=0,c=0;c<t.length;c++){var u=t.charAt(c),d=r(u);switch(c%4){case 0:if(0>d)throw new Error("invalid base64 string");o=d<<2;break;case 1:if(0>d)throw new Error("invalid base64 string");o|=d>>4,i[l++]=o,a=(15&d)<<4;break;case 2:d>=0&&(a|=d>>2,i[l++]=a,s=(3&d)<<6);break;case 3:d>=0&&(i[l++]=s|d)}}return i}}).call(this),"undefined"==typeof Package&&(Package={}),Package.base64={Base64:e}}(),function(){var e,t,n=Package.meteor.Meteor,i=Package.json.JSON,o=Package.underscore._,r=Package.base64.Base64;(function(){e={},t={};var a={};e.addType=function(e,t){if(o.has(a,e))throw new Error("Type "+e+" already present");a[e]=t};var s=function(e){return o.isNaN(e)||1/0===e||e===-1/0},l=[{matchJSONValue:function(e){return o.has(e,"$date")&&1===o.size(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return o.has(e,"$InfNaN")&&1===o.size(e)},matchObject:s,toJSONValue:function(e){var t;return t=o.isNaN(e)?0:1/0===e?1:-1,{$InfNaN:t}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return o.has(e,"$binary")&&1===o.size(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&o.has(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:r.encode(e)}},fromJSONValue:function(e){return r.decode(e.$binary)}},{matchJSONValue:function(e){return o.has(e,"$escape")&&1===o.size(e)},matchObject:function(e){return o.isEmpty(e)||o.size(e)>2?!1:o.any(l,function(t){return t.matchJSONValue(e)})},toJSONValue:function(t){var n={};return o.each(t,function(t,i){n[i]=e.toJSONValue(t)}),{$escape:n}},fromJSONValue:function(t){var n={};return o.each(t.$escape,function(t,i){n[i]=e.fromJSONValue(t)}),n}},{matchJSONValue:function(e){return o.has(e,"$type")&&o.has(e,"$value")&&2===o.size(e)},matchObject:function(t){return e._isCustomType(t)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!o.has(a,t))throw new Error("Custom EJSON type "+t+" is not defined");var i=a[t];return n._noYieldsAllowed(function(){return i(e.$value)})}}];e._isCustomType=function(e){return e&&"function"==typeof e.toJSONValue&&"function"==typeof e.typeName&&o.has(a,e.typeName())};var c=e._adjustTypesToJSONValue=function(e){if(null===e)return null;var t=u(e);return void 0!==t?t:"object"!=typeof e?e:(o.each(e,function(t,n){if("object"==typeof t||void 0===t||s(t)){var i=u(t);return i?void(e[n]=i):void c(t)}}),e)},u=function(e){for(var t=0;t<l.length;t++){var n=l[t];if(n.matchObject(e))return n.toJSONValue(e)}return void 0};e.toJSONValue=function(t){var n=u(t);return void 0!==n?n:("object"==typeof t&&(t=e.clone(t),c(t)),t)};var d=e._adjustTypesFromJSONValue=function(e){if(null===e)return null;var t=h(e);return t!==e?t:"object"!=typeof e?e:(o.each(e,function(t,n){if("object"==typeof t){var i=h(t);if(t!==i)return void(e[n]=i);d(t)}}),e)},h=function(e){if("object"==typeof e&&null!==e&&o.size(e)<=2&&o.all(e,function(e,t){return"string"==typeof t&&"$"===t.substr(0,1)}))for(var t=0;t<l.length;t++){var n=l[t];if(n.matchJSONValue(e))return n.fromJSONValue(e)}return e};e.fromJSONValue=function(t){var n=h(t);return n===t&&"object"==typeof t?(t=e.clone(t),d(t),t):n},e.stringify=function(t,n){var o=e.toJSONValue(t);return n&&(n.canonical||n.indent)?e._canonicalStringify(o,n):i.stringify(o)},e.parse=function(t){if("string"!=typeof t)throw new Error("EJSON.parse argument should be a string");return e.fromJSONValue(i.parse(t))},e.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},e.equals=function(t,n,i){var r,a=!(!i||!i.keyOrderSensitive);if(t===n)return!0;if(o.isNaN(t)&&o.isNaN(n))return!0;if(!t||!n)return!1;if("object"!=typeof t||"object"!=typeof n)return!1;if(t instanceof Date&&n instanceof Date)return t.valueOf()===n.valueOf();if(e.isBinary(t)&&e.isBinary(n)){if(t.length!==n.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}if("function"==typeof t.equals)return t.equals(n,i);if("function"==typeof n.equals)return n.equals(t,i);if(t instanceof Array){if(!(n instanceof Array))return!1;if(t.length!==n.length)return!1;for(r=0;r<t.length;r++)if(!e.equals(t[r],n[r],i))return!1;return!0}switch(e._isCustomType(t)+e._isCustomType(n)){case 1:return!1;case 2:return e.equals(e.toJSONValue(t),e.toJSONValue(n))}var s;if(a){var l=[];return o.each(n,function(e,t){l.push(t)}),r=0,s=o.all(t,function(t,o){return r>=l.length?!1:o!==l[r]?!1:e.equals(t,n[l[r]],i)?(r++,!0):!1}),s&&r===l.length}return r=0,s=o.all(t,function(t,a){return o.has(n,a)&&e.equals(t,n[a],i)?(r++,!0):!1}),s&&o.size(n)===r},e.clone=function(t){var n;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return t;if(e.isBinary(t)){n=e.newBinary(t.length);for(var i=0;i<t.length;i++)n[i]=t[i];return n}if(o.isArray(t)||o.isArguments(t)){for(n=[],i=0;i<t.length;i++)n[i]=e.clone(t[i]);return n}return"function"==typeof t.clone?t.clone():e._isCustomType(t)?e.fromJSONValue(e.clone(e.toJSONValue(t)),!0):(n={},o.each(t,function(t,i){n[i]=e.clone(t)}),n)},e.newBinary=r.newBinary}).call(this),function(){function t(e){return i.stringify(e)}var n=function(e,i,r,a,s){var l,c,u,d,h=a,f=i[e];switch(typeof f){case"string":return t(f);case"number":return isFinite(f)?String(f):"null";case"boolean":return String(f);case"object":if(!f)return"null";if(h=a+r,d=[],o.isArray(f)||o.isArguments(f)){for(u=f.length,l=0;u>l;l+=1)d[l]=n(l,f,r,h,s)||"null";
return c=0===d.length?"[]":h?"[\n"+h+d.join(",\n"+h)+"\n"+a+"]":"["+d.join(",")+"]"}var p=o.keys(f);return s&&(p=p.sort()),o.each(p,function(e){c=n(e,f,r,h,s),c&&d.push(t(e)+(h?": ":":")+c)}),c=0===d.length?"{}":h?"{\n"+h+d.join(",\n"+h)+"\n"+a+"}":"{"+d.join(",")+"}"}};e._canonicalStringify=function(e,t){if(t=o.extend({indent:"",canonical:!1},t),t.indent===!0)t.indent="  ";else if("number"==typeof t.indent){for(var i="",r=0;r<t.indent;r++)i+=" ";t.indent=i}return n("",{"":e},t.indent,"",t.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:e,EJSONTest:t}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,i=Package.ejson.EJSON;(function(){e=function(){return e.info.apply(this,arguments)};var o=0,r=[],a=0;e._intercept=function(e){o+=e},e._suppress=function(e){a+=e},e._intercepted=function(){var e=r;return r=[],o=0,e},e.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},l="blue",c=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=c.concat(["app","message"]),d=function(n){var i=e.format(n),o=n.level;"undefined"!=typeof console&&console[o]?console[o](i):t._debug(i)};e._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var n,i=t.split("\n"),o=1;o<i.length;++o){if(n=i[o],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/(?:local-test:)?logging(?:\/|\.js)/))break}var r={},a=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return a?(r.line=a[2].split(":")[0],r.file=a[1].split("/").slice(-1)[0].split("?")[0],r):r},n.each(["debug","info","warn","error"],function(s){e[s]=function(l){if(a)return void a--;var u=!1;o&&(o--,u=!0);var h=!n.isObject(l)||n.isRegExp(l)||n.isDate(l)?{message:new String(l).toString()}:l;if(n.each(c,function(e){if(h[e])throw new Error("Can't set '"+e+"' in log message")}),n.has(h,"message")&&!n.isString(h.message))throw new Error("The 'message' field in log objects must be a string");if(h.omitCallerDetails||(h=n.extend(e._getCallerDetails(),h)),h.time=new Date,h.level=s,"debug"!==s)if(u)r.push(i.stringify(h));else if(t.isServer)if("colored-text"===e.outputFormat)console.log(e.format(h,{color:!0}));else{if("json"!==e.outputFormat)throw new Error("Unknown logging output format: "+e.outputFormat);console.log(i.stringify(h))}else d(h)}}),e.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=i.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},e.format=function(e,o){e=i.clone(e),o=o||{};var r=e.time;if(!(r instanceof Date))throw new Error("'time' must be a Date object");var a=e.timeInexact,c=e.level||"info",d=e.file,h=e.line,f=e.app||"",p=e.originApp,g=e.message||"",m=e.program||"",v=e.satellite,_=e.stderr||"";n.each(u,function(t){delete e[t]}),n.isEmpty(e)||(g&&(g+=" "),g+=i.stringify(e));var y=function(e){return 10>e?"0"+e:e.toString()},b=function(e){return 100>e?"0"+y(e):e.toString()},w=r.getFullYear().toString()+y(r.getMonth()+1)+y(r.getDate()),k=y(r.getHours())+":"+y(r.getMinutes())+":"+y(r.getSeconds())+"."+b(r.getMilliseconds()),T="("+-((new Date).getTimezoneOffset()/60)+")",x="";f&&(x+=f),p&&p!==f&&(x+=" via "+p),x&&(x="["+x+"] ");var S=[];m&&S.push(m),d&&S.push(d),h&&S.push(h);var C=n.isEmpty(S)?"":"("+S.join(":")+") ";v&&(C+=["[",v,"]"].join(""));var E=_?"(STDERR) ":"",P=[c.charAt(0).toUpperCase(),w,"-",k,T,a?"? ":" ",x,C,E].join(""),M=function(e,n){return o.color&&t.isServer&&n?Npm.require("cli-color")[n](e):e};return M(P,o.metaColor||l)+M(g,s[c])},e.objFromText=function(e,t){var i={message:e,level:"info",time:new Date,timeInexact:!0};return n.extend(i,t)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,i=(Package.logging.Log,Package.json.JSON);(function(){var o,r="Meteor_Reload",a=3e4,s={},l=null;try{l=window.sessionStorage,l?(l.setItem("__dummy__","1"),l.removeItem("__dummy__")):l=null}catch(c){l=null}l&&(o=l.getItem(r),l.removeItem(r)),o||(o="{}");var u={};try{u=i.parse(o),"object"!=typeof u&&(t._debug("Got bad data on reload. Ignoring."),u={})}catch(d){t._debug("Got invalid JSON on reload. Ignoring.")}u.reload&&"object"==typeof u.data&&u.time+a>(new Date).getTime()&&(s=u.data);var h=[];e={},e._onMigrate=function(e,t){t||(t=e,e=void 0),h.push({name:e,callback:t})},e._migrationData=function(e){return s[e]};var f=function(e,t){e=e||function(){};for(var i={},o=n.clone(h),r=!0;o.length;){var a=o.shift(),s=a.callback(e,t);s[0]||(r=!1),s.length>1&&a.name&&(i[a.name]=s[1])}return r||t.immediateMigration?i:null};e._migrate=function(e,n){var o=f(e,n);if(null===o)return!1;try{var a=i.stringify({time:(new Date).getTime(),data:o,reload:!0})}catch(s){throw t._debug("Couldn't serialize data for migration",o),s}if("undefined"!=typeof sessionStorage&&sessionStorage)try{sessionStorage.setItem(r,a)}catch(s){t._debug("Couldn't save data for migration to sessionStorage",s)}else t._debug("Browser does not support sessionStorage. Not saving migration state.");return!0};var p=!1;e._reload=function(o){if(o=o||{},!p){p=!0;var a=function(){n.defer(function(){for(var s={},c=n.clone(h);c.length;){var u=c.shift(),d=u.callback(a);if(!d[0])return;d.length>1&&u.name&&(s[u.name]=d[1])}try{var f=i.stringify({time:(new Date).getTime(),data:s,reload:!0})}catch(p){throw t._debug("Couldn't serialize data for migration",s),p}if(l)try{l.setItem(r,f)}catch(p){t._debug("Couldn't save data for migration to sessionStorage",p)}else t._debug("Browser does not support sessionStorage. Not saving migration state.");e._migrate(a,o)&&window.location.reload()})};a()}}}).call(this),function(){t._reload={onMigrate:e._onMigrate,migrationData:e._migrationData,reload:e._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:e}}(),function(){var e,t,n=Package.meteor.Meteor;(function(){e={},e.active=!1,e.currentComputation=null;var t=function(t){e.currentComputation=t,e.active=!!t},i=function(){return"undefined"!=typeof n?n._debug:"undefined"!=typeof console&&console.log?function(){console.log.apply(console,arguments)}:function(){}},o=function(e,t){if(d)throw t;var n;if(t.stack&&t.message){var o=t.stack.indexOf(t.message);n=o>=0&&10>=o?t.stack:t.message+("\n"===t.stack.charAt(0)?"":"\n")+t.stack}else n=t.stack||t.message;i()("Exception from Tracker "+e+" function:",n)},r=function(e){return"undefined"==typeof n||n.isClient?e:function(){var t=arguments;n._noYieldsAllowed(function(){e.apply(null,t)})}},a=1,s=[],l=!1,c=!1,u=!1,d=!1,h=[],f=function(){l||(setTimeout(e.flush,0),l=!0)},p=!1;e.Computation=function(e,t){if(!p)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");p=!1;var n=this;n.stopped=!1,n.invalidated=!1,n.firstRun=!0,n._id=a++,n._onInvalidateCallbacks=[],n._parent=t,n._func=e,n._recomputing=!1;var i=!0;try{n._compute(),i=!1}finally{n.firstRun=!1,i&&n.stop()}},e.Computation.prototype.onInvalidate=function(t){var n=this;if("function"!=typeof t)throw new Error("onInvalidate requires a function");n.invalidated?e.nonreactive(function(){r(t)(n)}):n._onInvalidateCallbacks.push(t)},e.Computation.prototype.invalidate=function(){var t=this;if(!t.invalidated){t._recomputing||t.stopped||(f(),s.push(this)),t.invalidated=!0;for(var n,i=0;n=t._onInvalidateCallbacks[i];i++)e.nonreactive(function(){r(n)(t)});t._onInvalidateCallbacks=[]}},e.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate())},e.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var i=e.currentComputation;t(n);u=!0;try{r(n._func)(n)}finally{t(i),u=!1}},e.Computation.prototype._recompute=function(){var e=this;e._recomputing=!0;try{for(;e.invalidated&&!e.stopped;)try{e._compute()}catch(t){o("recompute",t)}}finally{e._recomputing=!1}},e.Dependency=function(){this._dependentsById={}},e.Dependency.prototype.depend=function(t){if(!t){if(!e.active)return!1;t=e.currentComputation}var n=this,i=t._id;return i in n._dependentsById?!1:(n._dependentsById[i]=t,t.onInvalidate(function(){delete n._dependentsById[i]}),!0)},e.Dependency.prototype.changed=function(){var e=this;for(var t in e._dependentsById)e._dependentsById[t].invalidate()},e.Dependency.prototype.hasDependents=function(){var e=this;for(var t in e._dependentsById)return!0;return!1},e.flush=function(t){if(c)throw new Error("Can't call Tracker.flush while flushing");if(u)throw new Error("Can't flush inside Tracker.autorun");c=!0,l=!0,d=!(!t||!t._throwFirstError);var n=!1;try{for(;s.length||h.length;){for(;s.length;){var i=s.shift();i._recompute()}if(h.length){var r=h.shift();try{r()}catch(a){o("afterFlush",a)}}}n=!0}finally{n||(c=!1,e.flush({_throwFirstError:!1})),l=!1,c=!1}},e.autorun=function(t){if("function"!=typeof t)throw new Error("Tracker.autorun requires a function argument");p=!0;var n=new e.Computation(t,e.currentComputation);return e.active&&e.onInvalidate(function(){n.stop()}),n},e.nonreactive=function(n){var i=e.currentComputation;t(null);try{return n()}finally{t(i)}},e.onInvalidate=function(t){if(!e.active)throw new Error("Tracker.onInvalidate requires a currentComputation");e.currentComputation.onInvalidate(t)},e.afterFlush=function(e){h.push(e),f()}}).call(this),function(){n.flush=e.flush,n.autorun=e.autorun,n.autosubscribe=e.autorun,e.depend=function(e){return e.depend()},t=e}.call(this),"undefined"==typeof Package&&(Package={}),Package.tracker={Tracker:e,Deps:t}}(),function(){{var e,t=Package.meteor.Meteor;Package.underscore._}(function(){if(t.isServer)var n=Npm.require("crypto");var i=function(){function e(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var i=.02519603282416938*e;e=i>>>0,i-=e,i*=e,e=i>>>0,i-=e,e+=4294967296*i}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}return function(t){var n=0,i=0,o=0,r=1;0==t.length&&(t=[+new Date]);var a=e();n=a(" "),i=a(" "),o=a(" ");for(var s=0;s<t.length;s++)n-=a(t[s]),0>n&&(n+=1),i-=a(t[s]),0>i&&(i+=1),o-=a(t[s]),0>o&&(o+=1);a=null;var l=function(){var e=2091639*n+2.3283064365386963e-10*r;return n=i,i=o,o=e-(r=0|e)};return l.uint32=function(){return 4294967296*l()},l.fract53=function(){return l()+1.1102230246251565e-16*(2097152*l()|0)},l.version="Alea 0.9",l.args=t,l}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",a=function(e){var t=this;void 0!==e&&(t.alea=i.apply(null,e))};a.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var i=new Uint32Array(1);return window.crypto.getRandomValues(i),2.3283064365386963e-10*i[0]}throw new Error("No random generator available")},a.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var i,o=Math.ceil(e/2);try{i=n.randomBytes(o)}catch(r){i=n.pseudoRandomBytes(o)}var a=i.toString("hex");return a.substring(0,e)}for(var s=[],l=0;e>l;++l)s.push(t.choice("0123456789abcdef"));return s.join("")},a.prototype._randomString=function(e,t){for(var n=this,i=[],o=0;e>o;o++)i[o]=n.choice(t);return i.join("")},a.prototype.id=function(e){var t=this;return void 0===e&&(e=17),t._randomString(e,o)},a.prototype.secret=function(e){var t=this;return void 0===e&&(e=43),t._randomString(e,r)},a.prototype.choice=function(e){var t=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(t,1):e[t]};var s="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,l="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,c="undefined"!=typeof navigator&&navigator.userAgent||"";e=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new a:new a([new Date,s,l,c,Math.random()]),e.createWithSeeds=function(){if(0===arguments.length)throw new Error("No seeds were provided");return new a(arguments)}}).call(this),function(){t.uuid=function(){for(var t="0123456789abcdef",n=[],i=0;36>i;i++)n[i]=e.choice(t);n[14]="4",n[19]=t.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var o=n.join("");return o}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,i=Package.random.Random;(function(){e=function(e){var t=this;n.extend(t,n.defaults(n.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),t.retryTimer=null},n.extend(e.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var n=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return n*=i.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(e,n){var i=this,o=i._timeout(e);return i.retryTimer&&clearTimeout(i.retryTimer),i.retryTimer=t.setTimeout(n,o),o}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:e}}(),function(){var e,t,n=Package.meteor.Meteor,i=Package.underscore._,o=Package.ejson.EJSON;(function(){var r=new n.EnvironmentVariable;e=function(e,n){var i=r.getOrNullIfOutsideFiber();i&&i.checking(e);try{h(e,n)}catch(o){throw o instanceof t.Error&&o.path&&(o.message+=" in field "+o.path),o}},t={Optional:function(e){return new a(e)},OneOf:function(){return new s(i.toArray(arguments))},Any:["__any__"],Where:function(e){return new l(e)},ObjectIncluding:function(e){return new c(e)},ObjectWithValues:function(e){return new u(e)},Integer:["__integer__"],Error:n.makeErrorType("Match.Error",function(e){this.message="Match error: "+e,this.path="",this.sanitizedError=new n.Error(400,"Match failed")}),test:function(e,n){try{return h(e,n),!0}catch(i){if(i instanceof t.Error)return!1;throw i}},_failIfArgumentsAreNotAllChecked:function(e,t,n,i){var o=new f(n,i),a=r.withValue(o,function(){return e.apply(t,n)});return o.throwUnlessAllArgumentsHaveBeenChecked(),a}};var a=function(e){this.pattern=e},s=function(e){if(i.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},l=function(e){this.condition=e},c=function(e){this.pattern=e},u=function(e){this.pattern=e},d=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],h=function(e,n){if(n!==t.Any){for(var r=0;r<d.length;++r)if(n===d[r][0]){if(typeof e===d[r][1])return;throw new t.Error("Expected "+d[r][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new t.Error("Expected null, got "+o.stringify(e))}if("string"==typeof n||"number"==typeof n){if(e===n)return;throw new t.Error("Expected "+n+", got "+o.stringify(e))}if(n===t.Integer){if("number"==typeof e&&(0|e)===e)return;throw new t.Error("Expected Integer, got "+(e instanceof Object?o.stringify(e):e))}if(n===Object&&(n=t.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+o.stringify(n));if(!i.isArray(e)&&!i.isArguments(e))throw new t.Error("Expected array, got "+o.stringify(e));return void i.each(e,function(e,i){try{h(e,n[0])}catch(o){throw o instanceof t.Error&&(o.path=g(i,o.path)),o}})}if(n instanceof l){if(n.condition(e))return;throw new t.Error("Failed Match.Where validation")}if(n instanceof a&&(n=t.OneOf(void 0,n.pattern)),n instanceof s){for(var r=0;r<n.choices.length;++r)try{return void h(e,n.choices[r])}catch(f){if(!(f instanceof t.Error))throw f}throw new t.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new t.Error("Expected "+n.name)}var p,m=!1;if(n instanceof c&&(m=!0,n=n.pattern),n instanceof u&&(m=!0,p=[n.pattern],n={}),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new t.Error("Expected object, got "+typeof e);if(null===e)throw new t.Error("Expected object, got null");if(e.constructor!==Object)throw new t.Error("Expected plain object");var v={},_={};i.each(n,function(e,t){e instanceof a?_[t]=e.pattern:v[t]=e}),i.each(e,function(e,n){try{if(i.has(v,n))h(e,v[n]),delete v[n];else if(i.has(_,n))h(e,_[n]);else{if(!m)throw new t.Error("Unknown key");p&&h(e,p[0])}}catch(o){throw o instanceof t.Error&&(o.path=g(n,o.path)),o}}),i.each(v,function(e,n){throw new t.Error("Missing key '"+n+"'")})}},f=function(e,t){var n=this;n.args=i.clone(e),n.args.reverse(),n.description=t};i.extend(f.prototype,{checking:function(e){var t=this;t._checkingOneValue(e)||(i.isArray(e)||i.isArguments(e))&&i.each(e,i.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){for(var t=this,n=0;n<t.args.length;++n)if(e===t.args[n])return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!i.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var p=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],g=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||i.contains(p,e))&&(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:e,Match:t}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._),n=Package.json.JSON,i=Package.ejson.EJSON;(function(){e=function(e,t){var i=this;i._map={},i._idStringify=e||n.stringify,i._idParse=t||n.parse},t.extend(e.prototype,{get:function(e){var t=this,n=t._idStringify(e);return t._map[n]},set:function(e,t){var n=this,i=n._idStringify(e);n._map[i]=t},remove:function(e){var t=this,n=t._idStringify(e);delete t._map[n]},has:function(e){var n=this,i=n._idStringify(e);return t.has(n._map,i)},empty:function(){var e=this;return t.isEmpty(e._map)},clear:function(){var e=this;e._map={}},forEach:function(e){for(var n=this,i=t.keys(n._map),o=0;o<i.length;o++){var r=e.call(null,n._map[i[o]],n._idParse(i[o]));if(r===!1)return}},size:function(){var e=this;return t.size(e._map)},setDefault:function(e,n){var i=this,o=i._idStringify(e);return t.has(i._map,o)?i._map[o]:(i._map[o]=n,n)},clone:function(){var t=this,n=new e(t._idStringify,t._idParse);return t.forEach(function(e,t){n.set(t,i.clone(e))}),n}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["id-map"]={IdMap:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){var n=function(e,t,n,i){return{key:e,value:t,next:n,prev:i}};e=function(){var e=this;e._dict={},e._first=null,e._last=null,e._size=0;var n=t.toArray(arguments);e._stringify=function(e){return e},"function"==typeof n[0]&&(e._stringify=n.shift()),t.each(n,function(t){e.putBefore(t[0],t[1],null)})},t.extend(e.prototype,{_k:function(e){return" "+this._stringify(e)},empty:function(){var e=this;return!e._first},size:function(){var e=this;return e._size},_linkEltIn:function(e){var t=this;e.next?(e.prev=e.next.prev,e.next.prev=e,e.prev&&(e.prev.next=e)):(e.prev=t._last,t._last&&(t._last.next=e),t._last=e),(null===t._first||t._first===e.next)&&(t._first=e)},_linkEltOut:function(e){var t=this;e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===t._last&&(t._last=e.prev),e===t._first&&(t._first=e.next)},putBefore:function(e,t,i){var o=this;if(o._dict[o._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var r=i?n(e,t,o._dict[o._k(i)]):n(e,t,null);if(void 0===r.next)throw new Error("could not find item to put this one before");o._linkEltIn(r),o._dict[o._k(e)]=r,o._size++},append:function(e,t){var n=this;n.putBefore(e,t,null)},remove:function(e){var t=this,n=t._dict[t._k(e)];if(void 0===n)throw new Error("Item "+e+" not present in OrderedDict");return t._linkEltOut(n),t._size--,delete t._dict[t._k(e)],n.value},get:function(e){var t=this;return t.has(e)?t._dict[t._k(e)].value:void 0},has:function(e){var n=this;return t.has(n._dict,n._k(e))},forEach:function(t){for(var n=this,i=0,o=n._first;null!==o;){var r=t(o.value,o.key,i);if(r===e.BREAK)return;o=o.next,i++}},first:function(){var e=this;return e.empty()?void 0:e._first.key},firstValue:function(){var e=this;return e.empty()?void 0:e._first.value},last:function(){var e=this;return e.empty()?void 0:e._last.key},lastValue:function(){var e=this;return e.empty()?void 0:e._last.value},prev:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.prev)return n.prev.key}return null},next:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.next)return n.next.key}return null},moveBefore:function(e,t){var n=this,i=n._dict[n._k(e)],o=t?n._dict[n._k(t)]:null;if(void 0===i)throw new Error("Item to move is not present");if(void 0===o)throw new Error("Could not find element to move this one before");o!==i.next&&(n._linkEltOut(i),i.next=o,n._linkEltIn(i))},indexOf:function(t){var n=this,i=null;return n.forEach(function(o,r,a){return n._k(r)===n._k(t)?(i=a,e.BREAK):void 0}),i},_checkRep:function(){var e=this;t.each(e._dict,function(e,t){if(t.next===t)throw new Error("Next is a loop");if(t.prev===t)throw new Error("Prev is a loop")})}}),e.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:e}}(),function(){{var e,t;Package.meteor.Meteor}(function(){t={exports:{}}}).call(this),function(){!function(){function e(e){for(var t=[],n=[],i=0;i<e[0].length;i++)t.push(e[0][i][1]),n.push(e[0][i][0]);return t=t.sort(function(e,t){return e-t}),n=n.sort(function(e,t){return e-t}),[[t[0],n[0]],[t[t.length-1],n[n.length-1]]]}function n(e,t,n){for(var i=[[0,0]],o=0;o<n.length;o++){for(var r=0;r<n[o].length;r++)i.push(n[o][r]);i.push([0,0])}for(var a=!1,o=0,r=i.length-1;o<i.length;r=o++)i[o][0]>t!=i[r][0]>t&&e<(i[r][1]-i[o][1])*(t-i[o][0])/(i[r][0]-i[o][0])+i[o][1]&&(a=!a);return a}var i={};"undefined"!=typeof t&&t.exports&&(t.exports=i),i.lineStringsIntersect=function(e,t){for(var n=[],i=0;i<=e.coordinates.length-2;++i)for(var o=0;o<=t.coordinates.length-2;++o){var r={x:e.coordinates[i][1],y:e.coordinates[i][0]},a={x:e.coordinates[i+1][1],y:e.coordinates[i+1][0]},s={x:t.coordinates[o][1],y:t.coordinates[o][0]},l={x:t.coordinates[o+1][1],y:t.coordinates[o+1][0]},c=(l.x-s.x)*(r.y-s.y)-(l.y-s.y)*(r.x-s.x),u=(a.x-r.x)*(r.y-s.y)-(a.y-r.y)*(r.x-s.x),d=(l.y-s.y)*(a.x-r.x)-(l.x-s.x)*(a.y-r.y);if(0!=d){var h=c/d,f=u/d;h>=0&&1>=h&&f>=0&&1>=f&&n.push({type:"Point",coordinates:[r.x+h*(a.x-r.x),r.y+h*(a.y-r.y)]})}}return 0==n.length&&(n=!1),n},i.pointInBoundingBox=function(e,t){return!(e.coordinates[1]<t[0][0]||e.coordinates[1]>t[1][0]||e.coordinates[0]<t[0][1]||e.coordinates[0]>t[1][1])},i.pointInPolygon=function(t,o){for(var r="Polygon"==o.type?[o.coordinates]:o.coordinates,a=!1,s=0;s<r.length;s++)i.pointInBoundingBox(t,e(r[s]))&&(a=!0);if(!a)return!1;for(var l=!1,s=0;s<r.length;s++)n(t.coordinates[1],t.coordinates[0],r[s])&&(l=!0);return l},i.numberToRadius=function(e){return e*Math.PI/180},i.numberToDegree=function(e){return 180*e/Math.PI},i.drawCircle=function(e,t,n){for(var o=[t.coordinates[1],t.coordinates[0]],r=e/1e3/6371,a=[i.numberToRadius(o[0]),i.numberToRadius(o[1])],n=n||15,s=[[o[0],o[1]]],l=0;n>l;l++){var c=2*Math.PI*l/n,u=Math.asin(Math.sin(a[0])*Math.cos(r)+Math.cos(a[0])*Math.sin(r)*Math.cos(c)),d=a[1]+Math.atan2(Math.sin(c)*Math.sin(r)*Math.cos(a[0]),Math.cos(r)-Math.sin(a[0])*Math.sin(u));s[l]=[],s[l][1]=i.numberToDegree(u),s[l][0]=i.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},i.rectangleCentroid=function(e){var t=e.coordinates[0],n=t[0][0],i=t[0][1],o=t[2][0],r=t[2][1],a=o-n,s=r-i;return{type:"Point",coordinates:[n+a/2,i+s/2]}},i.pointDistance=function(e,t){var n=e.coordinates[0],o=e.coordinates[1],r=t.coordinates[0],a=t.coordinates[1],s=i.numberToRadius(a-o),l=i.numberToRadius(r-n),c=Math.pow(Math.sin(s/2),2)+Math.cos(i.numberToRadius(o))*Math.cos(i.numberToRadius(a))*Math.pow(Math.sin(l/2),2),u=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return 6371*u*1e3},i.geometryWithinRadius=function(e,t,n){if("Point"==e.type)return i.pointDistance(e,t)<=n;if("LineString"==e.type||"Polygon"==e.type){var o,r={};o="Polygon"==e.type?e.coordinates[0]:e.coordinates;for(var a in o)if(r.coordinates=o[a],i.pointDistance(r,t)>n)return!1}return!0},i.area=function(e){for(var t,n,i=0,o=e.coordinates[0],r=o.length-1,a=0;a<o.length;r=a++){var t={x:o[a][1],y:o[a][0]},n={x:o[r][1],y:o[r][0]};i+=t.x*n.y,i-=t.y*n.x}return i/=2},i.centroid=function(e){for(var t,n,o,r=0,a=0,s=e.coordinates[0],l=s.length-1,c=0;c<s.length;l=c++){var n={x:s[c][1],y:s[c][0]},o={x:s[l][1],y:s[l][0]};t=n.x*o.y-o.x*n.y,r+=(n.x+o.x)*t,a+=(n.y+o.y)*t}return t=6*i.area(e),{type:"Point",coordinates:[a/t,r/t]}},i.simplify=function(e,t){t=t||20,e=e.map(function(e){return{lng:e.coordinates[0],lat:e.coordinates[1]}});var n,i,o,r,a,s,l,c,u,d,h,f,p,g,m,v,_,y,b,w=Math.PI/180*.5,k=new Array,T=new Array,x=new Array;if(e.length<3)return e;for(n=e.length,d=360*t/(2*Math.PI*6378137),d*=d,o=0,T[0]=0,x[0]=n-1,i=1;i>0;)if(r=T[i-1],a=x[i-1],i--,a-r>1){for(h=e[a].lng()-e[r].lng(),f=e[a].lat()-e[r].lat(),Math.abs(h)>180&&(h=360-Math.abs(h)),h*=Math.cos(w*(e[a].lat()+e[r].lat())),p=h*h+f*f,s=r+1,l=r,u=-1;a>s;s++)g=e[s].lng()-e[r].lng(),m=e[s].lat()-e[r].lat(),Math.abs(g)>180&&(g=360-Math.abs(g)),g*=Math.cos(w*(e[s].lat()+e[r].lat())),v=g*g+m*m,_=e[s].lng()-e[a].lng(),y=e[s].lat()-e[a].lat(),Math.abs(_)>180&&(_=360-Math.abs(_)),_*=Math.cos(w*(e[s].lat()+e[a].lat())),b=_*_+y*y,c=v>=p+b?b:b>=p+v?v:(g*f-m*h)*(g*f-m*h)/p,c>u&&(l=s,u=c);d>u?(k[o]=r,o++):(i++,T[i-1]=l,x[i-1]=a,i++,T[i-1]=r,x[i-1]=l)}else k[o]=r,o++;k[o]=n-1,o++;for(var S=new Array,s=0;o>s;s++)S.push(e[k[s]]);return S.map(function(e){return{type:"Point",coordinates:[e.lng,e.lat]}})},i.destinationPoint=function(e,t,n){n/=6371,t=i.numberToRadius(t);var o=i.numberToRadius(e.coordinates[0]),r=i.numberToRadius(e.coordinates[1]),a=Math.asin(Math.sin(o)*Math.cos(n)+Math.cos(o)*Math.sin(n)*Math.cos(t)),s=r+Math.atan2(Math.sin(t)*Math.sin(n)*Math.cos(o),Math.cos(n)-Math.sin(o)*Math.sin(a));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[i.numberToDegree(a),i.numberToDegree(s)]}}}()}.call(this),function(){e=t.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:e}}(),function(){var e,t,n,i,o,r,a,s,l,c,u,d,h,f,p,g,m=Package.meteor.Meteor,v=Package.underscore._,_=Package.json.JSON,y=Package.ejson.EJSON,b=Package["id-map"].IdMap,w=Package["ordered-dict"].OrderedDict,k=Package.tracker.Tracker,T=(Package.tracker.Deps,Package.random.Random),x=Package["geojson-utils"].GeoJSON;(function(){e=function(t){var n=this;n.name=t,n._docs=new e._IdMap,n._observeQueue=new m._SynchronousQueue,n.next_qid=1,n.queries={},n._savedOriginals=null,n.paused=!1},t={},n={},e._applyChanges=function(e,t){v.each(t,function(t,n){void 0===t?delete e[n]:e[n]=t})},i=function(e){var t=new Error(e);return t.name="MinimongoError",t},e.prototype.find=function(t,n){return 0===arguments.length&&(t={}),new e.Cursor(this,t,n)},e.Cursor=function(n,i,o){var r=this;o||(o={}),r.collection=n,r.sorter=null,e._selectorIsId(i)?(r._selectorId=i,r.matcher=new t.Matcher(i,r)):(r._selectorId=void 0,r.matcher=new t.Matcher(i,r),(r.matcher.hasGeoQuery()||o.sort)&&(r.sorter=new t.Sorter(o.sort||[],{matcher:r.matcher}))),r.skip=o.skip,r.limit=o.limit,r.fields=o.fields,r.fields&&(r.projectionFn=e._compileProjection(r.fields)),r._transform=e.wrapTransform(o.transform),"undefined"!=typeof k&&(r.reactive=void 0===o.reactive?!0:o.reactive)},e.Cursor.prototype.rewind=function(){},e.prototype.findOne=function(e,t){return 0===arguments.length&&(e={}),t=t||{},t.limit=1,this.find(e,t).fetch()[0]},e.Cursor.prototype.forEach=function(e,t){var n=this,i=n._getRawObjects({ordered:!0});n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),v.each(i,function(i,o){i=n.projectionFn?n.projectionFn(i):y.clone(i),n._transform&&(i=n._transform(i)),e.call(t,i,o,n)})},e.Cursor.prototype.getTransform=function(){return this._transform},e.Cursor.prototype.map=function(e,t){var n=this,i=[];return n.forEach(function(o,r){i.push(e.call(t,o,r,n))}),i},e.Cursor.prototype.fetch=function(){var e=this,t=[];return e.forEach(function(e){t.push(e)}),t},e.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},e.Cursor.prototype._publishCursor=function(e){var t=this;if(!t.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var n=t.collection.name;return Mongo.Collection._publishCursor(t,e,n)},e.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},e._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},e._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},e.ObserveHandle=function(){},v.extend(e.Cursor.prototype,{observe:function(t){var n=this;return e._observeFromObserveChanges(n,t)},observeChanges:function(t){var n=this,i=e._observeChangesCallbacksAreOrdered(t);if(!t._allow_unordered&&!i&&(n.skip||n.limit))throw new Error("must use ordered observe with skip or limit");if(n.fields&&(0===n.fields._id||n.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var o,r={matcher:n.matcher,sorter:i&&n.sorter,distances:n.matcher.hasGeoQuery()&&i&&new e._IdMap,resultsSnapshot:null,ordered:i,cursor:n,projectionFn:n.projectionFn};n.reactive&&(o=n.collection.next_qid++,n.collection.queries[o]=r),r.results=n._getRawObjects({ordered:i,distances:r.distances}),n.collection.paused&&(r.resultsSnapshot=i?[]:new e._IdMap);var a=function(e,t,i){return e?function(){var o=this,r=arguments;n.collection.paused||void 0!==t&&n.projectionFn&&(r[t]=n.projectionFn(r[t]),i&&v.isEmpty(r[t]))||n.collection._observeQueue.queueTask(function(){e.apply(o,r)})}:function(){}};if(r.added=a(t.added,1),r.changed=a(t.changed,1,!0),r.removed=a(t.removed),i&&(r.addedBefore=a(t.addedBefore,1),r.movedBefore=a(t.movedBefore)),!t._suppress_initial&&!n.collection.paused){var s=i?v.bind(v.each,null,r.results):v.bind(r.results.forEach,r.results);s(function(e){var t=y.clone(e);delete t._id,i&&r.addedBefore(e._id,t,null),r.added(e._id,t)})}var l=new e.ObserveHandle;return v.extend(l,{collection:n.collection,stop:function(){n.reactive&&delete n.collection.queries[o]}}),n.reactive&&k.active&&k.onInvalidate(function(){l.stop()}),n.collection._observeQueue.drain(),l}}),e.Cursor.prototype._getRawObjects=function(t){var n=this;t=t||{};var i=t.ordered?[]:new e._IdMap;if(void 0!==n._selectorId){if(n.skip)return i;var o=n.collection._docs.get(n._selectorId);return o&&(t.ordered?i.push(o):i.set(n._selectorId,o)),i}var r;if(n.matcher.hasGeoQuery()&&t.ordered&&(t.distances?(r=t.distances,r.clear()):r=new e._IdMap),n.collection._docs.forEach(function(e,o){var a=n.matcher.documentMatches(e);return a.result&&(t.ordered?(i.push(e),r&&void 0!==a.distance&&r.set(o,a.distance)):i.set(o,e)),!n.limit||n.skip||n.sorter||i.length!==n.limit?!0:!1}),!t.ordered)return i;if(n.sorter){var a=n.sorter.getComparator({distances:r});
i.sort(a)}var s=n.skip||0,l=n.limit?n.limit+s:i.length;return i.slice(s,l)},e.Cursor.prototype._depend=function(e,t){var n=this;if(k.active){var i=new k.Dependency;i.depend();var o=v.bind(i.changed,i),r={_suppress_initial:!0,_allow_unordered:t};v.each(["added","changed","removed","addedBefore","movedBefore"],function(t){e[t]&&(r[t]=o)}),n.observeChanges(r)}},e.prototype.insert=function(t,n){var o=this;t=y.clone(t),v.has(t,"_id")||(t._id=e._useOID?new e._ObjectID:T.id());var r=t._id;if(o._docs.has(r))throw i("Duplicate _id '"+r+"'");o._saveOriginal(r,void 0),o._docs.set(r,t);var a=[];for(var s in o.queries){var l=o.queries[s],c=l.matcher.documentMatches(t);c.result&&(l.distances&&void 0!==c.distance&&l.distances.set(r,c.distance),l.cursor.skip||l.cursor.limit?a.push(s):e._insertInResults(l,t))}return v.each(a,function(t){o.queries[t]&&e._recomputeResults(o.queries[t])}),o._observeQueue.drain(),n&&m.defer(function(){n(null,r)}),r},e.prototype._eachPossiblyMatchingDoc=function(t,n){var i=this,o=e._idsMatchedBySelector(t);if(o)for(var r=0;r<o.length;++r){var a=o[r],s=i._docs.get(a);if(s){var l=n(s,a);if(l===!1)break}}else i._docs.forEach(n)},e.prototype.remove=function(n,i){var o=this;if(o.paused&&!o._savedOriginals&&y.equals(n,{})){var r=o._docs.size();return o._docs.clear(),v.each(o.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),i&&m.defer(function(){i(null,r)}),r}var a=new t.Matcher(n,o),s=[];o._eachPossiblyMatchingDoc(n,function(e,t){a.documentMatches(e).result&&s.push(t)});for(var l=[],c=[],u=0;u<s.length;u++){var d=s[u],h=o._docs.get(d);v.each(o.queries,function(e,t){e.matcher.documentMatches(h).result&&(e.cursor.skip||e.cursor.limit?l.push(t):c.push({qid:t,doc:h}))}),o._saveOriginal(d,h),o._docs.remove(d)}return v.each(c,function(t){var n=o.queries[t.qid];n&&(n.distances&&n.distances.remove(t.doc._id),e._removeFromResults(n,t.doc))}),v.each(l,function(t){var n=o.queries[t];n&&e._recomputeResults(n)}),o._observeQueue.drain(),r=s.length,i&&m.defer(function(){i(null,r)}),r},e.prototype.update=function(n,i,o,r){var a=this;!r&&o instanceof Function&&(r=o,o=null),o||(o={});var s=new t.Matcher(n,a),l={};v.each(a.queries,function(e,t){!e.cursor.skip&&!e.cursor.limit||e.paused||(l[t]=y.clone(e.results))});var c={},u=0;a._eachPossiblyMatchingDoc(n,function(e,t){var n=s.documentMatches(e);return n.result&&(a._saveOriginal(t,e),a._modifyAndNotify(e,i,c,n.arrayIndices),++u,!o.multi)?!1:!0}),v.each(c,function(t,n){var i=a.queries[n];i&&e._recomputeResults(i,l[n])}),a._observeQueue.drain();var d;if(0===u&&o.upsert){var h=e._removeDollarOperators(n);e._modify(h,i,{isInsert:!0}),!h._id&&o.insertedId&&(h._id=o.insertedId),d=a.insert(h),u=1}var f;return o._returnObject?(f={numberAffected:u},void 0!==d&&(f.insertedId=d)):f=u,r&&m.defer(function(){r(null,f)}),f},e.prototype.upsert=function(e,t,n,i){var o=this;return i||"function"!=typeof n||(i=n,n={}),o.update(e,t,v.extend({},n,{upsert:!0,_returnObject:!0}),i)},e.prototype._modifyAndNotify=function(t,n,i,o){var r=this,a={};for(var s in r.queries){var l=r.queries[s];a[s]=l.ordered?l.matcher.documentMatches(t).result:l.results.has(t._id)}var c=y.clone(t);e._modify(t,n,{arrayIndices:o});for(s in r.queries){l=r.queries[s];var u=a[s],d=l.matcher.documentMatches(t),h=d.result;h&&l.distances&&void 0!==d.distance&&l.distances.set(t._id,d.distance),l.cursor.skip||l.cursor.limit?(u||h)&&(i[s]=!0):u&&!h?e._removeFromResults(l,t):!u&&h?e._insertInResults(l,t):u&&h&&e._updateInResults(l,t,c)}},e._insertInResults=function(t,n){var i=y.clone(n);if(delete i._id,t.ordered){if(t.sorter){var o=e._insertInSortedList(t.sorter.getComparator({distances:t.distances}),t.results,n),r=t.results[o+1];r=r?r._id:null,t.addedBefore(n._id,i,r)}else t.addedBefore(n._id,i,null),t.results.push(n);t.added(n._id,i)}else t.added(n._id,i),t.results.set(n._id,n)},e._removeFromResults=function(t,n){if(t.ordered){var i=e._findInOrderedResults(t,n);t.removed(n._id),t.results.splice(i,1)}else{var o=n._id;t.removed(n._id),t.results.remove(o)}},e._updateInResults=function(t,n,i){if(!y.equals(n._id,i._id))throw new Error("Can't change a doc's _id while updating");var o=e._makeChangedFields(n,i);if(!t.ordered)return void(v.isEmpty(o)||(t.changed(n._id,o),t.results.set(n._id,n)));var r=e._findInOrderedResults(t,n);if(v.isEmpty(o)||t.changed(n._id,o),t.sorter){t.results.splice(r,1);var a=e._insertInSortedList(t.sorter.getComparator({distances:t.distances}),t.results,n);if(r!==a){var s=t.results[a+1];s=s?s._id:null,t.movedBefore&&t.movedBefore(n._id,s)}}},e._recomputeResults=function(t,n){n||(n=t.results),t.distances&&t.distances.clear(),t.results=t.cursor._getRawObjects({ordered:t.ordered,distances:t.distances}),t.paused||e._diffQueryChanges(t.ordered,n,t.results,t)},e._findInOrderedResults=function(e,t){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var n=0;n<e.results.length;n++)if(e.results[n]===t)return n;throw Error("object missing from query")},e._binarySearch=function(e,t,n){for(var i=0,o=t.length;o>0;){var r=Math.floor(o/2);e(n,t[i+r])>=0?(i+=r+1,o-=r+1):o=r}return i},e._insertInSortedList=function(t,n,i){if(0===n.length)return n.push(i),0;var o=e._binarySearch(t,n,i);return n.splice(o,0,i),o},e.prototype.saveOriginals=function(){var t=this;if(t._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");t._savedOriginals=new e._IdMap},e.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var t=e._savedOriginals;return e._savedOriginals=null,t},e.prototype._saveOriginal=function(e,t){var n=this;n._savedOriginals&&(n._savedOriginals.has(e)||n._savedOriginals.set(e,y.clone(t)))},e.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var t=this.queries[e];t.resultsSnapshot=y.clone(t.results)}}},e.prototype.resumeObservers=function(){var t=this;if(this.paused){this.paused=!1;for(var n in this.queries){var i=t.queries[n];e._diffQueryChanges(i.ordered,i.resultsSnapshot,i.results,i),i.resultsSnapshot=null}t._observeQueue.drain()}},e._idStringify=function(t){if(t instanceof e._ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||e._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+_.stringify(t)},e._idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?_.parse(t.substr(1)):e._looksLikeObjectID(t)?new e._ObjectID(t):t},e._makeChangedFields=function(t,n){var i={};return e._diffObjects(n,t,{leftOnly:function(e){i[e]=void 0},rightOnly:function(e,t){i[e]=t},both:function(e,t,n){y.equals(t,n)||(i[e]=n)}}),i}}).call(this),function(){e.wrapTransform=function(e){return e?function(t){if(!v.has(t,"_id"))throw new Error("can only transform documents with _id");var n=t._id,i=k.nonreactive(function(){return e(t)});if(!r(i))throw new Error("transform must return object");if(v.has(i,"_id")){if(!y.equals(i._id,n))throw new Error("transformed document can't have different _id")}else i._id=n;return i}:null}}.call(this),function(){o=function(e){return v.isArray(e)&&!y.isBinary(e)},r=e._isPlainObject=function(t){return t&&3===e._f._type(t)},a=function(e){return o(e)||r(e)},s=function(e,t){if(!r(e))return!1;var n=void 0;return v.each(e,function(i,o){var r="$"===o.substr(0,1);if(void 0===n)n=r;else if(n!==r){if(!t)throw new Error("Inconsistent operator: "+_.stringify(e));n=!1}}),!!n},l=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){t.Matcher=function(e){var t=this;t._paths={},t._hasGeoQuery=!1,t._hasWhere=!1,t._isSimple=!0,t._matchingDocument=void 0,t._selector=null,t._docMatcher=t._compileSelector(e)},v.extend(t.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(t){var n=this;if(t instanceof Function)return n._isSimple=!1,n._selector=t,n._recordPathUsed(""),function(e){return{result:!!t.call(e)}};if(e._selectorIsId(t))return n._selector={_id:t},n._recordPathUsed("_id"),function(e){return{result:y.equals(e._id,t)}};if(!t||"_id"in t&&!t._id)return n._isSimple=!1,E;if("boolean"==typeof t||o(t)||y.isBinary(t))throw new Error("Invalid selector: "+t);return n._selector=y.clone(t),i(t,n,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return v.keys(this._paths)}});var i=function(e,t,n){n=n||{};var i=[];return v.each(e,function(e,o){if("$"===o.substr(0,1)){if(!v.has(b,o))throw new Error("Unrecognized logical operator: "+o);t._isSimple=!1,i.push(b[o](e,t,n.inElemMatch))}else{n.inElemMatch||t._recordPathUsed(o);var r=h(o),a=p(e,t,n.isRoot);i.push(function(e){var t=r(e);return a(t)})}}),D(i)},p=function(e,t,n){return e instanceof RegExp?(t._isSimple=!1,g(c(e))):s(e)?m(e,t,n):g(u(e))},g=function(e,t){return t=t||{},function(n){var i=n;t.dontExpandLeafArrays||(i=f(n,t.dontIncludeLeafArrays));var o={};return o.result=v.any(i,function(t){var n=e(t.value);return"number"==typeof n&&(t.arrayIndices||(t.arrayIndices=[n]),n=!0),n&&t.arrayIndices&&(o.arrayIndices=t.arrayIndices),n}),o}};c=function(e){return function(t){return t instanceof RegExp?v.isEqual(t,e):"string"!=typeof t?!1:e.test(t)}},u=function(t){if(s(t))throw Error("Can't create equalityValueSelector for operator object");return null==t?function(e){return null==e}:function(n){return e._f._equal(t,n)}};var m=function(e,t,n){var i=[];return v.each(e,function(o,r){var a=v.contains(["$lt","$lte","$gt","$gte"],r)&&v.isNumber(o),s="$ne"===r&&!v.isObject(o),l=v.contains(["$in","$nin"],r)&&v.isArray(o)&&!v.any(o,v.isObject);if("$eq"===r||a||l||s||(t._isSimple=!1),v.has(k,r))i.push(k[r](o,e,t,n));else{if(!v.has(d,r))throw new Error("Unrecognized operator: "+r);var c=d[r];i.push(g(c.compileElementSelector(o,e,t),c))}}),I(i)},_=function(e,t,n){if(!o(e)||v.isEmpty(e))throw Error("$and/$or/$nor must be nonempty array");return v.map(e,function(e){if(!r(e))throw Error("$or/$and/$nor entries need to be full objects");return i(e,t,{inElemMatch:n})})},b={$and:function(e,t,n){var i=_(e,t,n);return D(i)},$or:function(e,t,n){var i=_(e,t,n);return 1===i.length?i[0]:function(e){var t=v.any(i,function(t){return t(e).result});return{result:t}}},$nor:function(e,t,n){var i=_(e,t,n);return function(e){var t=v.all(i,function(t){return!t(e).result});return{result:t}}},$where:function(e,t){return t._recordPathUsed(""),t._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(t){return{result:e.call(t,t)}}},$comment:function(){return function(){return{result:!0}}}},w=function(e){return function(t){var n=e(t);return{result:!n.result}}},k={$not:function(e,t,n){return w(p(e,n))},$ne:function(e){return w(g(u(e)))},$nin:function(e){return w(g(d.$in.compileElementSelector(e)))},$exists:function(e){var t=g(function(e){return void 0!==e});return e?t:w(t)},$options:function(e,t){if(!v.has(t,"$regex"))throw Error("$options needs a $regex");return P},$maxDistance:function(e,t){if(!t.$near)throw Error("$maxDistance needs a $near");return P},$all:function(e,t,n){if(!o(e))throw Error("$all requires array");if(v.isEmpty(e))return E;var i=[];return v.each(e,function(e){if(s(e))throw Error("no $ expressions in $all");i.push(p(e,n))}),I(i)},$near:function(e,t,n,i){if(!i)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var a,s,l;if(r(e)&&v.has(e,"$geometry"))a=e.$maxDistance,s=e.$geometry,l=function(e){return e&&e.type?"Point"===e.type?x.pointDistance(s,e):x.geometryWithinRadius(e,s,a)?0:a+1:null};else{if(a=t.$maxDistance,!o(e)&&!r(e))throw Error("$near argument must be coordinate pair or GeoJSON");s=S(e),l=function(e){return o(e)||r(e)?T(s,e):null}}return function(e){e=f(e);var t={result:!1};return v.each(e,function(e){var n=l(e.value);null===n||n>a||void 0!==t.distance&&t.distance<=n||(t.result=!0,t.distance=n,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices)}),t}}},T=function(e,t){e=S(e),t=S(t);var n=e[0]-t[0],i=e[1]-t[1];return v.isNaN(n)||v.isNaN(i)?null:Math.sqrt(n*n+i*i)},S=function(e){return v.map(e,v.identity)},C=function(t){return{compileElementSelector:function(n){if(o(n))return function(){return!1};void 0===n&&(n=null);var i=e._f._type(n);return function(o){return void 0===o&&(o=null),e._f._type(o)!==i?!1:t(e._f._cmp(o,n))}}}};d={$lt:C(function(e){return 0>e}),$gt:C(function(e){return e>0}),$lte:C(function(e){return 0>=e}),$gte:C(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!o(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var t=e[0],n=e[1];return function(e){return"number"==typeof e&&e%t===n}}},$in:{compileElementSelector:function(e){if(!o(e))throw Error("$in needs an array");var t=[];return v.each(e,function(e){if(e instanceof RegExp)t.push(c(e));else{if(s(e))throw Error("cannot nest $ under $in");t.push(u(e))}}),function(e){return void 0===e&&(e=null),v.any(t,function(t){return t(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(t){return o(t)&&t.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(t){if("number"!=typeof t)throw Error("$type needs a number");return function(n){return void 0!==n&&e._f._type(n)===t}}},$regex:{compileElementSelector:function(e,t){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var n;if(void 0!==t.$options){if(/[^gim]/.test(t.$options))throw new Error("Only the i, m, and g regexp options are supported");var i=e instanceof RegExp?e.source:e;n=new RegExp(i,t.$options)}else n=e instanceof RegExp?e:new RegExp(e);return c(n)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(e,t,n){if(!r(e))throw Error("$elemMatch need an object");var a,l;return s(e,!0)?(a=p(e,n),l=!1):(a=i(e,n,{inElemMatch:!0}),l=!0),function(e){if(!o(e))return!1;for(var t=0;t<e.length;++t){var n,i=e[t];if(l){if(!r(i)&&!o(i))return!1;n=i}else n=[{value:i,dontIterate:!0}];if(a(n).result)return t}return!1}}}},h=function(e,t){t=t||{};var n,i=e.split("."),s=i.length?i[0]:"",c=l(s),u=i.length>=2&&l(i[1]);i.length>1&&(n=h(i.slice(1).join(".")));var d=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,i){if(i||(i=[]),o(e)){if(!(c&&s<e.length))return[];i=i.concat(+s,"x")}var l=e[s];if(!n)return[d({value:l,dontIterate:o(e)&&o(l),arrayIndices:i})];if(!a(l))return o(e)?[]:[d({value:void 0,arrayIndices:i})];var h=[],f=function(e){Array.prototype.push.apply(h,e)};return f(n(l,i)),!o(l)||u&&t.forSort||v.each(l,function(e,t){r(e)&&f(n(e,i.concat(t)))}),h}},n.makeLookupFunction=h,f=function(e,t){var n=[];return v.each(e,function(e){var i=o(e.value);t&&i&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),i&&!e.dontIterate&&v.each(e.value,function(t,i){n.push({value:t,arrayIndices:(e.arrayIndices||[]).concat(i)})})}),n};var E=function(){return{result:!1}},P=function(){return{result:!0}},M=function(e){return 0===e.length?P:1===e.length?e[0]:function(t){var n={};return n.result=v.all(e,function(e){var i=e(t);return i.result&&void 0!==i.distance&&void 0===n.distance&&(n.distance=i.distance),i.result&&i.arrayIndices&&(n.arrayIndices=i.arrayIndices),i.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},D=M,I=M;e._f={_type:function(t){return"number"==typeof t?1:"string"==typeof t?2:"boolean"==typeof t?8:o(t)?4:null===t?10:t instanceof RegExp?11:"function"==typeof t?13:t instanceof Date?9:y.isBinary(t)?5:t instanceof e._ObjectID?7:3},_equal:function(e,t){return y.equals(e,t,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(t,n){if(void 0===t)return void 0===n?0:-1;if(void 0===n)return 1;var i=e._f._type(t),o=e._f._type(n),r=e._f._typeorder(i),a=e._f._typeorder(o);if(r!==a)return a>r?-1:1;if(i!==o)throw Error("Missing type coercion logic in _cmp");if(7===i&&(i=o=2,t=t.toHexString(),n=n.toHexString()),9===i&&(i=o=1,t=t.getTime(),n=n.getTime()),1===i)return t-n;if(2===o)return n>t?-1:t===n?0:1;if(3===i){var s=function(e){var t=[];for(var n in e)t.push(n),t.push(e[n]);return t};return e._f._cmp(s(t),s(n))}if(4===i)for(var l=0;;l++){if(l===t.length)return l===n.length?0:-1;if(l===n.length)return 1;var c=e._f._cmp(t[l],n[l]);if(0!==c)return c}if(5===i){if(t.length!==n.length)return t.length-n.length;for(l=0;l<t.length;l++){if(t[l]<n[l])return-1;if(t[l]>n[l])return 1}return 0}if(8===i)return t?n?0:1:n?-1:0;if(10===i)return 0;if(11===i)throw Error("Sorting not supported on regular expression");if(13===i)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},e._removeDollarOperators=function(e){var t={};for(var n in e)"$"!==n.substr(0,1)&&(t[n]=e[n]);return t}}.call(this),function(){t.Sorter=function(e,i){var o=this;i=i||{},o._sortSpecParts=[];var r=function(e,t){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);o._sortSpecParts.push({path:e,lookup:h(e,{forSort:!0}),ascending:t})};if(e instanceof Array)for(var a=0;a<e.length;a++)"string"==typeof e[a]?r(e[a],!0):r(e[a][0],"desc"!==e[a][1]);else{if("object"!=typeof e)throw Error("Bad sort specification: "+_.stringify(e));v.each(e,function(e,t){r(t,e>=0)})}if(o.affectedByModifier){var s={};v.each(o._sortSpecParts,function(e){s[e.path]=1}),o._selectorForAffectedByModifier=new t.Matcher(s)}o._keyComparator=n(v.map(o._sortSpecParts,function(e,t){return o._keyFieldComparator(t)})),o._keyFilter=null,i.matcher&&o._useWithMatcher(i.matcher)},v.extend(t.Sorter.prototype,{getComparator:function(e){var t=this;if(!e||!e.distances)return t._getBaseComparator();var i=e.distances;return n([t._getBaseComparator(),function(e,t){if(!i.has(e._id))throw Error("Missing distance for "+e._id);if(!i.has(t._id))throw Error("Missing distance for "+t._id);return i.get(e._id)-i.get(t._id)}])},_getPaths:function(){var e=this;return v.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var t=this,n=null;if(t._generateKeysFromDoc(e,function(e){return t._keyCompatibleWithSelector(e)?null===n?void(n=e):void(t._compareKeys(e,n)<0&&(n=e)):void 0}),null===n)throw Error("sort selector found no keys in doc?");return n},_keyCompatibleWithSelector:function(e){var t=this;return!t._keyFilter||t._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(0===n._sortSpecParts.length)throw new Error("can't generate keys without a spec");var i=[],o=function(e){return e.join(",")+","},r=null;if(v.each(n._sortSpecParts,function(t,n){var a=f(t.lookup(e),!0);a.length||(a=[{value:null}]);var s=!1;if(i[n]={},v.each(a,function(e){if(!e.arrayIndices){if(a.length>1)throw Error("multiple branches but no array used?");return void(i[n][""]=e.value)}s=!0;var t=o(e.arrayIndices);if(v.has(i[n],t))throw Error("duplicate path: "+t);if(i[n][t]=e.value,r&&!v.has(r,t))throw Error("cannot index parallel arrays")}),r){if(!v.has(i[n],"")&&v.size(r)!==v.size(i[n]))throw Error("cannot index parallel arrays!")}else s&&(r={},v.each(i[n],function(e,t){r[t]=!0}))}),!r){var a=v.map(i,function(e){if(!v.has(e,""))throw Error("no value in sole key case?");return e[""]});return void t(a)}v.each(r,function(e,n){var o=v.map(i,function(e){if(v.has(e,""))return e[""];if(!v.has(e,n))throw Error("missing path?");return e[n]});t(o)})},_compareKeys:function(e,t){var n=this;if(e.length!==n._sortSpecParts.length||t.length!==n._sortSpecParts.length)throw Error("Key has wrong length");return n._keyComparator(e,t)},_keyFieldComparator:function(t){var n=this,i=!n._sortSpecParts[t].ascending;return function(n,o){var r=e._f._cmp(n[t],o[t]);return i&&(r=-r),r}},_getBaseComparator:function(){var e=this;return e._sortSpecParts.length?function(t,n){var i=e._getMinKeyFromDoc(t),o=e._getMinKeyFromDoc(n);return e._compareKeys(i,o)}:function(){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(!v.isEmpty(t._sortSpecParts)){var n=e._selector;if(!(n instanceof Function)){var i={};v.each(t._sortSpecParts,function(e){i[e.path]=[]}),v.each(n,function(e,t){var n=i[t];if(n){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void n.push(c(e))}return s(e)?void v.each(e,function(t,i){v.contains(["$lt","$lte","$gt","$gte"],i)&&n.push(d[i].compileElementSelector(t)),"$regex"!==i||e.$options||n.push(d.$regex.compileElementSelector(t,e))}):void n.push(u(e))}}),v.isEmpty(i[t._sortSpecParts[0].path])||(t._keyFilter=function(e){return v.all(t._sortSpecParts,function(t,n){return v.all(i[t.path],function(t){return t(e[n])})})})}}}});var n=function(e){return function(t,n){for(var i=0;i<e.length;++i){var o=e[i](t,n);if(0!==o)return o}return 0}}}.call(this),function(){e._compileProjection=function(t){e._checkSupportedProjection(t);var n=v.isUndefined(t._id)?!0:t._id,i=p(t),o=function(e,t){if(v.isArray(e))return v.map(e,function(e){return o(e,t)});var n=i.including?{}:y.clone(e);return v.each(t,function(t,r){v.has(e,r)&&(v.isObject(t)?v.isObject(e[r])&&(n[r]=o(e[r],t)):i.including?n[r]=y.clone(e[r]):delete n[r])}),n};return function(e){var t=o(e,i.tree);return n&&v.has(e,"_id")&&(t._id=e._id),!n&&v.has(t,"_id")&&delete t._id,t}},p=function(e){var t=v.keys(e).sort();t.length>0&&(1!==t.length||"_id"!==t[0])&&(t=v.reject(t,function(e){return"_id"===e}));var n=null;v.each(t,function(t){var o=!!e[t];if(null===n&&(n=o),n!==o)throw i("You cannot currently mix including and excluding fields.")});var o=g(t,function(){return n},function(e,t,n){var o=n,r=t;throw i("both "+o+" and "+r+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},g=function(e,t,n,i){return i=i||{},v.each(e,function(e){var o=i,r=e.split("."),a=v.all(r.slice(0,-1),function(t,i){if(v.has(o,t)){if(!v.isObject(o[t])&&(o[t]=n(o[t],r.slice(0,i+1).join("."),e),!v.isObject(o[t])))return!1}else o[t]={};return o=o[t],!0});if(a){var s=v.last(r);o[s]=v.has(o,s)?n(o[s],e,e):t(e)}}),i},e._checkSupportedProjection=function(e){if(!v.isObject(e)||v.isArray(e))throw i("fields option must be an object");v.each(e,function(e,t){if(v.contains(t.split("."),"$"))throw i("Minimongo doesn't support $ operator in projections yet.");if(-1===v.indexOf([1,0,!0,!1],e))throw i("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){e._modify=function(e,t,a){if(a=a||{},!r(t))throw i("Modifier must be an object");var l,u=s(t);if(u)l=y.clone(e),v.each(t,function(e,t){var r=c[t];if(a.isInsert&&"$setOnInsert"===t&&(r=c.$set),!r)throw i("Invalid modifier specified "+t);v.each(e,function(e,s){if(s.length&&"."===s[s.length-1])throw i("Invalid mod field name, may not end in a period");if("_id"===s)throw i("Mod on _id not allowed");var c=s.split("."),u=(v.has(o,t),n(l,c,{noCreate:o[t],forbidArray:"$rename"===t,arrayIndices:a.arrayIndices})),d=c.pop();r(u,d,e,s,l)})});else{if(t._id&&!y.equals(e._id,t._id))throw i("Cannot change the _id of a document");for(var d in t)if(/\./.test(d))throw i("When replacing document, field name may not contain '.'");l=t}v.each(v.keys(e),function(t){("_id"!==t||a.isInsert)&&delete e[t]}),v.each(l,function(t,n){e[n]=t})};var n=function(e,t,n){n=n||{};for(var o=!1,r=0;r<t.length;r++){var s=r===t.length-1,c=t[r],u=a(e);if(!u){if(n.noCreate)return void 0;var d=i("cannot use the part '"+c+"' to traverse "+e);throw d.setPropertyError=!0,d}if(e instanceof Array){if(n.forbidArray)return null;if("$"===c){if(o)throw i("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw i("The positional operator did not find the match needed from the query");c=n.arrayIndices[0],o=!0}else{if(!l(c)){if(n.noCreate)return void 0;throw i("can't append to array using string field name ["+c+"]")}c=parseInt(c)}if(s&&(t[r]=c),n.noCreate&&c>=e.length)return void 0;for(;e.length<c;)e.push(null);if(!s)if(e.length===c)e.push({});else if("object"!=typeof e[c])throw i("can't modify field '"+t[r+1]+"' of list value "+_.stringify(e[c]))}else{if(c.length&&"$"===c.substr(0,1))throw i("can't set field named "+c);if(!(c in e)){if(n.noCreate)return void 0;s||(e[c]={})}}if(s)return e;e=e[c]}},o={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},c={$inc:function(e,t,n){if("number"!=typeof n)throw i("Modifier $inc allowed for numbers only");if(t in e){if("number"!=typeof e[t])throw i("Cannot apply $inc modifier to non-number");e[t]+=n}else e[t]=n},$set:function(e,t,n){if(!v.isObject(e)){var o=i("Cannot set property on non-object field");throw o.setPropertyError=!0,o}if(null===e){var o=i("Cannot set property on null");throw o.setPropertyError=!0,o}e[t]=y.clone(n)},$setOnInsert:function(){},$unset:function(e,t){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(n,o,r){if(void 0===n[o]&&(n[o]=[]),!(n[o]instanceof Array))throw i("Cannot apply $push modifier to non-array");if(!r||!r.$each)return void n[o].push(y.clone(r));var a=r.$each;if(!(a instanceof Array))throw i("$each must be an array");var s=void 0;if("$slice"in r){if("number"!=typeof r.$slice)throw i("$slice must be a numeric value");if(r.$slice>0)throw i("$slice in $push must be zero or negative");s=r.$slice}var l=void 0;if(r.$sort){if(void 0===s)throw i("$sort requires $slice to be present");l=new t.Sorter(r.$sort).getComparator();for(var c=0;c<a.length;c++)if(3!==e._f._type(a[c]))throw i("$push like modifiers using $sort require all elements to be objects")}for(var u=0;u<a.length;u++)n[o].push(y.clone(a[u]));l&&n[o].sort(l),void 0!==s&&(n[o]=0===s?[]:n[o].slice(s))},$pushAll:function(e,t,n){if(!("object"==typeof n&&n instanceof Array))throw i("Modifier $pushAll/pullAll allowed for arrays only");var o=e[t];if(void 0===o)e[t]=n;else{if(!(o instanceof Array))throw i("Cannot apply $pushAll modifier to non-array");for(var r=0;r<n.length;r++)o.push(n[r])}},$addToSet:function(t,n,o){var r=t[n];if(void 0===r)t[n]=[o];else{if(!(r instanceof Array))throw i("Cannot apply $addToSet modifier to non-array");var a=!1;if("object"==typeof o)for(var s in o){"$each"===s&&(a=!0);break}var l=a?o.$each:[o];v.each(l,function(t){for(var n=0;n<r.length;n++)if(e._f._equal(t,r[n]))return;r.push(y.clone(t))})}},$pop:function(e,t,n){if(void 0!==e){var o=e[t];if(void 0!==o){if(!(o instanceof Array))throw i("Cannot apply $pop modifier to non-array");"number"==typeof n&&0>n?o.splice(0,1):o.pop()}}},$pull:function(n,o,r){if(void 0!==n){var a=n[o];if(void 0!==a){if(!(a instanceof Array))throw i("Cannot apply $pull/pullAll modifier to non-array");var s=[];if("object"!=typeof r||r instanceof Array)for(var l=0;l<a.length;l++)e._f._equal(a[l],r)||s.push(a[l]);else for(var c=new t.Matcher(r),l=0;l<a.length;l++)c.documentMatches(a[l]).result||s.push(a[l]);n[o]=s}}},$pullAll:function(t,n,o){if(!("object"==typeof o&&o instanceof Array))throw i("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==t){var r=t[n];if(void 0!==r){if(!(r instanceof Array))throw i("Cannot apply $pull/pullAll modifier to non-array");for(var a=[],s=0;s<r.length;s++){for(var l=!1,c=0;c<o.length;c++)if(e._f._equal(r[s],o[c])){l=!0;break}l||a.push(r[s])}t[n]=a}}},$rename:function(e,t,o,r,a){if(r===o)throw i("$rename source must differ from target");if(null===e)throw i("$rename source field invalid");if("string"!=typeof o)throw i("$rename target must be a string");if(void 0!==e){var s=e[t];delete e[t];var l=o.split("."),c=n(a,l,{forbidArray:!0});if(null===c)throw i("$rename target field invalid");var u=l.pop();c[u]=s}},$bit:function(){throw i("$bit is not supported")}}}.call(this),function(){e._diffQueryChanges=function(t,n,i,o){t?e._diffQueryOrderedChanges(n,i,o):e._diffQueryUnorderedChanges(n,i,o)},e._diffQueryUnorderedChanges=function(t,n,i){if(i.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach(function(n,o){var r=t.get(o);if(r)i.changed&&!y.equals(r,n)&&i.changed(o,e._makeChangedFields(n,r));else if(i.added){var a=y.clone(n);delete a._id,i.added(n._id,a)}}),i.removed&&t.forEach(function(e,t){n.has(t)||i.removed(t)})},e._diffQueryOrderedChanges=function(t,n,i){var o={};v.each(n,function(e){o[e._id]&&m._debug("Duplicate _id in new_results"),o[e._id]=!0});var r={};v.each(t,function(e,t){e._id in r&&m._debug("Duplicate _id in old_results"),r[e._id]=t});for(var a=[],s=0,l=n.length,c=new Array(l),u=new Array(l),d=function(e){return r[n[e]._id]},h=0;l>h;h++)if(void 0!==r[n[h]._id]){for(var f=s;f>0&&!(d(c[f-1])<d(h));)f--;u[h]=0===f?-1:c[f-1],c[f]=h,f+1>s&&(s=f+1)}for(var p=0===s?-1:c[s-1];p>=0;)a.push(p),p=u[p];a.reverse(),a.push(n.length),v.each(t,function(e){o[e._id]||i.removed&&i.removed(e._id)});var g=0;v.each(a,function(o){for(var a,s,l,c=n[o]?n[o]._id:null,u=g;o>u;u++)s=n[u],v.has(r,s._id)?(a=t[r[s._id]],l=e._makeChangedFields(s,a),v.isEmpty(l)||i.changed&&i.changed(s._id,l),i.movedBefore&&i.movedBefore(s._id,c)):(l=y.clone(s),delete l._id,i.addedBefore&&i.addedBefore(s._id,l,c),i.added&&i.added(s._id,l));c&&(s=n[o],a=t[r[s._id]],l=e._makeChangedFields(s,a),v.isEmpty(l)||i.changed&&i.changed(s._id,l)),g=o+1})},e._diffObjects=function(e,t,n){v.each(e,function(e,i){v.has(t,i)?n.both&&n.both(i,e,t[i]):n.leftOnly&&n.leftOnly(i,e)}),n.rightOnly&&v.each(t,function(t,i){v.has(e,i)||n.rightOnly(i,t)})}}.call(this),function(){e._IdMap=function(){var t=this;b.call(t,e._idStringify,e._idParse)},m._inherits(e._IdMap,b)}.call(this),function(){e._CachingChangeObserver=function(t){var n=this;t=t||{};var i=t.callbacks&&e._observeChangesCallbacksAreOrdered(t.callbacks);if(v.has(t,"ordered")){if(n.ordered=t.ordered,t.callbacks&&t.ordered!==i)throw Error("ordered option doesn't match callbacks")}else{if(!t.callbacks)throw Error("must provide ordered or callbacks");n.ordered=i}var o=t.callbacks||{};n.ordered?(n.docs=new w(e._idStringify),n.applyChange={addedBefore:function(e,t,i){var r=y.clone(t);r._id=e,o.addedBefore&&o.addedBefore.call(n,e,t,i),o.added&&o.added.call(n,e,t),n.docs.putBefore(e,r,i||null)},movedBefore:function(e,t){n.docs.get(e);o.movedBefore&&o.movedBefore.call(n,e,t),n.docs.moveBefore(e,t||null)}}):(n.docs=new e._IdMap,n.applyChange={added:function(e,t){var i=y.clone(t);o.added&&o.added.call(n,e,t),i._id=e,n.docs.set(e,i)}}),n.applyChange.changed=function(t,i){var r=n.docs.get(t);if(!r)throw new Error("Unknown id for changed: "+t);o.changed&&o.changed.call(n,t,y.clone(i)),e._applyChanges(r,i)},n.applyChange.removed=function(e){o.removed&&o.removed.call(n,e),n.docs.remove(e)}},e._observeFromObserveChanges=function(t,n){var i,o=t.getTransform()||function(e){return e},r=!!n._suppress_initial;if(e._observeCallbacksAreOrdered(n)){var a=!n._no_indices;i={addedBefore:function(e,t,i){var s=this;if(!r&&(n.addedAt||n.added)){var l=o(v.extend(t,{_id:e}));if(n.addedAt){var c=a?i?s.docs.indexOf(i):s.docs.size():-1;n.addedAt(l,c,i)}else n.added(l)}},changed:function(t,i){var r=this;if(n.changedAt||n.changed){var s=y.clone(r.docs.get(t));if(!s)throw new Error("Unknown id for changed: "+t);var l=o(y.clone(s));if(e._applyChanges(s,i),s=o(s),n.changedAt){var c=a?r.docs.indexOf(t):-1;n.changedAt(s,l,c)}else n.changed(s,l)}},movedBefore:function(e,t){var i=this;if(n.movedTo){var r=a?i.docs.indexOf(e):-1,s=a?t?i.docs.indexOf(t):i.docs.size():-1;s>r&&--s,n.movedTo(o(y.clone(i.docs.get(e))),r,s,t||null)}},removed:function(e){var t=this;if(n.removedAt||n.removed){var i=o(t.docs.get(e));if(n.removedAt){var r=a?t.docs.indexOf(e):-1;n.removedAt(i,r)}else n.removed(i)}}}}else i={added:function(e,t){if(!r&&n.added){var i=v.extend(t,{_id:e});
n.added(o(i))}},changed:function(t,i){var r=this;if(n.changed){var a=r.docs.get(t),s=y.clone(a);e._applyChanges(s,i),n.changed(o(s),o(y.clone(a)))}},removed:function(e){var t=this;n.removed&&n.removed(o(t.docs.get(e)))}};var s=new e._CachingChangeObserver({callbacks:i}),l=t.observeChanges(s.applyChange);return r=!1,l}}.call(this),function(){e._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},e._ObjectID=function(t){var n=this;if(t){if(t=t.toLowerCase(),!e._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");n._str=t}else n._str=T.hexString(24)},e._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},e._ObjectID.prototype.equals=function(t){var n=this;return t instanceof e._ObjectID&&n.valueOf()===t.valueOf()},e._ObjectID.prototype.clone=function(){var t=this;return new e._ObjectID(t._str)},e._ObjectID.prototype.typeName=function(){return"oid"},e._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},e._ObjectID.prototype.valueOf=e._ObjectID.prototype.toJSONValue=e._ObjectID.prototype.toHexString=function(){return this._str},e._selectorIsId=function(t){return"string"==typeof t||"number"==typeof t||t instanceof e._ObjectID},e._selectorIsIdPerhapsAsObject=function(t){return e._selectorIsId(t)||t&&"object"==typeof t&&t._id&&e._selectorIsId(t._id)&&1===v.size(t)},e._idsMatchedBySelector=function(t){if(e._selectorIsId(t))return[t];if(!t)return null;if(v.has(t,"_id"))return e._selectorIsId(t._id)?[t._id]:t._id&&t._id.$in&&v.isArray(t._id.$in)&&!v.isEmpty(t._id.$in)&&v.all(t._id.$in,e._selectorIsId)?t._id.$in:null;if(t.$and&&v.isArray(t.$and))for(var n=0;n<t.$and.length;++n){var i=e._idsMatchedBySelector(t.$and[n]);if(i)return i}return null},y.addType("oid",function(t){return new e._ObjectID(t)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:e,Minimongo:t,MinimongoTest:n}}(),function(){{var e,t,n,i,o,r,a,s,l,c,u,d,h,f=Package.meteor.Meteor,p=(Package.check.check,Package.check.Match,Package.random.Random),g=Package.ejson.EJSON,m=Package.json.JSON,v=Package.underscore._,_=Package.tracker.Tracker,y=(Package.tracker.Deps,Package.logging.Log,Package.retry.Retry),b=Package.minimongo.LocalCollection;Package.minimongo.Minimongo}(function(){e={},t={}}).call(this),function(){n=function(){var e=document,t=window,n={},i=function(){};i.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var i=this._listeners[e];-1===n.arrIndexOf(i,t)&&i.push(t)},i.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var i=this._listeners[e],o=n.arrIndexOf(i,t);return-1!==o?void(i.length>1?this._listeners[e]=i.slice(0,o).concat(i.slice(o+1)):delete this._listeners[e]):void 0}},i.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var r=function(e){var t=this;t._events=e||[],t._listeners={}};r.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var i=0;i<t._listeners[e].length;i++)t._listeners[e][i].apply(t,n)}},r.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},r.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+m.stringify(e)+" not listed "+m.stringify(t._events)+" in "+t)},r.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var a="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||a.length;var n,i=[];for(n=0;e>n;n++)i.push(a.substr(Math.floor(Math.random()*t),1));return i.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,i=Array(t+1).join("0");return(i+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var s="_jp";n.polluteGlobalNamespace=function(){s in t||(t[s]={})},n.closeFrame=function(e,t){return"c"+m.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,i){var o;if(void 0===i)o=e.location;else{var r=/^([a-z0-9.+-]+:)/i.exec(i);if(r){var a=r[0].toLowerCase(),s=i.substring(a.length),l=/[a-z0-9\.-]+(:[0-9]+)?/.exec(s);if(l)var c=l[0]}if(!a||!c)throw new Error("relativeTo must be an absolute url");o={protocol:a,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var u=t.split("/");return("http:"===u[0]&&/:80$/.test(u[2])||"https:"===u[0]&&/:443$/.test(u[2]))&&(u[2]=u[2].replace(/:(80|443)$/,"")),t=u.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var i=n.arrIndexOf(e,t);if(-1===i)return e.slice();var o=e.slice(0,i);return o.concat(e.slice(i+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var l,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,h=m&&m.stringify||function(e){return c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return u[e]})),'"'+e+'"'},f=function(e){var t,n={},i=[];for(t=0;65536>t;t++)i.push(String.fromCharCode(t));return e.lastIndex=0,i.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=h(e);return d.lastIndex=0,d.test(t)?(l||(l=f(d)),t.replace(d,function(e){return l[e]})):t};var p=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<p.length;t++){var n=p[t];e[n]=S[n]&&S[n].enabled()}return e},n.detectProtocols=function(e,t,n){var i={},o=[];t||(t=p);for(var r=0;r<t.length;r++){var a=t[r];i[a]=e[a]}var s=function(e){var t=e.shift();i[t]?o.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),i["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!i["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),i["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!i["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var g="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(g in t)){var i={};t[g]=function(e){return e in i||(i[e]={id:e,del:function(){delete i[e]}}),i[e]}}return t[g](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,i){"undefined"!=typeof t.addEventListener?t.addEventListener(n,i,!1):(e.attachEvent("on"+n,i),t.attachEvent("on"+n,i))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,i){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,i,!1):(e.detachEvent("on"+n,i),t.detachEvent("on"+n,i))};var v={},_=!1,y=function(){for(var e in v)v[e](),delete v[e]},b=function(){_||(_=!0,y())};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return v[t]=e,_&&n.delay(y),t},n.unload_del=function(e){e in v&&delete v[e]},n.createIframe=function(t,i){var o,r,a=e.createElement("iframe"),s=function(){clearTimeout(o);try{a.onload=null}catch(e){}a.onerror=null},l=function(){a&&(s(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),n.unload_del(r))},c=function(e){a&&(l(),i(e))},u=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};return a.src=t,a.style.display="none",a.style.position="absolute",a.onerror=function(){c("onerror")},a.onload=function(){clearTimeout(o),o=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(a),o=setTimeout(function(){c("timeout")},15e3),r=n.unload_add(l),{post:u,cleanup:l,loaded:s}},n.createHtmlfile=function(e,i){var o,r,a,l=new ActiveXObject("htmlfile"),c=function(){clearTimeout(o)},u=function(){l&&(c(),n.unload_del(r),a.parentNode.removeChild(a),a=l=null,CollectGarbage())},d=function(e){l&&(u(),i(e))},h=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};l.open(),l.write('<html><script>document.domain="'+document.domain+'";</script></html>'),l.close(),l.parentWindow[s]=t[s];var f=l.createElement("div");return l.body.appendChild(f),a=l.createElement("iframe"),f.appendChild(a),a.src=e,o=setTimeout(function(){d("timeout")},15e3),r=n.unload_add(u),{post:h,cleanup:u,loaded:c}};var w=function(){};w.prototype=new r(["chunk","finish"]),w.prototype._start=function(e,i,o,r){var a=this;try{a.xhr=new XMLHttpRequest}catch(s){}if(!a.xhr)try{a.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(i+=(-1===i.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add(function(){a._cleanup(!0)});try{a.xhr.open(e,i,!0)}catch(l){return a.emit("finish",0,""),void a._cleanup()}if(r&&r.no_credentials||(a.xhr.withCredentials="true"),r&&r.headers)for(var c in r.headers)a.xhr.setRequestHeader(c,r.headers[c]);a.xhr.onreadystatechange=function(){if(a.xhr){var e=a.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&a.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),a.emit("finish",t,e.responseText),a._cleanup(!1)}}},a.xhr.send(o)},w.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(i){}t.unload_ref=t.xhr=null}},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var k=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};k.prototype=new w;var T=n.XHRLocalObject=function(e,t,i){var o=this;n.delay(function(){o._start(e,t,i,{no_credentials:!0})})};T.prototype=new w;var x=n.XDRObject=function(e,t,i){var o=this;n.delay(function(){o._start(e,t,i)})};x.prototype=new r(["chunk","finish"]),x.prototype._start=function(e,t,i){var o=this,r=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var a=r.ontimeout=r.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};r.onprogress=function(){o.emit("chunk",200,r.responseText)},r.onload=function(){o.emit("finish",200,r.responseText),o._cleanup(!1)},o.xdr=r,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(i)}catch(s){a()}},x.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(i){}t.unload_ref=t.xdr=null}},x.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:j.enabled()?3:4};var S=function(e,t,i){if(!(this instanceof S))return new S(e,t,i);var o,r=this;r._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},i&&n.objectExtend(r._options,i),r._base_url=n.amendUrl(e),r._server=r._options.server||n.random_number_string(1e3),r._options.protocols_whitelist&&r._options.protocols_whitelist.length?o=r._options.protocols_whitelist:(o="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,o&&r._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),r._protocols=[],r.protocol=null,r.readyState=S.CONNECTING,r._ir=W(r._base_url),r._ir.onfinish=function(e,t){r._ir=null,e?(r._options.info&&(e=n.objectExtend(e,r._options.info)),r._options.rtt&&(t=r._options.rtt),r._applyInfo(e,t,o),r._didClose()):r._didClose(1002,"Can't connect to server",!0)}};S.prototype=new i,S.version="0.3.4",S.CONNECTING=0,S.OPEN=1,S.CLOSING=2,S.CLOSED=3,S.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},S.prototype._dispatchOpen=function(){var e=this;e.readyState===S.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=S.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},S.prototype._dispatchMessage=function(e){var t=this;t.readyState===S.OPEN&&t.dispatchEvent(new o("message",{data:e}))},S.prototype._dispatchHeartbeat=function(){var e=this;e.readyState===S.OPEN&&e.dispatchEvent(new o("heartbeat",{}))},S.prototype._didClose=function(e,t,i){var r=this;if(r.readyState!==S.CONNECTING&&r.readyState!==S.OPEN&&r.readyState!==S.CLOSING)throw new Error("INVALID_STATE_ERR");r._ir&&(r._ir.nuke(),r._ir=null),r._transport&&(r._transport.doCleanup(),r._transport=null);var a=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&r.readyState===S.CONNECTING&&!i){if(r._try_next_protocol(a))return;a=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:a})}r.readyState=S.CLOSED,n.delay(function(){r.dispatchEvent(a)})},S.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var i=m.parse(e.slice(1)||"[]"),o=0;o<i.length;o++)t._dispatchMessage(i[o]);break;case"m":var i=m.parse(e.slice(1)||"null");t._dispatchMessage(i);break;case"c":var i=m.parse(e.slice(1)||"[]");t._didClose(i[0],i[1]);break;case"h":t._dispatchHeartbeat()}},S.prototype._try_next_protocol=function(t){var i=this;for(i.protocol&&(i._debug("Closed transport:",i.protocol,""+t),i.protocol=null),i._transport_tref&&(clearTimeout(i._transport_tref),i._transport_tref=null);;){var o=i.protocol=i._protocols.shift();if(!o)return!1;if(S[o]&&S[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return i._protocols.unshift(o),i.protocol="waiting-for-load",n.attachEvent("load",function(){i._try_next_protocol()}),!0;if(S[o]&&S[o].enabled(i._options)){var r=S[o].roundTrips||1,a=(i._options.rto||0)*r||5e3;i._transport_tref=n.delay(a,function(){i.readyState===S.CONNECTING&&i._didClose(2007,"Transport timeouted")});var s=n.random_string(8),l=i._base_url+"/"+i._server+"/"+s;return i._debug("Opening transport:",o," url:"+l," RTO:"+i._options.rto),i._transport=new S[o](i,l,i._base_url),!0}i._debug("Skipping transport:",o)}},S.prototype.close=function(e,t){var i=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return i.readyState!==S.CONNECTING&&i.readyState!==S.OPEN?!1:(i.readyState=S.CLOSING,i._didClose(e||1e3,t||"Normal closure"),!0)},S.prototype.send=function(e){var t=this;if(t.readyState===S.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===S.OPEN&&t._transport.doSend(n.quote(""+e)),!0},S.prototype._applyInfo=function(t,i,o){var r=this;r._options.info=t,r._options.rtt=i,r._options.rto=n.countRTO(i),r._options.info.null_origin=!e.domain,t.base_url&&(r._base_url=n.amendUrl(t.base_url,r._base_url));var a=n.probeProtocols();r._protocols=n.detectProtocols(a,o,t),n.isSameOriginScheme(r._base_url)||2!==n.isXHRCorsCapable()||(r._protocols=["jsonp-polling"])};var C=S.websocket=function(e,i){var o=this,r=i+"/websocket";r="https"===r.slice(0,5)?"wss"+r.slice(5):"ws"+r.slice(4),o.ri=e,o.url=r;var a=t.WebSocket||t.MozWebSocket;o.ws=new a(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};C.prototype.doSend=function(e){this.ws.send("["+e+"]")},C.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},C.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},C.roundTrips=2;var E=function(){};E.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},E.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},E.prototype.send_schedule_wait=function(){var e,t=this;t.send_stop=function(){t.send_stop=null,clearTimeout(e)},e=n.delay(25,function(){t.send_stop=null,t.send_schedule()})},E.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},E.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var P=function(t,i,o){var r=this;if(!("_send_form"in r)){var a=r._send_form=e.createElement("form"),s=r._send_area=e.createElement("textarea");s.name="d",a.style.display="none",a.style.position="absolute",a.method="POST",a.enctype="application/x-www-form-urlencoded",a.acceptCharset="UTF-8",a.appendChild(s),e.body.appendChild(a)}var a=r._send_form,s=r._send_area,l="a"+n.random_string(8);a.target=l,a.action=t+"/jsonp_send?i="+l;var c;try{c=e.createElement('<iframe name="'+l+'">')}catch(u){c=e.createElement("iframe"),c.name=l}c.id=l,a.appendChild(c),c.style.display="none";try{s.value=i}catch(d){n.log("Your browser is seriously broken. Go home! "+d.message)}a.submit();var h=function(){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),s.value="",o(!0))};return c.onerror=c.onload=h,c.onreadystatechange=function(){"complete"==c.readyState&&h()},h},M=function(e){return function(t,n,i){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e){i(200===e||204===e,"http status "+e)},function(e){i(!1,e)}}},D=function(t,i){var o,r,a=e.createElement("script"),s=function(e){r&&(r.parentNode.removeChild(r),r=null),a&&(clearTimeout(o),a.parentNode.removeChild(a),a.onreadystatechange=a.onerror=a.onload=a.onclick=null,a=null,i(e),i=null)},l=!1,c=null;if(a.id="a"+n.random_string(8),a.src=t,a.type="text/javascript",a.charset="UTF-8",a.onerror=function(){c||(c=setTimeout(function(){l||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},a.onload=function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){l=!0;try{a.onclick()}catch(e){}}a&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof a.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))r=e.createElement("script"),r.text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=r.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(u){}a.async=!0}"undefined"!=typeof a.async&&(a.async=!0),o=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(a,d.firstChild),r&&d.insertBefore(r,d.firstChild),s},I=S["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var i=this;i.ri=e,i.trans_url=t,i.send_constructor(P),i._schedule_recv()};I.prototype=new E,I.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=L(e.trans_url+"/jsonp",D,t)},I.enabled=function(){return!0},I.need_body=!0,I.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var L=function(e,i,o){var r="a"+n.random_string(6),a=e+"?c="+escape(s+"."+r),l=0,c=function(e){switch(l){case 0:delete t[s][r],o(e);break;case 1:o(e),l=2;break;case 2:delete t[s][r]}},u=i(a,c);t[s][r]=u;var d=function(){t[s][r]&&(l=1,t[s][r](n.closeFrame(1e3,"JSONP user aborted read")))};return d},A=function(){};A.prototype=new E,A.prototype.run=function(e,t,n,i,o){var r=this;r.ri=e,r.trans_url=t,r.send_constructor(M(o)),r.poll=new Z(e,i,t+n,o)},A.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var H=S["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XHRCorsObject)};H.prototype=new A,H.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},H.roundTrips=2,H.need_body=!0;var O=S["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XDRObject)};O.prototype=new A,O.enabled=function(){return!!t.XDomainRequest},O.roundTrips=2;var N=S["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRCorsObject)};N.prototype=new A,N.enabled=H.enabled,N.roundTrips=2;var R=S["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XDRObject)};R.prototype=new A,R.enabled=O.enabled,R.roundTrips=2;var j=function(){};j.prototype.i_constructor=function(e,t,i){var o=this;o.ri=e,o.origin=n.getOrigin(i),o.base_url=i,o.trans_url=t;var r=i+"/iframe.html";o.ri._options.devel&&(r+="?t="+ +new Date),o.window_id=n.random_string(8),r+="#"+o.window_id,o.iframeObj=n.createIframe(r,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},j.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},j.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),i=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(i){case"s":t.iframeObj.loaded(),t.postMessage("s",m.stringify([S.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},j.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},j.prototype.doSend=function(e){this.postMessage("m",e)},j.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var B,F=function(e,i){parent!==t?parent.postMessage(B+e+(i||""),"*"):n.log("Can't postMessage, no parent window.",e,i)},V=function(){};V.prototype._didClose=function(e,t){F("t",n.closeFrame(e,t))},V.prototype._didMessage=function(e){F("t",e)},V.prototype._doSend=function(e){this._transport.doSend(e)},V.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,S.bootstrap_iframe=function(){var i;B=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),r=e.data.slice(8,9),a=e.data.slice(9);if(o===B)switch(r){case"s":var s=m.parse(a),l=s[0],c=s[1],u=s[2],d=s[3];if(l!==S.version&&n.log('Incompatibile SockJS! Main site uses: "'+l+'", the iframe: "'+S.version+'".'),!n.flatUrl(u)||!n.flatUrl(d))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(u)||!n.isSameOriginUrl(d))return void n.log("Can't connect to different domain from within an iframe. ("+m.stringify([t.location.href,u,d])+")");i=new V,i._transport=new V[c](i,u,d);break;case"m":i._doSend(a);break;case"c":i&&i._doCleanup(),i=null}}};n.attachMessage(o),F("s")};var z=function(e,t){var i=this;n.delay(function(){i.doXhr(e,t)})};z.prototype=new r(["finish"]),z.prototype.doXhr=function(e,t){var i=this,o=(new Date).getTime(),r=new t("GET",e+"/info?cb="+n.random_string(10)),a=n.delay(8e3,function(){r.ontimeout()});r.onfinish=function(e,t){if(clearTimeout(a),a=null,200===e){var n=(new Date).getTime()-o,r=m.parse(t);"object"!=typeof r&&(r={}),i.emit("finish",r,n)}else i.emit("finish")},r.ontimeout=function(){r.close(),i.emit("finish")}};var $=function(t){var i=this,o=function(){var e=new j;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=m.parse(t.substr(1)),o=n[0],r=n[1];i.emit("finish",o,r)}else i.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};$.prototype=new r(["finish"]);var U=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};U.prototype=new r(["finish"]);var W=function(e){if(n.isSameOriginUrl(e))return new z(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new z(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new z(e,n.XDRObject):new U;case 3:return new $(e);default:return new U}},q=V["w-iframe-info-receiver"]=function(e,t,i){var o=new z(i,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+m.stringify([t,n])),e._didClose()}};q.prototype.doCleanup=function(){};var Y=S["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};Y.prototype=new j,Y.enabled=function(){return"EventSource"in t&&j.enabled()},Y.need_body=!0,Y.roundTrips=3;var G=V["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",et,n.XHRLocalObject)};G.prototype=new A;var X=S["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};X.prototype=new j,X.enabled=function(){return t.XMLHttpRequest&&j.enabled()},X.need_body=!0,X.roundTrips=3;var Q=V["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRLocalObject)};Q.prototype=new A;var J=S["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};J.prototype=new j,J.enabled=function(){return j.enabled()},J.need_body=!0,J.roundTrips=3;var K=V["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",it,n.XHRLocalObject)};K.prototype=new A;var Z=function(e,t,n,i){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=i,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var et=function(e){var t=this,i=new EventSource(e);i.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=i.onerror=function(e,r){var a=r?"user":2!==i.readyState?"network":"permanent";t.es_close=i.onmessage=i.onerror=null,i.close(),i=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:a}))})}};et.prototype=new i,et.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var tt,nt=function(){if(void 0===tt)if("ActiveXObject"in t)try{tt=!!new ActiveXObject("htmlfile")}catch(e){}else tt=!1;return tt},it=function(e){var i=this;n.polluteGlobalNamespace(),i.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(s+"."+i.id);var r,a=nt()?n.createHtmlfile:n.createIframe;t[s][i.id]={start:function(){r.loaded()},message:function(e){i.dispatchEvent(new o("message",{data:e}))},stop:function(){i.iframe_close({},"network")}},i.iframe_close=function(e,n){r.cleanup(),i.iframe_close=r=null,delete t[s][i.id],i.dispatchEvent(new o("close",{reason:n}))},r=a(e,function(){i.iframe_close({},"permanent")})};it.prototype=new i,it.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var ot=function(e,t){var n=this,i=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var r=t.slice(i),a=r.indexOf("\n");if(-1===a)break;i+=a+1;var s=r.slice(0,a);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var i=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:i}))}};return ot.prototype=new i,ot.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},S.getUtils=function(){return n},S.getIframeTransport=function(){return j
},S}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return n})}.call(this),function(){t.ClientStream=function(e,t){var n=this;n.options=v.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",v.bind(n._online,n),!1),n._launchConnection()},v.extend(t.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),v.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(){var e=this;e._clearConnectionAndHeartbeatTimers(),e.socket&&(e.socket.onmessage=e.socket.onclose=e.socket.onerror=e.socket.onheartbeat=function(){},e.socket.close(),e.socket=null),v.each(e.eventCallbacks.disconnect,function(e){e()})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var e=this;f._debug("Connection timeout. No sockjs heartbeat received."),e._lostConnection()},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(v.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var e=this;e._cleanup();var t=v.extend({protocols_whitelist:e._sockjsProtocolsWhitelist()},e.options._sockjsOptions);e.socket=new n(i(e.rawUrl),void 0,t),e.socket.onopen=function(){e._connected()},e.socket.onmessage=function(t){e._heartbeat_received(),e.currentStatus.connected&&v.each(e.eventCallbacks.message,function(e){e(t.data)})},e.socket.onclose=function(){e._lostConnection()},e.socket.onerror=function(){f._debug("stream error",v.toArray(arguments),(new Date).toDateString())},e.socket.onheartbeat=function(){e._heartbeat_received()},e.connectionTimer&&clearTimeout(e.connectionTimer),e.connectionTimer=setTimeout(v.bind(e._lostConnection,e),e.CONNECT_TIMEOUT)}})}.call(this),function(){var n=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},r=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},a=function(e,t,i){t||(t="http");var o,a=e.match(/^ddp(i?)\+sockjs:\/\//),s=e.match(/^http(s?):\/\//);if(a){var l=e.substr(a[0].length);o="i"===a[1]?t:t+"s";var c=l.indexOf("/"),u=-1===c?l:l.substr(0,c),d=-1===c?"":l.substr(c);return u=u.replace(/\*/g,function(){return Math.floor(10*p.fraction())}),o+"://"+u+d}if(s){o=s[1]?t+"s":t;var h=e.substr(s[0].length);e=o+"://"+h}return-1!==e.indexOf("://")||n(e,"/")||(e=t+"://"+e),e=f._relativeToSiteRootUrl(e),r(e,"/")?e+i:e+"/"+i};i=function(e){return a(e,"http","sockjs")},o=function(e){var t=a(e,"ws","websocket");return t},t.toSockjsUrl=i,v.extend(t.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof _&&new _.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new y,t.connectionTimer=null},reconnect:function(t){var n=this;return t=t||{},t.url&&n._changeUrl(t.url),t._sockjsOptions&&(n.options._sockjsOptions=t._sockjsOptions),n.currentStatus.connected?void((t._force||t.url)&&n._lostConnection(new e.ForcedReconnectError)):("connecting"===n.currentStatus.status&&n._lostConnection(),n._retry.clear(),n.currentStatus.retryCount-=1,void n._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,v.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),e.ConnectionError=f.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),e.ForcedReconnectError=f.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){r=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},v.extend(r.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var e=this;e._heartbeatIntervalHandle=f.setTimeout(v.bind(e._heartbeatIntervalFired,e),e.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var e=this;e._heartbeatTimeoutHandle=f.setTimeout(v.bind(e._heartbeatTimeoutFired,e),e.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var e=this;e._heartbeatIntervalHandle&&(f.clearTimeout(e._heartbeatIntervalHandle),e._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var e=this;e._heartbeatTimeoutHandle&&(f.clearTimeout(e._heartbeatTimeoutHandle),e._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._heartbeatIntervalHandle=null,e._sendPing(),e._startHeartbeatTimeoutTimer()},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},pingReceived:function(){var e=this;e._heartbeatIntervalHandle&&(e._clearHeartbeatIntervalTimer(),e._startHeartbeatIntervalTimer())},pongReceived:function(){var e=this;e._heartbeatTimeoutHandle&&(e._clearHeartbeatTimeoutTimer(),e._startHeartbeatIntervalTimer())}})}.call(this),function(){a=["1","pre2","pre1"],t.SUPPORTED_DDP_VERSIONS=a,s=function(e){this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},v.extend(s.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}}),l=function(e){try{var t=m.parse(e)}catch(n){return f._debug("Discarding message with invalid JSON",e),null}return null===t||"object"!=typeof t?(f._debug("Discarding non-object DDP message",e),null):(v.has(t,"cleared")&&(v.has(t,"fields")||(t.fields={}),v.each(t.cleared,function(e){t.fields[e]=void 0}),delete t.cleared),v.each(["fields","params","result"],function(e){v.has(t,e)&&(t[e]=g._adjustTypesFromJSONValue(t[e]))}),t)},c=function(e){var t=g.clone(e);if(v.has(e,"fields")){var n=[];v.each(e.fields,function(e,i){void 0===e&&(n.push(i),delete t.fields[i])}),v.isEmpty(n)||(t.cleared=n),v.isEmpty(t.fields)&&delete t.fields}if(v.each(["fields","params","result"],function(e){v.has(t,e)&&(t[e]=g._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return m.stringify(t)},e._CurrentInvocation=new f.EnvironmentVariable}.call(this),function(){function t(){return p.hexString(20)}u=function(e){this.seed=[].concat(e.seed||t()),this.sequences={}},u.get=function(e,t){if(t||(t="default"),!e)return p;var n=e.randomStream;return n||(e.randomStream=n=new u({seed:e.randomSeed})),n._sequence(t)},e.randomStream=function(t){var n=e._CurrentInvocation.get();return u.get(n,t)},d=function(e,t){var n=u.get(e,"/rpc/"+t);return n.hexString(20)},v.extend(u.prototype,{_sequence:function(e){var t=this,n=t.sequences[e]||null;if(null===n){for(var i=t.seed.concat(e),o=0;o<i.length;o++)v.isFunction(i[o])&&(i[o]=i[o]());t.sequences[e]=n=p.createWithSeeds.apply(null,i)}return n}})}.call(this),function(){if(f.isServer)var n=Npm.require("path"),i=(Npm.require("fibers"),Npm.require(n.join("fibers","future")));var o=function(e,n){var i=this;n=v.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(e){f._debug(e)},heartbeatInterval:35e3,heartbeatTimeout:15e3,reloadWithOutstanding:!1,supportedDDPVersions:a,retry:!0,respondToPings:!0},n),i.onReconnect=null,i._stream="object"==typeof e?e:new t.ClientStream(e,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs}),i._lastSessionId=null,i._versionSuggestion=null,i._version=null,i._stores={},i._methodHandlers={},i._nextMethodId=1,i._supportedDDPVersions=n.supportedDDPVersions,i._heartbeatInterval=n.heartbeatInterval,i._heartbeatTimeout=n.heartbeatTimeout,i._methodInvokers={},i._outstandingMethodBlocks=[],i._documentsWrittenByStub={},i._serverDocuments={},i._afterUpdateCallbacks=[],i._messagesBufferedUntilQuiescence=[],i._methodsBlockingQuiescence={},i._subsBeingRevived={},i._resetStores=!1,i._updatesForUnknownStores={},i._retryMigrate=null,i._subscriptions={},i._userId=null,i._userIdDeps=new _.Dependency,f.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(i._readyToMigrate())return[!0];if(i._retryMigrate)throw new Error("Two migrations in progress?");return i._retryMigrate=e,!1});var o=function(e){try{var t=l(e)}catch(o){return void f._debug("Exception while parsing DDP",o)}if(null===t||!t.msg)return void(t&&t.server_id||f._debug("discarding invalid livedata message",t));if("connected"===t.msg)i._version=i._versionSuggestion,i._livedata_connected(t),n.onConnected();else if("failed"==t.msg)if(v.contains(i._supportedDDPVersions,t.version))i._versionSuggestion=t.version,i._stream.reconnect({_force:!0});else{var r="DDP version negotiation failed; server requested version "+t.version;i._stream.disconnect({_permanent:!0,_error:r}),n.onDDPVersionNegotiationFailure(r)}else"ping"===t.msg?(n.respondToPings&&i._send({msg:"pong",id:t.id}),i._heartbeat&&i._heartbeat.pingReceived()):"pong"===t.msg?i._heartbeat&&i._heartbeat.pongReceived():v.include(["added","changed","removed","ready","updated"],t.msg)?i._livedata_data(t):"nosub"===t.msg?i._livedata_nosub(t):"result"===t.msg?i._livedata_result(t):"error"===t.msg?i._livedata_error(t):f._debug("discarding unknown livedata message type",t)},r=function(){var e={msg:"connect"};i._lastSessionId&&(e.session=i._lastSessionId),e.version=i._versionSuggestion||i._supportedDDPVersions[0],i._versionSuggestion=e.version,e.support=i._supportedDDPVersions,i._send(e),!v.isEmpty(i._outstandingMethodBlocks)&&v.isEmpty(i._outstandingMethodBlocks[0].methods)&&i._outstandingMethodBlocks.shift(),v.each(i._methodInvokers,function(e){e.sentMessage=!1}),i.onReconnect?i._callOnReconnectAndSendAppropriateOutstandingMethods():i._sendOutstandingMethods(),v.each(i._subscriptions,function(e,t){i._send({msg:"sub",id:t,name:e.name,params:e.params})})},s=function(){i._heartbeat&&(i._heartbeat.stop(),i._heartbeat=null)};f.isServer?(i._stream.on("message",f.bindEnvironment(o,f._debug)),i._stream.on("reset",f.bindEnvironment(r,f._debug)),i._stream.on("disconnect",f.bindEnvironment(s,f._debug))):(i._stream.on("message",o),i._stream.on("reset",r),i._stream.on("disconnect",s))},u=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};v.extend(u.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),v.extend(o.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var i={};v.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){i[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=i;var o=n._updatesForUnknownStores[e];return o&&(i.beginUpdate(o.length,!1),v.each(o,function(e){i.update(e)}),i.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),i={};if(n.length){var o=n[n.length-1];"function"==typeof o?i.onReady=n.pop():!o||"function"!=typeof o.onReady&&"function"!=typeof o.onError||(i=n.pop())}var r,a=v.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&g.equals(t.params,n)});a?(r=a.id,a.inactive=!1,i.onReady&&(a.ready||(a.readyCallback=i.onReady)),i.onError&&(a.errorCallback=i.onError)):(r=p.id(),t._subscriptions[r]={id:r,name:e,params:g.clone(n),inactive:!1,ready:!1,readyDeps:new _.Dependency,readyCallback:i.onReady,errorCallback:i.onError,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:r}),this.remove()}},t._send({msg:"sub",id:r,name:e,params:n}));var s={stop:function(){v.has(t._subscriptions,r)&&t._subscriptions[r].stop()},ready:function(){if(!v.has(t._subscriptions,r))return!1;var e=t._subscriptions[r];return e.readyDeps.depend(),e.ready}};return _.active&&_.onInvalidate(function(){v.has(t._subscriptions,r)&&(t._subscriptions[r].inactive=!0),_.afterFlush(function(){v.has(t._subscriptions,r)&&t._subscriptions[r].inactive&&s.stop()})}),s},_subscribeAndWait:function(e,t,n){var o,r=this,a=new i,s=!1;return t=t||[],t.push({onReady:function(){s=!0,a["return"]()},onError:function(e){s?n&&n.onLateError&&n.onLateError(e):a["throw"](e)}}),o=r.subscribe.apply(r,[e].concat(t)),a.wait(),o},methods:function(e){var t=this;v.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,o,r){var a=this;r||"function"!=typeof o||(r=o,o={}),o=o||{},r&&(r=f.bindEnvironment(r,"delivering result of invoking '"+t+"'")),n=g.clone(n);var l=function(){var e;return function(){return void 0===e&&(e=""+a._nextMethodId++),e}}(),c=e._CurrentInvocation.get(),h=c&&c.isSimulation,p=null,m=function(){return null===p&&(p=d(c,t)),p},_=a._methodHandlers[t];if(_){var y=function(e){a.setUserId(e)},b=new s({isSimulation:!0,userId:a.userId(),setUserId:y,randomSeed:function(){return m()}});h||a._saveOriginals();try{var w=e._CurrentInvocation.withValue(b,function(){return f.isServer?f._noYieldsAllowed(function(){return _.apply(b,g.clone(n))}):_.apply(b,g.clone(n))})}catch(k){var T=k}h||a._retrieveAndStoreOriginals(l())}if(h){if(r)return void r(T,w);if(T)throw T;return w}if(T&&!T.expected&&f._debug("Exception while simulating the effect of invoking '"+t+"'",T,T.stack),!r)if(f.isClient)r=function(e){e&&f._debug("Error invoking Method '"+t+"':",e.message)};else{var x=new i;r=x.resolver()}var S={msg:"method",method:t,params:n,id:l()};null!==p&&(S.randomSeed=p);var C=new u({methodId:l(),callback:r,connection:a,onResultReceived:o.onResultReceived,wait:!!o.wait,message:S});return o.wait?a._outstandingMethodBlocks.push({wait:!0,methods:[C]}):((v.isEmpty(a._outstandingMethodBlocks)||v.last(a._outstandingMethodBlocks).wait)&&a._outstandingMethodBlocks.push({wait:!1,methods:[]}),v.last(a._outstandingMethodBlocks).methods.push(C)),1===a._outstandingMethodBlocks.length&&C.sendMessage(),x?x.wait():o.returnStubValue?w:void 0},_saveOriginals:function(){var e=this;v.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];v.each(t._stores,function(i,o){var r=i.retrieveOriginals();r&&r.forEach(function(i,r){n.push({collection:o,id:r}),v.has(t._serverDocuments,o)||(t._serverDocuments[o]=new b._IdMap);var a=t._serverDocuments[o].setDefault(r,{});a.writtenByStubs?a.writtenByStubs[e]=!0:(a.document=i,a.flushCallbacks=[],a.writtenByStubs={},a.writtenByStubs[e]=!0)})}),v.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;v.each(v.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(c(e))},_lostConnection:function(){var e=this;e._stream._lostConnection()},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!v.isEmpty(e._subsBeingRevived)||!v.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return v.any(v.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new r({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){f.isClient&&!t._stream._isStub&&f._debug("Connection timeout. No DDP heartbeat received."),t._lostConnection()},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},v.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&v.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(v.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(v.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],v.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),v.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;v.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!v.isEmpty(n))&&(v.each(t._stores,function(e,i){e.beginUpdate(v.has(n,i)?n[i].length:0,t._resetStores)}),t._resetStores=!1,v.each(n,function(e,n){var i=t._stores[n];i?v.each(e,function(e){i.update(e)}):(v.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),v.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],v.each(t,function(e){e()})},_pushUpdate:function(e,t,n){v.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!v.has(n._serverDocuments,e))return null;var i=n._serverDocuments[e];return i.get(t)||null},_process_added:function(e,t){var n=this,i=b._idParse(e.id),o=n._getServerDoc(e.collection,i);if(o){if(void 0!==o.document)throw new Error("Server sent add for existing id: "+e.id);o.document=e.fields||{},o.document._id=i}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,i=n._getServerDoc(e.collection,b._idParse(e.id));if(i){if(void 0===i.document)throw new Error("Server sent changed for nonexisting id: "+e.id);b._applyChanges(i.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,i=n._getServerDoc(e.collection,b._idParse(e.id));if(i){if(void 0===i.document)throw new Error("Server sent removed for nonexisting id:"+e.id);i.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;v.each(e.methods,function(e){v.each(n._documentsWrittenByStub[e],function(i){var o=n._getServerDoc(i.collection,i.id);if(!o)throw new Error("Lost serverDoc for "+m.stringify(i));if(!o.writtenByStubs[e])throw new Error("Doc "+m.stringify(i)+" not written by  method "+e);delete o.writtenByStubs[e],v.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,i.collection,{msg:"replace",id:b._idStringify(i.id),replace:o.document}),v.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[i.collection].remove(i.id))}),delete n._documentsWrittenByStub[e];var i=n._methodInvokers[e];if(!i)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(v.bind(i.dataVisible,i))})},_process_ready:function(e){var t=this;v.each(e.subs,function(e){t._runWhenAllServerDocsAreFlushed(function(){var n=t._subscriptions[e];n&&(n.ready||(n.readyCallback&&n.readyCallback(),n.ready=!0,n.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},i=0,o=function(){--i,0===i&&n()};v.each(t._serverDocuments,function(e){e.forEach(function(e){var n=v.any(e.writtenByStubs,function(e,n){var i=t._methodInvokers[n];return i&&i.sentMessage});n&&(++i,e.flushCallbacks.push(o))})}),0===i&&n()},_livedata_nosub:function(e){var t=this;if(t._livedata_data(e),v.has(t._subscriptions,e.id)){var n=t._subscriptions[e.id].errorCallback;t._subscriptions[e.id].remove(),n&&e.error&&n(new f.Error(e.error.error,e.error.reason,e.error.details))}},_process_nosub:function(){},_livedata_result:function(e){var t=this;if(v.isEmpty(t._outstandingMethodBlocks))return void f._debug("Received method result but no methods outstanding");for(var n,i=t._outstandingMethodBlocks[0].methods,o=0;o<i.length&&(n=i[o],n.methodId!==e.id);o++);return n?(i.splice(o,1),void(v.has(e,"error")?n.receiveResult(new f.Error(e.error.error,e.error.reason,e.error.details)):n.receiveResult(void 0,e.result))):void f._debug("Can't match method response to original method call",e)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!v.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!v.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+m.stringify(t));v.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;v.isEmpty(e._outstandingMethodBlocks)||v.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(e){f._debug("Received error from server: ",e.reason),e.offendingMessage&&f._debug("For: ",e.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!v.isEmpty(t)){if(v.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();v.last(e._outstandingMethodBlocks).wait||t[0].wait||(v.each(t[0].methods,function(t){v.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),v.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return v.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),t.Connection=o,e.connect=function(e,t){var n=new o(e,t);return h.push(n),n},h=[],e._allSubscriptionsReady=function(){return v.all(h,function(e){return v.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(f.refresh=function(){},f.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new y,i=function(e){if(f._debug(e),Package.reload){var t=Package.reload.Reload._migrationData("livedata")||{},i=t.DDPVersionNegotiationFailures||0;++i,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:i}]}),n.retryLater(i,function(){Package.reload.Reload._reload()})}};f.connection=e.connect(t,{onDDPVersionNegotiationFailure:i}),v.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(e){f[e]=v.bind(f.connection[e],f.connection)})}else f.connection=null;f.default_connection=f.connection,f.connect=e.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.ddp={DDP:e,LivedataTest:t}}(),function(){{var e;Package.meteor.Meteor,Package.logging.Log,Package.underscore._,Package.ddp.DDP,Package.ejson.EJSON}"undefined"==typeof Package&&(Package={}),Package["follower-livedata"]={Follower:e}}(),function(){Package.meteor.Meteor,Package.logging.Log,Package.underscore._,Package.ddp.DDP,Package.ejson.EJSON,Package["follower-livedata"].Follower;"undefined"==typeof Package&&(Package={}),Package["application-configuration"]={}}(),function(){var e,t,n=Package.meteor.Meteor,i=Package.random.Random,o=Package.ejson.EJSON,r=(Package.json.JSON,Package.underscore._),a=Package.minimongo.LocalCollection,s=(Package.minimongo.Minimongo,Package.logging.Log,Package.ddp.DDP),l=(Package.tracker.Tracker,Package.tracker.Deps,Package.check.check),c=Package.check.Match;(function(){t=function(){var e=this;e.noConnCollections={}};var e=function(e,t){return e in t||(t[e]=new a(e)),t[e]};r.extend(t.prototype,{open:function(t,n){var i=this;return t?n?(n._mongo_livedata_collections||(n._mongo_livedata_collections={}),e(t,n._mongo_livedata_collections)):e(t,i.noConnCollections):new a}}),t=new t}).call(this),function(){e={},e.Collection=function(o,l){var c=this;if(!(c instanceof e.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(o||null===o||(n._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(l&&l.methods&&(l={connection:l}),l&&l.manager&&!l.connection&&(l.connection=l.manager),l=r.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},l),l.idGeneration){case"MONGO":c._makeNewID=function(){var t=o?s.randomStream("/collection/"+o):i;return new e.ObjectID(t.hexString(24))};break;case"STRING":default:c._makeNewID=function(){var e=o?s.randomStream("/collection/"+o):i;return e.id()}}if(c._transform=a.wrapTransform(l.transform),c._connection=o&&null!==l.connection?l.connection?l.connection:n.isClient?n.connection:n.server:null,l._driver||(l._driver=o&&c._connection===n.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():t),c._collection=l._driver.open(o,c._connection),c._name=o,c._connection&&c._connection.registerStore){var u=c._connection.registerStore(o,{beginUpdate:function(e,t){(e>1||t)&&c._collection.pauseObservers(),t&&c._collection.remove({})},update:function(e){var t=a._idParse(e.id),n=c._collection.findOne(t);if("replace"===e.msg){var i=e.replace;return void(i?n?c._collection.update(t,i):c._collection.insert(i):n&&c._collection.remove(t))}if("added"===e.msg){if(n)throw new Error("Expected not to find a document already present for an add");c._collection.insert(r.extend({_id:t},e.fields))}else if("removed"===e.msg){if(!n)throw new Error("Expected to find a document already present for removed");c._collection.remove(t)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!n)throw new Error("Expected to find a document to change");if(!r.isEmpty(e.fields)){var o={};r.each(e.fields,function(e,t){void 0===e?(o.$unset||(o.$unset={}),o.$unset[t]=1):(o.$set||(o.$set={}),o.$set[t]=e)}),c._collection.update(t,o)}}},endUpdate:function(){c._collection.resumeObservers()},saveOriginals:function(){c._collection.saveOriginals()},retrieveOriginals:function(){return c._collection.retrieveOriginals()}});if(!u)throw new Error("There is already a collection named '"+o+"'")}c._defineMutationMethods(),Package.autopublish&&!l._preventAutopublish&&c._connection&&c._connection.publish&&c._connection.publish(null,function(){return c.find()},{is_auto:!0})},r.extend(e.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var t=this;return e.length<2?{transform:t._transform}:(l(e[1],c.Optional(c.ObjectIncluding({fields:c.Optional(c.OneOf(Object,void 0)),sort:c.Optional(c.OneOf(Object,Array,void 0)),limit:c.Optional(c.OneOf(Number,void 0)),skip:c.Optional(c.OneOf(Number,void 0))}))),r.extend({transform:t._transform},e[1]))},find:function(){var e=this,t=r.toArray(arguments);return e._collection.find(e._getFindSelector(t),e._getFindOptions(t))},findOne:function(){var e=this,t=r.toArray(arguments);return e._collection.findOne(e._getFindSelector(t),e._getFindOptions(t))}}),e.Collection._publishCursor=function(e,t,n){var i=e.observeChanges({added:function(e,i){t.added(n,e,i)},changed:function(e,i){t.changed(n,e,i)},removed:function(e){t.removed(n,e)}});t.onStop(function(){i.stop()})},e.Collection._rewriteSelector=function(t){if(a._selectorIsId(t)&&(t={_id:t}),!t||"_id"in t&&!t._id)return{_id:i.id()};var n={};return r.each(t,function(t,i){t instanceof RegExp?n[i]=u(t):t&&t.$regex instanceof RegExp?(n[i]=u(t.$regex),void 0!==t.$options&&(n[i].$options=t.$options)):n[i]=r.contains(["$or","$and","$nor"],i)?r.map(t,function(t){return e.Collection._rewriteSelector(t)
}):t}),n};var u=function(e){l(e,RegExp);var t={$regex:e.source},n="";return e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&(t.$options=n),t},d=function(e,t){if(!a._selectorIsIdPerhapsAsObject(e))throw new n.Error(403,"Not permitted. Untrusted code may only "+t+" documents by ID.")};r.each(["insert","update","remove"],function(t){e.Collection.prototype[t]=function(){var i,o,a,l=this,c=r.toArray(arguments);if(c.length&&(void 0===c[c.length-1]||c[c.length-1]instanceof Function)&&(i=c.pop()),"insert"===t){if(!c.length)throw new Error("insert requires an argument");if(c[0]=r.extend({},c[0]),"_id"in c[0]){if(o=c[0]._id,!o||!("string"==typeof o||o instanceof e.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var u=!0;if(l._connection&&l._connection!==n.server){var h=s._CurrentInvocation.get();h||(u=!1)}u&&(o=c[0]._id=l._makeNewID())}}else if(c[0]=e.Collection._rewriteSelector(c[0]),"update"===t){var f=c[2]=r.clone(c[2])||{};if(f&&"function"!=typeof f&&f.upsert)if(f.insertedId){if(!("string"==typeof f.insertedId||f.insertedId instanceof e.ObjectID))throw new Error("insertedId must be string or ObjectID")}else f.insertedId=l._makeNewID()}var p,g=function(e){return"insert"===t?(!o&&e&&(o=e),o):e};if(i&&(p=function(e,t){i(e,!e&&g(t))}),l._connection&&l._connection!==n.server){var h=s._CurrentInvocation.get(),m=h&&h.isSimulation;!n.isClient||p||m||(p=function(e){e&&n._debug(t+" failed: "+(e.reason||e.stack))}),m||"insert"===t||d(c[0],t),a=g(l._connection.apply(l._prefix+t,c,{returnStubValue:!0},p))}else{c.push(p);try{var v=l._collection[t].apply(l._collection,c);a=g(v)}catch(_){if(i)return i(_),null;throw _}}return a}}),e.Collection.prototype.upsert=function(e,t,n,i){var o=this;return i||"function"!=typeof n||(i=n,n={}),o.update(e,t,r.extend({},n,{_returnObject:!0,upsert:!0}),i)},e.Collection.prototype._ensureIndex=function(e,t){var n=this;if(!n._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");n._collection._ensureIndex(e,t)},e.Collection.prototype._dropIndex=function(e){var t=this;if(!t._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");t._collection._dropIndex(e)},e.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},e.Collection.prototype._createCappedCollection=function(e,t){var n=this;if(!n._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");n._collection._createCappedCollection(e,t)},e.ObjectID=a._ObjectID,e.Cursor=a.Cursor,e.Collection.Cursor=e.Cursor,e.Collection.ObjectID=e.ObjectID,function(){var t=function(e,t){var n=["insert","update","remove","fetch","transform"];r.each(r.keys(t),function(t){if(!r.contains(n,t))throw new Error(e+": Invalid key: "+t)});var i=this;if(i._restricted=!0,r.each(["insert","update","remove"],function(n){if(t[n]){if(!(t[n]instanceof Function))throw new Error(e+": Value for `"+n+"` must be a function");t[n].transform=void 0===t.transform?i._transform:a.wrapTransform(t.transform),i._validators[n][e].push(t[n])}}),t.update||t.remove||t.fetch){if(t.fetch&&!(t.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");i._updateFetch(t.fetch)}};e.Collection.prototype.allow=function(e){t.call(this,"allow",e)},e.Collection.prototype.deny=function(e){t.call(this,"deny",e)}}(),e.Collection.prototype._defineMutationMethods=function(){var e=this;if(e._restricted=!1,e._insecure=void 0,e._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},e._name&&(e._prefix="/"+e._name+"/",e._connection)){var t={};r.each(["insert","update","remove"],function(i){t[e._prefix+i]=function(){l(arguments,[c.Any]);var t=r.toArray(arguments);try{var o=null;if("insert"!==i||r.has(t[0],"_id")||(o=e._makeNewID()),this.isSimulation)return null!==o&&(t[0]._id=o),e._collection[i].apply(e._collection,t);if("insert"!==i&&d(t[0],i),e._restricted){if(0===e._validators[i].allow.length)throw new n.Error(403,"Access denied. No allow validators set on restricted collection for method '"+i+"'.");var a="_validated"+i.charAt(0).toUpperCase()+i.slice(1);return t.unshift(this.userId),"insert"===i&&t.push(o),e[a].apply(e,t)}if(e._isInsecure())return null!==o&&(t[0]._id=o),e._collection[i].apply(e._collection,t);throw new n.Error(403,"Access denied")}catch(s){throw"MongoError"===s.name||"MinimongoError"===s.name?new n.Error(409,s.toString()):s}}}),(n.isClient||e._connection===n.server)&&e._connection.methods(t)}},e.Collection.prototype._updateFetch=function(e){var t=this;t._validators.fetchAllFields||(e?t._validators.fetch=r.union(t._validators.fetch,e):(t._validators.fetchAllFields=!0,t._validators.fetch=null))},e.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var h=function(e,t,n){var i=t;return e.transform&&(i=o.clone(t),null!==n&&(i._id=n),i=e.transform(i)),i};e.Collection.prototype._validatedInsert=function(e,t,i){var o=this;if(r.any(o._validators.insert.deny,function(n){return n(e,h(n,t,i))}))throw new n.Error(403,"Access denied");if(r.all(o._validators.insert.allow,function(n){return!n(e,h(n,t,i))}))throw new n.Error(403,"Access denied");null!==i&&(t._id=i),o._collection.insert.call(o._collection,t)};var f=function(e,t){return e.transform?e.transform(t):t};e.Collection.prototype._validatedUpdate=function(e,t,i,o){var s=this;if(o=o||{},!a._selectorIsIdPerhapsAsObject(t))throw new Error("validated update should be of a single ID");if(o.upsert)throw new n.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var l=[];r.each(i,function(e,t){if("$"!==t.charAt(0))throw new n.Error(403,"Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.");if(!r.has(p,t))throw new n.Error(403,"Access denied. Operator "+t+" not allowed in a restricted collection.");r.each(r.keys(e),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),r.contains(l,e)||l.push(e)})});var c={transform:null};s._validators.fetchAllFields||(c.fields={},r.each(s._validators.fetch,function(e){c.fields[e]=1}));var u=s._collection.findOne(t,c);if(!u)return 0;var d;if(r.any(s._validators.update.deny,function(t){return d||(d=f(t,u)),t(e,d,l,i)}))throw new n.Error(403,"Access denied");if(r.all(s._validators.update.allow,function(t){return d||(d=f(t,u)),!t(e,d,l,i)}))throw new n.Error(403,"Access denied");return s._collection.update.call(s._collection,t,i,o)};var p={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};e.Collection.prototype._validatedRemove=function(e,t){var i=this,o={transform:null};i._validators.fetchAllFields||(o.fields={},r.each(i._validators.fetch,function(e){o.fields[e]=1}));var a=i._collection.findOne(t,o);if(!a)return 0;if(r.any(i._validators.remove.deny,function(t){return t(e,f(t,a))}))throw new n.Error(403,"Access denied");if(r.all(i._validators.remove.allow,function(t){return!t(e,f(t,a))}))throw new n.Error(403,"Access denied");return i._collection.remove.call(i._collection,t)},n.Collection=e.Collection}.call(this),"undefined"==typeof Package&&(Package={}),Package.mongo={Mongo:e}}(),function(){var e,t,n=Package.meteor.Meteor,i=(Package.tracker.Tracker,Package.tracker.Deps,Package.retry.Retry),o=(Package.ddp.DDP,Package.mongo.Mongo),r=Package.underscore._;(function(){var a=__meteor_runtime_config__.autoupdateVersion||"unknown",s=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";t=new o.Collection("meteor_autoupdate_clientVersions"),e={},e.newClientAvailable=function(){return!!t.findOne({_id:"version",version:{$ne:a}})||!!t.findOne({_id:"version-refreshable",version:{$ne:s}})};var l=!1,c=new i({minCount:0,baseTimeout:3e4}),u=0;e._retrySubscription=function(){n.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){n._debug("autoupdate subscription failed:",t),u++,c.retryLater(u,function(){e._retrySubscription()})},onReady:function(){if(Package.reload)var e=function(e){if("version-refreshable"===e._id&&e.version!==s){s=e.version;var t=e.assets&&e.assets.allCss||[],o=[];r.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&o.push(e)});var c=function(e,t){var i=r.once(t);if(e.onload=function(){l=!0,i()},!l)var o=n.setInterval(function(){e.sheet&&(i(),n.clearInterval(o))},50)},u=r.after(t.length,function(){r.each(o,function(e){e.parentNode.removeChild(e)})}),d=function(e){document.getElementsByTagName("head").item(0).appendChild(e),c(e,function(){n.setTimeout(u,200)})};0!==t.length?r.each(t,function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("class","__meteor-css__"),t.setAttribute("href",e.url),d(t)}):u()}else"version"===e._id&&e.version!==a&&(i&&i.stop(),Package.reload.Reload._reload())},i=t.find().observe({added:e,changed:e})}})},e._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:e}}(),function(){Package.meteor.Meteor,Package.reload.Reload,Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["meteor-platform"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.random.Random;(function(){var n,i="_localstorage_test_"+t.id();try{window.localStorage&&(window.localStorage.setItem(i,i),n=window.localStorage.getItem(i),window.localStorage.removeItem(i))}catch(o){}i===n&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}(),function(){{var e,t;Package.meteor.Meteor}(function(){!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=rt.type(e);return"function"===n||rt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(rt.isFunction(t))return rt.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return rt.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ft.test(t))return rt.filter(t,e,n);t=rt.filter(t,e)}return rt.grep(e,function(e){return rt.inArray(e,t)>=0!==n})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=wt[e]={};return rt.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function a(){gt.addEventListener?(gt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(gt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(gt.addEventListener||"load"===event.type||"complete"===gt.readyState)&&(a(),rt.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Ct,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:St.test(n)?rt.parseJSON(n):n}catch(o){}rt.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!rt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(rt.acceptData(e)){var o,r,a=rt.expando,s=e.nodeType,l=s?rt.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[a]=G.pop()||rt.guid++:a),l[c]||(l[c]=s?{}:{toJSON:rt.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=rt.extend(l[c],t):l[c].data=rt.extend(l[c].data,t)),r=l[c],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[rt.camelCase(t)]=n),"string"==typeof t?(o=r[t],null==o&&(o=r[rt.camelCase(t)])):o=r,o}}function d(e,t,n){if(rt.acceptData(e)){var i,o,r=e.nodeType,a=r?rt.cache:e,s=r?e[rt.expando]:rt.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){rt.isArray(t)?t=t.concat(rt.map(t,rt.camelCase)):t in i?t=[t]:(t=rt.camelCase(t),t=t in i?[t]:t.split(" ")),o=t.length;for(;o--;)delete i[t[o]];if(n?!c(i):!rt.isEmptyObject(i))return}(n||(delete a[s].data,c(a[s])))&&(r?rt.cleanData([e],!0):it.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function h(){return!0}function f(){return!1}function p(){try{return gt.activeElement}catch(e){}}function g(e){var t=Rt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,i,o=0,r=typeof e.getElementsByTagName!==xt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==xt?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||rt.nodeName(i,t)?r.push(i):rt.merge(r,m(i,t));return void 0===t||t&&rt.nodeName(e,t)?rt.merge([e],r):r}function v(e){It.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t){return rt.nodeName(e,"table")&&rt.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==rt.find.attr(e,"type"))+"/"+e.type,e}function b(e){var t=Gt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,i=0;null!=(n=e[i]);i++)rt._data(n,"globalEval",!t||rt._data(t[i],"globalEval"))}function k(e,t){if(1===t.nodeType&&rt.hasData(e)){var n,i,o,r=rt._data(e),a=rt._data(t,r),s=r.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,o=s[n].length;o>i;i++)rt.event.add(t,n,s[n][i])}a.data&&(a.data=rt.extend({},a.data))}}function T(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[rt.expando]){o=rt._data(t);for(i in o.events)rt.removeEvent(t,i,o.handle);t.removeAttribute(rt.expando)}"script"===n&&t.text!==e.text?(y(t).text=e.text,b(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!rt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&It.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function x(t,n){var i=rt(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle?e.getDefaultComputedStyle(i[0]).display:rt.css(i[0],"display");return i.detach(),o}function S(e){var t=gt,n=en[e];return n||(n=x(e,t),"none"!==n&&n||(Zt=(Zt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=x(e,t),Zt.detach()),en[e]=n),n}function C(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function E(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=pn.length;o--;)if(t=pn[o]+n,t in e)return t;return i}function P(e,t){for(var n,i,o,r=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(r[a]=rt._data(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Mt(i)&&(r[a]=rt._data(i,"olddisplay",S(i.nodeName)))):r[a]||(o=Mt(i),(n&&"none"!==n||!o)&&rt._data(i,"olddisplay",o?n:rt.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function M(e,t,n){var i=un.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function D(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=rt.css(e,n+Pt[r],!0,o)),i?("content"===n&&(a-=rt.css(e,"padding"+Pt[r],!0,o)),"margin"!==n&&(a-=rt.css(e,"border"+Pt[r]+"Width",!0,o))):(a+=rt.css(e,"padding"+Pt[r],!0,o),"padding"!==n&&(a+=rt.css(e,"border"+Pt[r]+"Width",!0,o)));return a}function I(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=tn(e),a=it.boxSizing()&&"border-box"===rt.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=nn(e,t,r),(0>o||null==o)&&(o=e.style[t]),rn.test(o))return o;i=a&&(it.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+D(e,t,n||(a?"border":"content"),i,r)+"px"}function L(e,t,n,i,o){return new L.prototype.init(e,t,n,i,o)}function A(){return setTimeout(function(){gn=void 0}),gn=rt.now()}function H(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=Pt[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var i,o=(wn[t]||[]).concat(wn["*"]),r=0,a=o.length;a>r;r++)if(i=o[r].call(n,t,e))return i}function N(e,t,n){var i,o,r,a,s,l,c,u,d=this,h={},f=e.style,p=e.nodeType&&Mt(e),g=rt._data(e,"fxshow");n.queue||(s=rt._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,rt.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=rt.css(e,"display"),u=S(e.nodeName),"none"===c&&(c=u),"inline"===c&&"none"===rt.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==u?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",it.shrinkWrapBlocks()||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],vn.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||rt.style(e,i)}if(!rt.isEmptyObject(h)){g?"hidden"in g&&(p=g.hidden):g=rt._data(e,"fxshow",{}),r&&(g.hidden=!p),p?rt(e).show():d.done(function(){rt(e).hide()}),d.done(function(){var t;rt._removeData(e,"fxshow");for(t in h)rt.style(e,t,h[t])});for(i in h)a=O(p?g[i]:0,i,d),i in g||(g[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function R(e,t){var n,i,o,r,a;for(n in e)if(i=rt.camelCase(n),o=t[i],r=e[n],rt.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),a=rt.cssHooks[i],a&&"expand"in a){r=a.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function j(e,t,n){var i,o,r=0,a=bn.length,s=rt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=gn||A(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return s.notifyWith(e,[c,r,n]),1>r&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:rt.extend({},t),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:gn||A(),duration:n.duration,tweens:[],createTween:function(t,n){var i=rt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(R(u,c.opts.specialEasing);a>r;r++)if(i=bn[r].call(c,e,u,c.opts))return i;return rt.map(u,O,c),rt.isFunction(c.opts.start)&&c.opts.start.call(e,c),rt.fx.timer(rt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(bt)||[];if(rt.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function F(e,t,n,i){function o(s){var l;return r[s]=!0,rt.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=e===Wn;return o(t.dataTypes[0])||!r["*"]&&o("*")}function V(e,t){var n,i,o=rt.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&rt.extend(!0,e,n),e}function z(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}i||(i=a)}r=r||i}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function $(e,t,n,i){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function U(e,t,n,i){var o;if(rt.isArray(t))rt.each(t,function(t,o){n||Xn.test(e)?i(e,o):U(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==rt.type(t))i(e,t);else for(o in t)U(e+"["+o+"]",t[o],n,i)}function W(){try{return new e.XMLHttpRequest}catch(t){}}function q(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Y(e){return rt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],X=G.slice,Q=G.concat,J=G.push,K=G.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt="".trim,it={},ot="1.11.0",rt=function(e,t){return new rt.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,lt=/-([\da-z])/gi,ct=function(e,t){return t.toUpperCase()};rt.fn=rt.prototype={jquery:ot,constructor:rt,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=rt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return rt.each(this,e,t)},map:function(e){return this.pushStack(rt.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:G.sort,splice:G.splice},rt.extend=rt.fn.extend=function(){var e,t,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||rt.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(i in o)e=a[i],n=o[i],a!==n&&(c&&n&&(rt.isPlainObject(n)||(t=rt.isArray(n)))?(t?(t=!1,r=e&&rt.isArray(e)?e:[]):r=e&&rt.isPlainObject(e)?e:{},a[i]=rt.extend(c,r,n)):void 0!==n&&(a[i]=n));return a},rt.extend({expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===rt.type(e)},isArray:Array.isArray||function(e){return"array"===rt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==rt.type(e)||e.nodeType||rt.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&rt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(lt,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o,r=0,a=e.length,s=n(e);if(i){if(s)for(;a>r&&(o=t.apply(e[r],i),o!==!1);r++);else for(r in e)if(o=t.apply(e[r],i),o===!1)break}else if(s)for(;a>r&&(o=t.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=t.call(e[r],r,e[r]),o===!1)break;return e},trim:nt&&!nt.call("﻿ ")?function(e){return null==e?"":nt.call(e)}:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?rt.merge(i,"string"==typeof e?[e]:e):J.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(K)return K.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;n>i;)e[o++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],r=0,a=e.length,s=!n;a>r;r++)i=!t(e[r],r),i!==s&&o.push(e[r]);return o},map:function(e,t,i){var o,r=0,a=e.length,s=n(e),l=[];if(s)for(;a>r;r++)o=t(e[r],r,i),null!=o&&l.push(o);else for(r in e)o=t(e[r],r,i),null!=o&&l.push(o);return Q.apply([],l)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(o=e[t],t=e,e=o),rt.isFunction(e)?(n=X.call(arguments,2),i=function(){return e.apply(t||this,n.concat(X.call(arguments)))},i.guid=e.guid=e.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:it}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ut=function(e){function t(e,t,n,i){var o,r,a,s,l,c,d,p,g,m;if((t?t.ownerDocument||t:F)!==L&&I(t),t=t||L,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(H&&!i){if(o=_t.exec(e))if(a=o[1]){if(9===s){if(r=t.getElementById(a),!r||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&j(t,r)&&r.id===a)return n.push(r),n}else{if(o[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&T.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(T.qsa&&(!O||!O.test(e))){if(p=d=B,g=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(d=t.getAttribute("id"))?p=d.replace(bt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+f(c[l]);g=yt.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Z.apply(n,g.querySelectorAll(m)),n}catch(v){}finally{d||t.removeAttribute("id")}}}return w(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function o(e){var t=L.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var o,r=e([],n.length,t),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function u(e){return e&&typeof e.getElementsByTagName!==Y&&e}function d(){}function h(e,n){var i,o,r,a,s,l,c,u=U[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=x.preFilter;s;){(!i||(o=ct.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=ut.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(lt," ")}),s=s.slice(i.length));for(a in x.filter)!(o=pt[a].exec(s))||c[a]&&!(o=c[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):U(e,l).slice(0)}function f(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=z++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,a){var s,l,c=[V,r];if(a){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if(l=t[B]||(t[B]={}),(s=l[i])&&s[0]===V&&s[1]===r)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function g(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(!n||n(r,i,o))&&(a.push(r),c&&t.push(s));return a}function v(e,t,n,o,r,a){return o&&!o[B]&&(o=v(o)),r&&!r[B]&&(r=v(r,a)),i(function(i,a,s,l){var c,u,d,h=[],f=[],p=a.length,g=i||b(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?g:m(g,h,e,s,l),_=n?r||(i?e:p||o)?[]:a:v;if(n&&n(v,_,s,l),o)for(c=m(_,f),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(_[f[u]]=!(v[f[u]]=d));if(i){if(r||e){if(r){for(c=[],u=_.length;u--;)(d=_[u])&&c.push(v[u]=d);r(null,_=[],c,l)}for(u=_.length;u--;)(d=_[u])&&(c=r?tt.call(i,d):h[u])>-1&&(i[c]=!(a[c]=d))}}else _=m(_===a?_.splice(p,_.length):_),r?r(null,a,_,l):Z.apply(a,_)})}function _(e){for(var t,n,i,o=e.length,r=x.relative[e[0].type],a=r||x.relative[" "],s=r?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return tt.call(t,e)>-1},a,!0),u=[function(e,n,i){return!r&&(i||n!==P)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];o>s;s++)if(n=x.relative[e[s].type])u=[p(g(u),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[B]){for(i=++s;o>i&&!x.relative[e[i].type];i++);return v(s>1&&g(u),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,i>s&&_(e.slice(s,i)),o>i&&_(e=e.slice(i)),o>i&&f(e))}u.push(n)}return g(u)}function y(e,n){var o=n.length>0,r=e.length>0,a=function(i,a,s,l,c){var u,d,h,f=0,p="0",g=i&&[],v=[],_=P,y=i||r&&x.find.TAG("*",c),b=V+=null==_?1:Math.random()||.1,w=y.length;for(c&&(P=a!==L&&a);p!==w&&null!=(u=y[p]);p++){if(r&&u){for(d=0;h=e[d++];)if(h(u,a,s)){l.push(u);break}c&&(V=b)}o&&((u=!h&&u)&&f--,i&&g.push(u))}if(f+=p,o&&p!==f){for(d=0;h=n[d++];)h(g,v,a,s);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=J.call(l));v=m(v)}Z.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(V=b,P=_),g};return o?i(a):a}function b(e,n,i){for(var o=0,r=n.length;r>o;o++)t(e,n[o],i);return i}function w(e,t,n,i){var o,r,a,s,l,c=h(e);if(!i&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&T.getById&&9===t.nodeType&&H&&x.relative[r[1].type]){if(t=(x.find.ID(a.matches[0].replace(wt,kt),t)||[])[0],!t)return n;e=e.slice(r.shift().value.length)}for(o=pt.needsContext.test(e)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(wt,kt),yt.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(o,1),e=i.length&&f(r),!e)return Z.apply(n,i),n;break}}return E(e,c)(i,t,!H,n,yt.test(e)&&u(t.parentNode)||t),n}var k,T,x,S,C,E,P,M,D,I,L,A,H,O,N,R,j,B="sizzle"+-new Date,F=e.document,V=0,z=0,$=n(),U=n(),W=n(),q=function(e,t){return e===t&&(D=!0),0},Y="undefined",G=1<<31,X={}.hasOwnProperty,Q=[],J=Q.pop,K=Q.push,Z=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=ot.replace("w","w#"),at="\\["+it+"*("+ot+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+rt+")|)|)"+it+"*\\]",st=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(st),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,_t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),kt=function(e,t,n){var i="0x"+t-65536;
return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Z.apply(Q=et.call(F.childNodes),F.childNodes),Q[F.childNodes.length].nodeType}catch(Tt){Z={apply:Q.length?function(e,t){K.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}T=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:F,i=n.defaultView;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,A=n.documentElement,H=!C(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){I()},!1):i.attachEvent&&i.attachEvent("onunload",function(){I()})),T.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=vt.test(n.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),T.getById=o(function(e){return A.appendChild(e).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),T.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==Y&&H){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(wt,kt);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(wt,kt);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=T.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},x.find.CLASS=T.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&H?t.getElementsByClassName(e):void 0},N=[],O=[],(T.qsa=vt.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&O.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(T.matchesSelector=vt.test(R=A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(e){T.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),N.push("!=",st)}),O=O.length&&new RegExp(O.join("|")),N=N.length&&new RegExp(N.join("|")),t=vt.test(A.compareDocumentPosition),j=t||vt.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return D=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!T.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===F&&j(F,e)?-1:t===n||t.ownerDocument===F&&j(F,t)?1:M?tt.call(M,e)-tt.call(M,t):0:4&i?-1:1)}:function(e,t){if(e===t)return D=!0,0;var i,o=0,r=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!r||!s)return e===n?-1:t===n?1:r?-1:s?1:M?tt.call(M,e)-tt.call(M,t):0;if(r===s)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===F?-1:c[o]===F?1:0},n):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&I(e),n=n.replace(dt,"='$1']"),!(!T.matchesSelector||!H||N&&N.test(n)||O&&O.test(n)))try{var i=R.call(e,n);if(i||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(o){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&I(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&I(e);var n=x.attrHandle[t.toLowerCase()],i=n&&X.call(x.attrHandle,t.toLowerCase())?n(e,t,!H):void 0;return void 0!==i?i:T.attributes||!H?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(D=!T.detectDuplicates,M=!T.sortStable&&e.slice(0),e.sort(q),D){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return M=null,e},S=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,kt),e[3]=(e[4]||e[5]||"").replace(wt,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&ht.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:n?(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r+" ").indexOf(i)>-1:"|="===n?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,g=r!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),_=!l&&!s;if(m){if(r){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&_){for(u=m[B]||(m[B]={}),c=u[e]||[],f=c[0]===V&&c[1],h=c[0]===V&&c[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[V,f,h];break}}else if(_&&(c=(t[B]||(t[B]={}))[e])&&c[0]===V)h=c[1];else for(;(d=++f&&d&&d[g]||(h=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(_&&((d[B]||(d[B]={}))[e]=[V,h]),d!==t)););return h-=o,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var o,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[B]?r(n):r.length>1?(o=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=r(e,n),a=o.length;a--;)i=tt.call(e,o[a]),e[i]=!(t[i]=o[a])}):function(e){return r(e,0,o)}):r}},pseudos:{not:i(function(e){var t=[],n=[],o=E(e.replace(lt,"$1"));return o[B]?i(function(e,t,n,i){for(var r,a=o(e,null,i,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,i,r){return t[0]=e,o(t,null,r,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,kt).toLowerCase(),function(t){var n;do if(n=H?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[k]=s(k);for(k in{submit:!0,reset:!0})x.pseudos[k]=l(k);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,E=t.compile=function(e,t){var n,i=[],o=[],r=W[e+" "];if(!r){for(t||(t=h(e)),n=t.length;n--;)r=_(t[n]),r[B]?i.push(r):o.push(r);r=W(e,y(o,i))}return r},T.sortStable=B.split("").sort(q).join("")===B,T.detectDuplicates=!!D,I(),T.sortDetached=o(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);rt.find=ut,rt.expr=ut.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ut.uniqueSort,rt.text=ut.getText,rt.isXMLDoc=ut.isXML,rt.contains=ut.contains;var dt=rt.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;rt.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?rt.find.matchesSelector(i,e)?[i]:[]:rt.find.matches(e,rt.grep(t,function(e){return 1===e.nodeType}))},rt.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(rt(e).filter(function(){for(t=0;o>t;t++)if(rt.contains(i[t],this))return!0}));for(t=0;o>t;t++)rt.find(e,i[t],n);return n=this.pushStack(o>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&dt.test(e)?rt(e):e||[],!1).length}});var pt,gt=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=rt.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof rt?t[0]:t,rt.merge(this,rt.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:gt,!0)),ht.test(n[1])&&rt.isPlainObject(t))for(n in t)rt.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=gt.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pt.find(e);this.length=1,this[0]=i}return this.context=gt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):rt.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(rt):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),rt.makeArray(e,this))};vt.prototype=rt.fn,pt=rt(gt);var _t=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!rt(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),rt.fn.extend({has:function(e){var t,n=rt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(rt.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,r=[],a=dt.test(e)||"string"!=typeof e?rt(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?rt.unique(r):r)},index:function(e){return e?"string"==typeof e?rt.inArray(this[0],rt(e)):rt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(rt.unique(rt.merge(this.get(),rt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),rt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return rt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return rt.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return rt.dir(e,"nextSibling")},prevAll:function(e){return rt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return rt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return rt.dir(e,"previousSibling",n)},siblings:function(e){return rt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return rt.sibling(e.firstChild)},contents:function(e){return rt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:rt.merge([],e.childNodes)}},function(e,t){rt.fn[e]=function(n,i){var o=rt.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=rt.filter(i,o)),this.length>1&&(yt[e]||(o=rt.unique(o)),_t.test(e)&&(o=o.reverse())),this.pushStack(o)}});var bt=/\S+/g,wt={};rt.Callbacks=function(e){e="string"==typeof e?wt[e]||r(e):rt.extend({},e);var t,n,i,o,a,s,l=[],c=!e.once&&[],u=function(r){for(n=e.memory&&r,i=!0,a=s||0,s=0,o=l.length,t=!0;l&&o>a;a++)if(l[a].apply(r[0],r[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function r(t){rt.each(t,function(t,n){var i=rt.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),t?o=l.length:n&&(s=i,u(n))}return this},remove:function(){return l&&rt.each(arguments,function(e,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),t&&(o>=i&&o--,a>=i&&a--)}),this},has:function(e){return e?rt.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},rt.extend({Deferred:function(e){var t=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return rt.Deferred(function(n){rt.each(t,function(t,r){var a=rt.isFunction(e[t])&&e[t];o[r[1]](function(){var e=a&&a.apply(this,arguments);e&&rt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?rt.extend(e,i):i}},o={};return i.pipe=i.then,rt.each(t,function(e,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=X.call(arguments),a=r.length,s=1!==a||e&&rt.isFunction(e.promise)?a:0,l=1===s?e:rt.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?X.call(arguments):o,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>o;o++)r[o]&&rt.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,t)):--s;return s||l.resolveWith(i,r),l.promise()}});var kt;rt.fn.ready=function(e){return rt.ready.promise().done(e),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(e){e?rt.readyWait++:rt.ready(!0)},ready:function(e){if(e===!0?!--rt.readyWait:!rt.isReady){if(!gt.body)return setTimeout(rt.ready);rt.isReady=!0,e!==!0&&--rt.readyWait>0||(kt.resolveWith(gt,[rt]),rt.fn.trigger&&rt(gt).trigger("ready").off("ready"))}}}),rt.ready.promise=function(t){if(!kt)if(kt=rt.Deferred(),"complete"===gt.readyState)setTimeout(rt.ready);else if(gt.addEventListener)gt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{gt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&gt.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!rt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}a(),rt.ready()}}()}return kt.promise(t)};var Tt,xt="undefined";for(Tt in rt(it))break;it.ownLast="0"!==Tt,it.inlineBlockNeedsLayout=!1,rt(function(){var e,t,n=gt.getElementsByTagName("body")[0];n&&(e=gt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=gt.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==xt&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(it.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=gt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),rt.acceptData=function(e){var t=rt.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ct=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?rt.cache[e[rt.expando]]:e[rt.expando],!!e&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),rt.fn.extend({data:function(e,t){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=rt.data(r),1===r.nodeType&&!rt._data(r,"parsedAttrs"))){for(n=a.length;n--;)i=a[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(r,i,o[i]));rt._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){rt.data(this,e)}):arguments.length>1?this.each(function(){rt.data(this,e,t)}):r?l(r,e,rt.data(r,e)):void 0},removeData:function(e){return this.each(function(){rt.removeData(this,e)})}}),rt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=rt._data(e,t),n&&(!i||rt.isArray(n)?i=rt._data(e,t,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=rt.queue(e,t),i=n.length,o=n.shift(),r=rt._queueHooks(e,t),a=function(){rt.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return rt._data(e,n)||rt._data(e,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(e,t+"queue"),rt._removeData(e,n)})})}}),rt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?rt.queue(this[0],e):void 0===t?this:this.each(function(){var n=rt.queue(this,e,t);rt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&rt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){rt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=rt.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=rt._data(r[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var Et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=["Top","Right","Bottom","Left"],Mt=function(e,t){return e=t||e,"none"===rt.css(e,"display")||!rt.contains(e.ownerDocument,e)},Dt=rt.access=function(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===rt.type(n)){o=!0;for(s in n)rt.access(e,t,s,n[s],!0,r,a)}else if(void 0!==i&&(o=!0,rt.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(rt(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r},It=/^(?:checkbox|radio)$/i;!function(){var e=gt.createDocumentFragment(),t=gt.createElement("div"),n=gt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==gt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),it.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(i){it.deleteExpando=!1}}e=t=n=null}(),function(){var t,n,i=gt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(it[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),it[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Lt=/^(?:input|select|textarea)$/i,At=/^key/,Ht=/^(?:mouse|contextmenu)|click/,Ot=/^(?:focusinfocus|focusoutblur)$/,Nt=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,c,u,d,h,f,p,g,m=rt._data(e);if(m){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=rt.guid++),(a=m.events)||(a=m.events={}),(u=m.handle)||(u=m.handle=function(e){return typeof rt===xt||e&&rt.event.triggered===e.type?void 0:rt.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(bt)||[""],s=t.length;s--;)r=Nt.exec(t[s])||[],f=g=r[1],p=(r[2]||"").split(".").sort(),f&&(c=rt.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=rt.event.special[f]||{},d=rt.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&rt.expr.match.needsContext.test(o),namespace:p.join(".")},l),(h=a[f])||(h=a[f]=[],h.delegateCount=0,c.setup&&c.setup.call(e,i,p,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),rt.event.global[f]=!0);e=null}},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,h,f,p,g,m=rt.hasData(e)&&rt._data(e);if(m&&(u=m.events)){for(t=(t||"").match(bt)||[""],c=t.length;c--;)if(s=Nt.exec(t[c])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(d=rt.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!o&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(e,a));l&&!h.length&&(d.teardown&&d.teardown.call(e,p,m.handle)!==!1||rt.removeEvent(e,f,m.handle),delete u[f])}else for(f in u)rt.event.remove(e,f+t[c],n,i,!0);rt.isEmptyObject(u)&&(delete m.handle,rt._removeData(e,"events"))}},trigger:function(t,n,i,o){var r,a,s,l,c,u,d,h=[i||gt],f=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=u=i=i||gt,3!==i.nodeType&&8!==i.nodeType&&!Ot.test(f+rt.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[rt.expando]?t:new rt.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:rt.makeArray(n,[t]),c=rt.event.special[f]||{},o||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!o&&!c.noBubble&&!rt.isWindow(i)){for(l=c.delegateType||f,Ot.test(l+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(i.ownerDocument||gt)&&h.push(u.defaultView||u.parentWindow||e)}for(d=0;(s=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||f,r=(rt._data(s,"events")||{})[t.type]&&rt._data(s,"handle"),r&&r.apply(s,n),r=a&&s[a],r&&r.apply&&rt.acceptData(s)&&(t.result=r.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!o&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),n)===!1)&&rt.acceptData(i)&&a&&i[f]&&!rt.isWindow(i)){u=i[a],u&&(i[a]=null),rt.event.triggered=f;try{i[f]()}catch(g){}rt.event.triggered=void 0,u&&(i[a]=u)}return t.result}},dispatch:function(e){e=rt.event.fix(e);var t,n,i,o,r,a=[],s=X.call(arguments),l=(rt._data(this,"events")||{})[e.type]||[],c=rt.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=rt.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],r=0;s>r;r++)i=t[r],n=i.selector+" ",void 0===o[n]&&(o[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[rt.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Ht.test(o)?this.mouseHooks:At.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new rt.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||gt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||gt,o=i.documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return rt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=rt.extend(new rt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(o,null,t):rt.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=gt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===xt&&(e[i]=null),e.detachEvent(i,n))},rt.Event=function(e,t){return this instanceof rt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?h:f):this.type=e,t&&rt.extend(this,t),this.timeStamp=e&&e.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(e,t)},rt.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h,this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){rt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==i&&!rt.contains(i,o))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),it.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=rt.nodeName(t,"input")||rt.nodeName(t,"button")?t.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&rt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),it.changeBubbles||(rt.event.special.change={setup:function(){return Lt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,e,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(e){var t=e.target;
Lt.test(t.nodeName)&&!rt._data(t,"changeBubbles")&&(rt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||rt.event.simulate("change",this.parentNode,e,!0)}),rt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),it.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){rt.event.simulate(t,e.target,rt.event.fix(e),!0)};rt.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=rt._data(i,t);o||i.addEventListener(e,n,!0),rt._data(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=rt._data(i,t)-1;o?rt._data(i,t,o):(i.removeEventListener(e,n,!0),rt._removeData(i,t))}}}),rt.fn.extend({on:function(e,t,n,i,o){var r,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(r in e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=f;else if(!i)return this;return 1===o&&(a=i,i=function(e){return rt().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=rt.guid++)),this.each(function(){rt.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,rt(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){rt.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){rt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?rt.event.trigger(e,t,n,!0):void 0}});var Rt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",jt=/ jQuery\d+="(?:null|\d+)"/g,Bt=new RegExp("<(?:"+Rt+")[\\s/>]","i"),Ft=/^\s+/,Vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,$t=/<tbody/i,Ut=/<|&#?\w+;/,Wt=/<(?:script|style|link)/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/^$|\/(?:java|ecma)script/i,Gt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Jt=g(gt),Kt=Jt.appendChild(gt.createElement("div"));Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,rt.extend({clone:function(e,t,n){var i,o,r,a,s,l=rt.contains(e.ownerDocument,e);if(it.html5Clone||rt.isXMLDoc(e)||!Bt.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Kt.innerHTML=e.outerHTML,Kt.removeChild(r=Kt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||rt.isXMLDoc(e)))for(i=m(r),s=m(e),a=0;null!=(o=s[a]);++a)i[a]&&T(o,i[a]);if(t)if(n)for(s=s||m(e),i=i||m(r),a=0;null!=(o=s[a]);a++)k(o,i[a]);else k(e,r);return i=m(r,"script"),i.length>0&&w(i,!l&&m(e,"script")),i=s=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,a,s,l,c,u,d=e.length,h=g(t),f=[],p=0;d>p;p++)if(r=e[p],r||0===r)if("object"===rt.type(r))rt.merge(f,r.nodeType?[r]:r);else if(Ut.test(r)){for(s=s||h.appendChild(t.createElement("div")),l=(zt.exec(r)||["",""])[1].toLowerCase(),u=Qt[l]||Qt._default,s.innerHTML=u[1]+r.replace(Vt,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!it.leadingWhitespace&&Ft.test(r)&&f.push(t.createTextNode(Ft.exec(r)[0])),!it.tbody)for(r="table"!==l||$t.test(r)?"<table>"!==u[1]||$t.test(r)?0:s:s.firstChild,o=r&&r.childNodes.length;o--;)rt.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(rt.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else f.push(t.createTextNode(r));for(s&&h.removeChild(s),it.appendChecked||rt.grep(m(f,"input"),v),p=0;r=f[p++];)if((!i||-1===rt.inArray(r,i))&&(a=rt.contains(r.ownerDocument,r),s=m(h.appendChild(r),"script"),a&&w(s),n))for(o=0;r=s[o++];)Yt.test(r.type||"")&&n.push(r);return s=null,h},cleanData:function(e,t){for(var n,i,o,r,a=0,s=rt.expando,l=rt.cache,c=it.deleteExpando,u=rt.event.special;null!=(n=e[a]);a++)if((t||rt.acceptData(n))&&(o=n[s],r=o&&l[o])){if(r.events)for(i in r.events)u[i]?rt.event.remove(n,i):rt.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c?delete n[s]:typeof n.removeAttribute!==xt?n.removeAttribute(s):n[s]=null,G.push(o))}}}),rt.fn.extend({text:function(e){return Dt(this,function(e){return void 0===e?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||gt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?rt.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||rt.cleanData(m(n)),n.parentNode&&(t&&rt.contains(n.ownerDocument,n)&&w(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&rt.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&rt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return rt.clone(this,e,t)})},html:function(e){return Dt(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(jt,""):void 0;if(!("string"!=typeof e||Wt.test(e)||!it.htmlSerialize&&Bt.test(e)||!it.leadingWhitespace&&Ft.test(e)||Qt[(zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Vt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(rt.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,rt.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,i,o,r,a,s,l=0,c=this.length,u=this,d=c-1,h=e[0],f=rt.isFunction(h);if(f||c>1&&"string"==typeof h&&!it.checkClone&&qt.test(h))return this.each(function(n){var i=u.eq(n);f&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(s=rt.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(r=rt.map(m(s,"script"),y),o=r.length;c>l;l++)i=s,l!==d&&(i=rt.clone(i,!0,!0),o&&rt.merge(r,m(i,"script"))),t.call(this[l],i,l);if(o)for(a=r[r.length-1].ownerDocument,rt.map(r,b),l=0;o>l;l++)i=r[l],Yt.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(a,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Xt,"")));s=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){rt.fn[e]=function(e){for(var n,i=0,o=[],r=rt(e),a=r.length-1;a>=i;i++)n=i===a?this:this.clone(!0),rt(r[i])[t](n),J.apply(o,n.get());return this.pushStack(o)}});var Zt,en={};!function(){var e,t,n=gt.createElement("div"),i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(e.style.opacity),it.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,it.shrinkWrapBlocks=function(){var e,n,o,r;if(null==t){if(e=gt.getElementsByTagName("body")[0],!e)return;r="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=gt.createElement("div"),o=gt.createElement("div"),e.appendChild(n).appendChild(o),t=!1,typeof o.style.zoom!==xt&&(o.style.cssText=i+";width:1px;padding:1px;zoom:1",o.innerHTML="<div></div>",o.firstChild.style.width="5px",t=3!==o.offsetWidth),e.removeChild(n),e=n=o=null}return t}}();var tn,nn,on=/^margin/,rn=new RegExp("^("+Et+")(?!px)[a-z%]+$","i"),an=/^(top|right|bottom|left)$/;e.getComputedStyle?(tn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},nn=function(e,t,n){var i,o,r,a,s=e.style;return n=n||tn(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||rt.contains(e.ownerDocument,e)||(a=rt.style(e,t)),rn.test(a)&&on.test(t)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0===a?a:a+""}):gt.documentElement.currentStyle&&(tn=function(e){return e.currentStyle},nn=function(e,t,n){var i,o,r,a,s=e.style;return n=n||tn(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),rn.test(a)&&!an.test(t)&&(i=s.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,i=gt.getElementsByTagName("body")[0];i&&(t=gt.createElement("div"),n=gt.createElement("div"),t.style.cssText=c,i.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",rt.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){o=4===n.offsetWidth}),r=!0,a=!1,s=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(n,null)||{}).top,r="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width),i.removeChild(t),n=i=null)}var n,i,o,r,a,s,l=gt.createElement("div"),c="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",u="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=l.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(n.style.opacity),it.cssFloat=!!n.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===l.style.backgroundClip,n=l=null,rt.extend(it,{reliableHiddenOffsets:function(){if(null!=i)return i;var e,t,n,o=gt.createElement("div"),r=gt.getElementsByTagName("body")[0];if(r)return o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=gt.createElement("div"),e.style.cssText=c,r.appendChild(e).appendChild(o),o.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=o.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",i=n&&0===t[0].offsetHeight,r.removeChild(e),o=r=null,i},boxSizing:function(){return null==o&&t(),o},boxSizingReliable:function(){return null==r&&t(),r},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,n,i,o;if(null==s&&e.getComputedStyle){if(t=gt.getElementsByTagName("body")[0],!t)return;n=gt.createElement("div"),i=gt.createElement("div"),n.style.cssText=c,t.appendChild(n).appendChild(i),o=i.appendChild(gt.createElement("div")),o.style.cssText=i.style.cssText=u,o.style.marginRight=o.style.width="0",i.style.width="1px",s=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight),t.removeChild(n)}return s}})}(),rt.swap=function(e,t,n,i){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=a[r];return o};var sn=/alpha\([^)]*\)/i,ln=/opacity\s*=\s*([^)]*)/,cn=/^(none|table(?!-c[ea]).+)/,un=new RegExp("^("+Et+")(.*)$","i"),dn=new RegExp("^([+-])=("+Et+")","i"),hn={position:"absolute",visibility:"hidden",display:"block"},fn={letterSpacing:0,fontWeight:400},pn=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=rt.camelCase(t),l=e.style;if(t=rt.cssProps[s]||(rt.cssProps[s]=E(l,s)),a=rt.cssHooks[t]||rt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:l[t];if(r=typeof n,"string"===r&&(o=dn.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(rt.css(e,t)),r="number"),null!=n&&n===n&&("number"!==r||rt.cssNumber[s]||(n+="px"),it.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{l[t]="",l[t]=n}catch(c){}}},css:function(e,t,n,i){var o,r,a,s=rt.camelCase(t);return t=rt.cssProps[s]||(rt.cssProps[s]=E(e.style,s)),a=rt.cssHooks[t]||rt.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=nn(e,t,i)),"normal"===r&&t in fn&&(r=fn[t]),""===n||n?(o=parseFloat(r),n===!0||rt.isNumeric(o)?o||0:r):r}}),rt.each(["height","width"],function(e,t){rt.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&cn.test(rt.css(e,"display"))?rt.swap(e,hn,function(){return I(e,t,i)}):I(e,t,i):void 0},set:function(e,n,i){var o=i&&tn(e);return M(e,n,i?D(e,t,i,it.boxSizing()&&"border-box"===rt.css(e,"boxSizing",!1,o),o):0)}}}),it.opacity||(rt.cssHooks.opacity={get:function(e,t){return ln.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=rt.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===rt.trim(r.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=sn.test(r)?r.replace(sn,o):r+" "+o)}}),rt.cssHooks.marginRight=C(it.reliableMarginRight,function(e,t){return t?rt.swap(e,{display:"inline-block"},nn,[e,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(e,t){rt.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+Pt[i]+t]=r[i]||r[i-2]||r[0];return o}},on.test(e)||(rt.cssHooks[e+t].set=M)}),rt.fn.extend({css:function(e,t){return Dt(this,function(e,t,n){var i,o,r={},a=0;if(rt.isArray(t)){for(i=tn(e),o=t.length;o>a;a++)r[t[a]]=rt.css(e,t[a],!1,i);return r}return void 0!==n?rt.style(e,t,n):rt.css(e,t)},e,t,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Mt(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=L,L.prototype={constructor:L,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(rt.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.pos=t=this.options.duration?rt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=rt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){rt.fx.step[e.prop]?rt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[rt.cssProps[e.prop]]||rt.cssHooks[e.prop])?rt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},rt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},rt.fx=L.prototype.init,rt.fx.step={};var gn,mn,vn=/^(?:toggle|show|hide)$/,_n=new RegExp("^(?:([+-])=|)("+Et+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[N],wn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=_n.exec(t),r=o&&o[3]||(rt.cssNumber[e]?"":"px"),a=(rt.cssNumber[e]||"px"!==r&&+i)&&_n.exec(rt.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+i||1;do s=s||".5",a/=s,rt.style(n.elem,e,a+r);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};rt.Animation=rt.extend(j,{tweener:function(e,t){rt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),rt.speed=function(e,t,n){var i=e&&"object"==typeof e?rt.extend({},e):{complete:n||!n&&t||rt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!rt.isFunction(t)&&t};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Mt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=rt.isEmptyObject(e),r=rt.speed(t,n,i),a=function(){var t=j(this,rt.extend({},e),r);(o||rt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=rt.timers,a=rt._data(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&yn.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));(t||!n)&&rt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=rt._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=rt.timers,a=i?i.length:0;for(n.finish=!0,rt.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(e,t){var n=rt.fn[t];rt.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,i,o)}}),rt.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){rt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),rt.timers=[],rt.fx.tick=function(){var e,t=rt.timers,n=0;for(gn=rt.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||rt.fx.stop(),gn=void 0},rt.fx.timer=function(e){rt.timers.push(e),e()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){mn||(mn=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(mn),mn=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,t){return e=rt.fx?rt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,o=gt.createElement("div");o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=o.getElementsByTagName("a")[0],n=gt.createElement("select"),i=n.appendChild(gt.createElement("option")),t=o.getElementsByTagName("input")[0],e.style.cssText="top:1px",it.getSetAttribute="t"!==o.className,it.style=/top/.test(e.getAttribute("style")),it.hrefNormalized="/a"===e.getAttribute("href"),it.checkOn=!!t.value,it.optSelected=i.selected,it.enctype=!!gt.createElement("form").enctype,n.disabled=!0,it.optDisabled=!i.disabled,t=gt.createElement("input"),t.setAttribute("value",""),it.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),it.radioValue="t"===t.value,e=t=n=i=o=null}();var kn=/\r/g;rt.fn.extend({val:function(e){var t,n,i,o=this[0];{if(arguments.length)return i=rt.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,rt(this).val()):e,null==o?o="":"number"==typeof o?o+="":rt.isArray(o)&&(o=rt.map(o,function(e){return null==e?"":e+""})),t=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=rt.valHooks[o.type]||rt.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(kn,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(e){var t=rt.find.attr(e,"value");return null!=t?t:rt.text(e)}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,a=r?null:[],s=r?o+1:i.length,l=0>o?s:r?o:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==o||(it.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&rt.nodeName(n.parentNode,"optgroup"))){if(t=rt(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,r=rt.makeArray(t),a=o.length;a--;)if(i=o[a],rt.inArray(rt.valHooks.option.get(i),r)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),o}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(e,t){return rt.isArray(t)?e.checked=rt.inArray(rt(e).val(),t)>=0:void 0}},it.checkOn||(rt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tn,xn,Sn=rt.expr.attrHandle,Cn=/^(?:checked|selected)$/i,En=it.getSetAttribute,Pn=it.input;rt.fn.extend({attr:function(e,t){return Dt(this,rt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){rt.removeAttr(this,e)})}}),rt.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===xt?rt.prop(e,t,n):(1===r&&rt.isXMLDoc(e)||(t=t.toLowerCase(),i=rt.attrHooks[t]||(rt.expr.match.bool.test(t)?xn:Tn)),void 0===n?i&&"get"in i&&null!==(o=i.get(e,t))?o:(o=rt.find.attr(e,t),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void rt.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(bt);if(r&&1===e.nodeType)for(;n=r[o++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?Pn&&En||!Cn.test(n)?e[i]=!1:e[rt.camelCase("default-"+n)]=e[i]=!1:rt.attr(e,n,""),e.removeAttribute(En?n:i)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&rt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xn={set:function(e,t,n){return t===!1?rt.removeAttr(e,n):Pn&&En||!Cn.test(n)?e.setAttribute(!En&&rt.propFix[n]||n,n):e[rt.camelCase("default-"+n)]=e[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Sn[t]||rt.find.attr;Sn[t]=Pn&&En||!Cn.test(t)?function(e,t,i){var o,r;return i||(r=Sn[t],Sn[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,Sn[t]=r),o}:function(e,t,n){return n?void 0:e[rt.camelCase("default-"+t)]?t.toLowerCase():null}}),Pn&&En||(rt.attrHooks.value={set:function(e,t,n){return rt.nodeName(e,"input")?void(e.defaultValue=t):Tn&&Tn.set(e,t,n)}}),En||(Tn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Sn.id=Sn.name=Sn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Tn.set},rt.attrHooks.contenteditable={set:function(e,t,n){Tn.set(e,""===t?!1:t,n)}},rt.each(["width","height"],function(e,t){rt.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),it.style||(rt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Mn=/^(?:input|select|textarea|button|object)$/i,Dn=/^(?:a|area)$/i;rt.fn.extend({prop:function(e,t){return Dt(this,rt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=rt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,o,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!rt.isXMLDoc(e),r&&(t=rt.propFix[t]||t,o=rt.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=rt.find.attr(e,"tabindex");return t?parseInt(t,10):Mn.test(e.nodeName)||Dn.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||rt.each(["href","src"],function(e,t){rt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(rt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),it.enctype||(rt.propFix.enctype="encoding");var In=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(e){var t,n,i,o,r,a,s=0,l=this.length,c="string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(In," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=rt.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,o,r,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(In," "):"")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");a=e?rt.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(rt.isFunction(e)?function(n){rt(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,o=rt(this),r=e.match(bt)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===xt||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(In," ").indexOf(t)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){rt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),rt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Ln=rt.now(),An=/\?/,Hn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,o=rt.trim(t+"");return o&&!rt.trim(o.replace(Hn,function(e,t,o,r){return n&&t&&(i=0),0===i?e:(n=o||t,i+=!r-!o,"")}))?Function("return "+o)():rt.error("Invalid JSON: "+t)},rt.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+t),n};var On,Nn,Rn=/#.*$/,jn=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vn=/^(?:GET|HEAD)$/,zn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Un={},Wn={},qn="*/".concat("*");try{Nn=location.href}catch(Yn){Nn=gt.createElement("a"),Nn.href="",Nn=Nn.href}On=$n.exec(Nn.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nn,type:"GET",isLocal:Fn.test(On[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,rt.ajaxSettings),t):V(rt.ajaxSettings,e)},ajaxPrefilter:B(Un),ajaxTransport:B(Wn),ajax:function(e,t){function n(e,t,n,i){var o,u,v,_,b,k=t;2!==y&&(y=2,s&&clearTimeout(s),c=void 0,a=i||"",w.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(_=z(d,w,n)),_=$(d,_,w,o),o?(d.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(rt.lastModified[r]=b),b=w.getResponseHeader("etag"),b&&(rt.etag[r]=b)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=_.state,u=_.data,v=_.error,o=!v)):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(t||k)+"",o?p.resolveWith(h,[u,k,w]):p.rejectWith(h,[w,k,v]),w.statusCode(m),m=void 0,l&&f.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?u:v]),g.fireWith(h,[w,k]),l&&(f.trigger("ajaxComplete",[w,d]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,r,a,s,l,c,u,d=rt.ajaxSetup({},t),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?rt(h):rt.event,p=rt.Deferred(),g=rt.Callbacks("once memory"),m=d.statusCode||{},v={},_={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!u)for(u={};t=Bn.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=_[n]=_[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return c&&c.abort(t),n(0,t),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Nn)+"").replace(Rn,"").replace(zn,On[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=rt.trim(d.dataType||"*").toLowerCase().match(bt)||[""],null==d.crossDomain&&(i=$n.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===On[1]&&i[2]===On[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(On[3]||("http:"===On[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=rt.param(d.data,d.traditional)),F(Un,d,t,w),2===y)return w;
l=d.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Vn.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(An.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=jn.test(r)?r.replace(jn,"$1_="+Ln++):r+(An.test(r)?"&":"?")+"_="+Ln++)),d.ifModified&&(rt.lastModified[r]&&w.setRequestHeader("If-Modified-Since",rt.lastModified[r]),rt.etag[r]&&w.setRequestHeader("If-None-Match",rt.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qn+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)w.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(h,w,d)===!1||2===y))return w.abort();b="abort";for(o in{success:1,error:1,complete:1})w[o](d[o]);if(c=F(Wn,d,t,w)){w.readyState=1,l&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{y=1,c.send(v,n)}catch(k){if(!(2>y))throw k;n(-1,k)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return rt.get(e,t,n,"json")},getScript:function(e,t){return rt.get(e,void 0,t,"script")}}),rt.each(["get","post"],function(e,t){rt[t]=function(e,n,i,o){return rt.isFunction(n)&&(o=o||i,i=n,n=void 0),rt.ajax({url:e,type:t,dataType:o,data:n,success:i})}}),rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){rt.fn[t]=function(e){return this.on(t,e)}}),rt._evalUrl=function(e){return rt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(e){if(rt.isFunction(e))return this.each(function(t){rt(this).wrapAll(e.call(this,t))});if(this[0]){var t=rt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(rt.isFunction(e)?function(t){rt(this).wrapInner(e.call(this,t))}:function(){var t=rt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=rt.isFunction(e);return this.each(function(n){rt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||rt.css(e,"display"))},rt.expr.filters.visible=function(e){return!rt.expr.filters.hidden(e)};var Gn=/%20/g,Xn=/\[\]$/,Qn=/\r?\n/g,Jn=/^(?:submit|button|image|reset|file)$/i,Kn=/^(?:input|select|textarea|keygen)/i;rt.param=function(e,t){var n,i=[],o=function(e,t){t=rt.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(e)||e.jquery&&!rt.isPlainObject(e))rt.each(e,function(){o(this.name,this.value)});else for(n in e)U(n,e[n],t,o);return i.join("&").replace(Gn,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=rt.prop(this,"elements");return e?rt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!rt(this).is(":disabled")&&Kn.test(this.nodeName)&&!Jn.test(e)&&(this.checked||!It.test(e))}).map(function(e,t){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(e){return{name:t.name,value:e.replace(Qn,"\r\n")}}):{name:t.name,value:n.replace(Qn,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||q()}:W;var Zn=0,ei={},ti=rt.ajaxSettings.xhr();e.ActiveXObject&&rt(e).on("unload",function(){for(var e in ei)ei[e](void 0,!0)}),it.cors=!!ti&&"withCredentials"in ti,ti=it.ajax=!!ti,ti&&rt.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(n,i){var o,r=e.xhr(),a=++Zn;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&r.setRequestHeader(o,n[o]+"");r.send(e.hasContent&&e.data||null),t=function(n,o){var s,l,c;if(t&&(o||4===r.readyState))if(delete ei[a],t=void 0,r.onreadystatechange=rt.noop,o)4!==r.readyState&&r.abort();else{c={},s=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(u){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&i(s,l,c,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=ei[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return rt.globalEval(e),e}}}),rt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),rt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=gt.head||rt("head")[0]||gt.documentElement;return{send:function(i,o){t=gt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ni=[],ii=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ni.pop()||rt.expando+"_"+Ln++;return this[e]=!0,e}}),rt.ajaxPrefilter("json jsonp",function(t,n,i){var o,r,a,s=t.jsonp!==!1&&(ii.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=rt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ii,"$1"+o):t.jsonp!==!1&&(t.url+=(An.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||rt.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},i.always(function(){e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,ni.push(o)),a&&rt.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),rt.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||gt;var i=ht.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=rt.buildFragment([e],t,o),o&&o.length&&rt(o).remove(),rt.merge([],i.childNodes))};var oi=rt.fn.load;rt.fn.load=function(e,t,n){if("string"!=typeof e&&oi)return oi.apply(this,arguments);var i,o,r,a=this,s=e.indexOf(" ");return s>=0&&(i=e.slice(s,e.length),e=e.slice(0,s)),rt.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&rt.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?rt("<div>").append(rt.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},rt.expr.filters.animated=function(e){return rt.grep(rt.timers,function(t){return e===t.elem}).length};var ri=e.document.documentElement;rt.offset={setOffset:function(e,t,n){var i,o,r,a,s,l,c,u=rt.css(e,"position"),d=rt(e),h={};"static"===u&&(e.style.position="relative"),s=d.offset(),r=rt.css(e,"top"),l=rt.css(e,"left"),c=("absolute"===u||"fixed"===u)&&rt.inArray("auto",[r,l])>-1,c?(i=d.position(),a=i.top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),rt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+o),"using"in t?t.using.call(e,h):d.css(h)}},rt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){rt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return t=r.documentElement,rt.contains(t,o)?(typeof o.getBoundingClientRect!==xt&&(i=o.getBoundingClientRect()),n=Y(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),rt.nodeName(e[0],"html")||(n=e.offset()),n.top+=rt.css(e[0],"borderTopWidth",!0),n.left+=rt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-rt.css(i,"marginTop",!0),left:t.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ri;e&&!rt.nodeName(e,"html")&&"static"===rt.css(e,"position");)e=e.offsetParent;return e||ri})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);rt.fn[e]=function(i){return Dt(this,function(e,i,o){var r=Y(e);return void 0===o?r?t in r?r[t]:r.document.documentElement[i]:e[i]:void(r?r.scrollTo(n?rt(r).scrollLeft():o,n?o:rt(r).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),rt.each(["top","left"],function(e,t){rt.cssHooks[t]=C(it.pixelPosition,function(e,n){return n?(n=nn(e,t),rn.test(n)?rt(e).position()[t]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(e,t){rt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){rt.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||o===!0?"margin":"border");return Dt(this,function(t,n,i){var o;return rt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?rt.css(t,n,a):rt.style(t,n,i,a)},t,r?i:void 0,r,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var ai=e.jQuery,si=e.$;return rt.noConflict=function(t){return e.$===rt&&(e.$=si),t&&e.jQuery===rt&&(e.jQuery=ai),rt},typeof t===xt&&(e.jQuery=e.$=rt),rt})}).call(this),function(){e=t=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:e,jQuery:t}}(),function(){var e,t,e=(Package.meteor.Meteor,Package.tracker.Tracker),t=Package.tracker.Deps;"undefined"==typeof Package&&(Package={}),Package.deps={Tracker:e,Deps:t}}(),function(){{var e,t,n;Package.meteor.Meteor,Package.tracker.Tracker,Package.tracker.Deps}(function(){e={},t=function(e){return e},n=Array.prototype.slice}).call(this),function(){var i=Object.prototype.hasOwnProperty,o=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);return e};e.Visitor=function(e){o(this,e)},e.Visitor.def=function(e){o(this.prototype,e)},e.Visitor.extend=function(t){var n=this,i=function(){e.Visitor.apply(this,arguments)};return i.prototype=new n,i.extend=n.extend,i.def=n.def,t&&o(i.prototype,t),i},e.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case e.Tag.htmljsType:return this.visitTag.apply(this,arguments);case e.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case e.Comment.htmljsType:return this.visitComment.apply(this,arguments);case e.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return e.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(){},visitPrimitive:function(){},visitArray:function(){},visitComment:function(){},visitCharRef:function(){},visitRaw:function(){},visitTag:function(){},visitObject:function(e){throw new Error("Unexpected object in htmljs: "+e)},visitFunction:function(e){throw new Error("Unexpected function in htmljs: "+e)}}),e.TransformingVisitor=e.Visitor.extend(),e.TransformingVisitor.def({visitNull:t,visitPrimitive:t,visitArray:function(e){for(var t=n.call(arguments),i=e,o=0;o<e.length;o++){var r=e[o];t[0]=r;var a=this.visit.apply(this,t);a!==r&&(i===e&&(i=e.slice()),i[o]=a)}return i},visitComment:t,visitCharRef:t,visitRaw:t,visitObject:t,visitFunction:t,visitTag:function(t){var i=t.children,o=n.call(arguments);o[0]=i;var r=this.visitChildren.apply(this,o),a=t.attrs;o[0]=a;var s=this.visitAttributes.apply(this,o);if(s===a&&r===i)return t;var l=e.getTag(t.tagName).apply(null,r);return l.attrs=s,l},visitChildren:function(){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(e.isArray(t)){for(var i=n.call(arguments),r=t,a=0;a<t.length;a++){var s=t[a];i[0]=s;var l=this.visitAttributes.apply(this,i);l!==s&&(r===t&&(r=t.slice()),r[a]=l)}return r}if(t&&e.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var c=t,u=c;if(c){var d=[null,null];d.push.apply(d,arguments);for(var h in c){var f=c[h];d[0]=h,d[1]=f;var p=this.visitAttribute.apply(this,d);p!==f&&(u===c&&(u=o({},c)),u[h]=p)}}return u},visitAttribute:function(e,t){var i=n.call(arguments,2);return i[0]=t,this.visit.apply(this,i)}}),e.ToTextVisitor=e.Visitor.extend(),e.ToTextVisitor.def({visitNull:function(){return""},visitPrimitive:function(t){var n=String(t);return this.textMode===e.TEXTMODE.RCDATA?n.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===e.TEXTMODE.ATTRIBUTE?n.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):n},visitArray:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.visit(e[n]));return t.join("")},visitComment:function(){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===e.TEXTMODE.RCDATA||this.textMode===e.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(e){return e.value},visitTag:function(e){return this.visit(this.toHTML(e))},visitObject:function(e){throw new Error("Unexpected object in htmljs in toText: "+e)},toHTML:function(t){return e.toHTML(t)}}),e.ToHTMLVisitor=e.Visitor.extend(),e.ToHTMLVisitor.def({visitNull:function(){return""},visitPrimitive:function(e){var t=String(e);return t.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.visit(e[n]));return t.join("")},visitComment:function(e){return"<!--"+e.sanitizedValue+"-->"},visitCharRef:function(e){return e.html},visitRaw:function(e){return e.value},visitTag:function(t){var n=[],i=t.tagName,o=t.children,r=t.attrs;if(r){r=e.flattenAttributes(r);for(var a in r)if("value"===a&&"textarea"===i)o=[r[a],o];else{var s=this.toText(r[a],e.TEXTMODE.ATTRIBUTE);n.push(" "+a+'="'+s+'"')}}var l,c="<"+i+n.join("")+">",u=[];if("textarea"===i){for(var d=0;d<o.length;d++)u.push(this.toText(o[d],e.TEXTMODE.RCDATA));l=u.join(""),"\n"===l.slice(0,1)&&(l="\n"+l)}else{for(var d=0;d<o.length;d++)u.push(this.visit(o[d]));l=u.join("")}var h=c+l;return(o.length||!e.isVoidElement(i))&&(h+="</"+i+">"),h},visitObject:function(e){throw new Error("Unexpected object in htmljs in toHTML: "+e)},toText:function(t,n){return e.toText(t,n)}})}.call(this),function(){e.Tag=function(){},e.Tag.prototype.tagName="",e.Tag.prototype.attrs=null,e.Tag.prototype.children=Object.freeze?Object.freeze([]):[],e.Tag.prototype.htmljsType=e.Tag.htmljsType=["Tag"];var t=function(t){var i=function(){var t=this instanceof e.Tag?this:new i,o=0,r=arguments.length&&arguments[0];if(r&&"object"==typeof r)if(e.isConstructedObject(r)){if(r instanceof e.Attrs){var a=r.value;1===a.length?t.attrs=a[0]:a.length>1&&(t.attrs=a),o++}}else t.attrs=r,o++;return o<arguments.length&&(t.children=n.call(arguments,o)),t};return i.prototype=new e.Tag,i.prototype.constructor=i,i.prototype.tagName=t,i},i=e.Attrs=function(){var e=this instanceof i?this:new i;return e.value=n.call(arguments),e};e.getTag=function(n){var i=e.getSymbolName(n);if(i===n)throw new Error("Use the lowercase or camelCase form of '"+n+"' here");return e[i]||(e[i]=t(n)),e[i]},e.ensureTag=function(t){e.getTag(t)},e.isTagEnsured=function(t){return e.isKnownElement(t)},e.getSymbolName=function(e){return e.toUpperCase().replace(/-/g,"_")},e.knownElementNames="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol optgroup option p param pre q s samp script select small span strike strong style sub sup table tbody td textarea tfoot th thead title tr tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),e.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),e.knownElementNames=e.knownElementNames.concat(e.knownSVGElementNames),e.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var o={yes:!0},r=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=o;return t},a=r(e.voidElementNames),s=r(e.knownElementNames),l=r(e.knownSVGElementNames);e.isKnownElement=function(e){return s[e]===o},e.isKnownSVGElement=function(e){return l[e]===o},e.isVoidElement=function(e){return a[e]===o};for(var c=0;c<e.knownElementNames.length;c++)e.ensureTag(e.knownElementNames[c]);var u=e.CharRef=function(e){if(!(this instanceof u))return new u(e);if(!(e&&e.html&&e.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=e.html,this.str=e.str};u.prototype.htmljsType=u.htmljsType=["CharRef"];var d=e.Comment=function(e){if(!(this instanceof d))return new d(e);if("string"!=typeof e)throw new Error("HTML.Comment must be constructed with a string");this.value=e,this.sanitizedValue=e.replace(/^-|--+|-$/g,"")};d.prototype.htmljsType=d.htmljsType=["Comment"];var h=e.Raw=function(e){if(!(this instanceof h))return new h(e);if("string"!=typeof e)throw new Error("HTML.Raw must be constructed with a string");this.value=e};h.prototype.htmljsType=h.htmljsType=["Raw"],e.isArray=function(e){return e instanceof Array},e.isConstructedObject=function(e){return e&&"object"==typeof e&&e.constructor!==Object&&!Object.prototype.hasOwnProperty.call(e,"constructor")},e.isNully=function(t){if(null==t)return!0;if(e.isArray(t)){for(var n=0;n<t.length;n++)if(!e.isNully(t[n]))return!1;return!0}return!1},e.isValidAttributeName=function(e){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(e)},e.flattenAttributes=function(t){if(!t)return t;var n=e.isArray(t);if(n&&0===t.length)return null;for(var i={},o=0,r=n?t.length:1;r>o;o++){var a=n?t[o]:t;if("object"!=typeof a||e.isConstructedObject(a))throw new Error("Expected plain JS object as attrs, found: "+a);for(var s in a){if(!e.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var l=a[s];e.isNully(l)||(i[s]=l)}}return i},e.toHTML=function(t){return(new e.ToHTMLVisitor).visit(t)},e.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},e.toText=function(t,n){if(!n)throw new Error("textMode required for HTML.toText");if(n!==e.TEXTMODE.STRING&&n!==e.TEXTMODE.RCDATA&&n!==e.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+n);var i=new e.ToTextVisitor({textMode:n});return i.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.htmljs={HTML:e}}(),function(){var e,t,n,i,o=(Package.meteor.Meteor,Package.tracker.Tracker),r=(Package.tracker.Deps,Package.minimongo.LocalCollection),a=(Package.minimongo.Minimongo,Package.underscore._),s=Package.random.Random;(function(){var l=function(){e._suppressWarnings?e._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),e._loggedWarnings++)},c=r._idStringify,u=r._idParse;e={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,r){var s=null,l=null,c=[],u=o.autorun(function(){var u=e();o.nonreactive(function(){var e;if(l&&(c=a.map(s.fetch(),function(e){return{_id:e._id,item:e}}),l.stop(),l=null),u)if(u instanceof Array)e=n(c,u,r);else{if(!h(u))throw d();var o=i(c,u,r);e=o[0],l=o[1]}else e=t(c,r);f(c,e,r),s=u,c=e})});return{stop:function(){u.stop(),l&&l.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(h(e))return e.fetch();throw d()}return[]}};var d=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},h=function(e){return e&&a.isObject(e)&&a.isFunction(e.observe)&&a.isFunction(e.fetch)},f=function(e,t,n){var i=Package.minimongo.LocalCollection._diffQueryOrderedChanges,o=[],r=[],s={},l={},d={},h=e.length;a.each(t,function(e,t){r.push({_id:e._id}),l[c(e._id)]=t}),a.each(e,function(e,t){o.push({_id:e._id}),s[c(e._id)]=t,d[c(e._id)]=t}),i(o,r,{addedBefore:function(e,i,o){var r=o?d[c(o)]:h;a.each(d,function(e,t){e>=r&&d[t]++}),h++,d[c(e)]=r,n.addedAt(e,t[l[c(e)]].item,r,o)},movedBefore:function(e,i){var o=d[c(e)],r=i?d[c(i)]:h-1;a.each(d,function(e,t){e>=o&&r>=e?d[t]--:o>=e&&e>=r&&d[t]++}),d[c(e)]=r,n.movedTo(e,t[l[c(e)]].item,o,r,i)},removed:function(t){var i=d[c(t)];a.each(d,function(e,t){e>=i&&d[t]--}),delete d[c(t)],h--,n.removedAt(t,e[s[c(t)]].item,i)}}),a.each(l,function(i,o){var r=u(o);if(a.has(s,o)){var l=t[i].item,c=e[s[o]].item;("object"==typeof l||l!==c)&&n.changedAt(r,l,c,i)}})};t=function(){return[]},n=function(e,t){var n={},i=a.map(t,function(e,i){var o;if("string"==typeof e)o="-"+e;else if("number"==typeof e||"boolean"==typeof e||void 0===e)o=e;else{if("object"!=typeof e)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof e);o=e&&e._id||i}var r=c(o);return n[r]?("object"==typeof e&&"_id"in e&&l("duplicate id "+o+" in",t),o=s.id()):n[r]=!0,{_id:o,item:e}});return i},i=function(e,t,n){var i=!0,o=[],r=t.observe({addedAt:function(e,t,r){if(i){if(null!==r)throw new Error("Expected initial data from observe in order");o.push({_id:e._id,item:e})}else n.addedAt(e._id,e,t,r)},changedAt:function(e,t,i){n.changedAt(e._id,e,t,i)},removedAt:function(e,t){n.removedAt(e._id,e,t)},movedTo:function(e,t,i,o){n.movedTo(e._id,e,t,i,o)}});return i=!1,[o,r]}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package.tracker.Tracker);Package.tracker.Deps}(function(){e=function(n,i){return this instanceof e?(this.curValue=n,this.equalsFunc=i,void(this.dep=new t.Dependency)):new e(n,i)},e._isEqual=function(e,t){var n=e,i=t;return n!==i?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},e.prototype.get=function(){return t.active&&this.dep.depend(),this.curValue},e.prototype.set=function(t){var n=this.curValue;(this.equalsFunc||e._isEqual)(n,t)||(this.curValue=t,this.dep.changed())},e.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},e.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-var"]={ReactiveVar:e}}(),function(){var e,t,n,i,o,r,a=Package.meteor.Meteor,s=Package.jquery.$,l=Package.jquery.jQuery,c=Package.tracker.Tracker,u=(Package.tracker.Deps,Package.underscore._),d=Package.htmljs.HTML,h=Package["observe-sequence"].ObserveSequence,f=Package["reactive-var"].ReactiveVar;(function(){e={},e._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),e._warn=function(e){e="Warning: "+e,Log&&Log.warn?Log.warn(e):console.log&&console.log(e)}}).call(this),function(){var t={};e._DOMBackend=t;var n="undefined"!=typeof l?l:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!n)throw new Error("jQuery not found");t._$jq=n,t.parseHTML=function(e){return n.parseHTML(e)||[]},t.Events={delegateEvents:function(e,t,i,o){n(e).on(t,i,o)},undelegateEvents:function(e,t,i){n(e).off(t,"**",i)},bindEventCapturer:function(e,i,o,r){var a=n(e),s=function(t){t=n.event.fix(t),t.currentTarget=t.target;var i=n(t.currentTarget);i.is(a.find(o))&&r.call(e,t)};r._meteorui_wrapper=s,i=t.Events.parseEventType(i),e.addEventListener(i,s,!0)},unbindEventCapturer:function(e,n,i){n=t.Events.parseEventType(n),e.removeEventListener(n,i._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var i=function(){},o=function(e){this.next=this,this.prev=this,this.func=e};o.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},o.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},o.prototype.go=function(){var e=this.func;e&&e()},o.prototype.stop=o.prototype.unlink,t.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(e,r){var a=new o(r),s=t.Teardown._CB_PROP;return e[s]||(e[s]=new o,n(e).on(t.Teardown._JQUERY_EVENT_NAME,i)),a.linkBefore(e[s]),a},tearDownElement:function(e){for(var t=[],i=e.getElementsByTagName("*"),o=0;o<i.length;o++)t.push(i[o]);t.push(e),n.cleanData(t)}},n.event.special[t.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var e=this,n=e[t.Teardown._CB_PROP];if(n){for(var i=n.next;i!==n;)i.go(),i=i.next;n.go(),e[t.Teardown._CB_PROP]=null}}},t.findBySelector=function(e,t){return n(e,t)}}.call(this),function(){var t=Object.freeze?Object.freeze([]):[];e._DOMRange=function(e){if(!(this instanceof n))return new n(e);var i=e||t;if(!i||"number"!=typeof i.length)throw new Error("Expected array");for(var o=0;o<i.length;o++)this._memberIn(i[o]);this.members=i,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=t};var n=e._DOMRange;n._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),n._insert=function(e,t,i,o){var r=e;r instanceof n?r.attach(t,i,o):o?n._moveNodeWithHooks(r,t,i):n._insertNodeWithHooks(r,t,i)},n._remove=function(e){var t=e;t instanceof n?t.detach():n._removeNodeWithHooks(t)},n._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},n._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},n._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},n.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},n.prototype.attach=function(e,t,i,o){if((i||o)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var r=this.members;if(r.length){this.emptyRangePlaceholder=null;for(var a=0;a<r.length;a++)n._insert(r[a],e,t,i)}else{var s=n._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,t||null)}if(this.attached=!0,this.parentElement=e,!i&&!o)for(var a=0;a<this.attachedCallbacks.length;a++){var l=this.attachedCallbacks[a];l.attached&&l.attached(this,e)}},n.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,i=0;i<n.length;i++)this._memberOut(n[i]);for(var i=0;i<t.length;i++)this._memberIn(t[i]);if(this.attached){if(t.length||n.length){var o=this.lastNode().nextSibling,r=this.parentElement;this.detach(!0),this.members=t,this.attach(r,o,!1,!0)}}else this.members=t},n.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof n?e.firstNode():e},n.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof n?e.lastNode():e},n.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var t=this.parentElement,i=this.members;if(i.length)for(var o=0;o<i.length;o++)n._remove(i[o]);else{var r=this.emptyRangePlaceholder;this.parentElement.removeChild(r),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var o=0;o<this.attachedCallbacks.length;o++){var a=this.attachedCallbacks[o];a.detached&&a.detached(this,t)}}},n.prototype.addMember=function(e,t,i){var o=this.members;if(!(t>=0&&t<=o.length))throw new Error("Bad index in range.addMember: "+t);if(i||this._memberIn(e),this.attached)if(0===o.length)this.setMembers([e]);else{var r;if(t===o.length)r=this.lastNode().nextSibling;else{var a=o[t];r=a instanceof n?a.firstNode():a}o.splice(t,0,e),n._insert(e,this.parentElement,r,i)}else o.splice(t,0,e)},n.prototype.removeMember=function(e,i){var o=this.members;if(!(e>=0&&e<o.length))throw new Error("Bad index in range.removeMember: "+e);if(i)o.splice(e,1);else{var r=o[e];this._memberOut(r),1===o.length?this.setMembers(t):(o.splice(e,1),this.attached&&n._remove(r))}},n.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},n.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},n.prototype._memberIn=function(e){e instanceof n?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},n._destroy=function(t,i){t instanceof n?t.view&&e._destroyView(t.view,i):i||1!==t.nodeType||t.$blaze_range&&(e._destroyNode(t),t.$blaze_range=null)},n.prototype._memberOut=n._destroy,n.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},n.prototype.destroy=function(e){n._destroy(this,e)},n.prototype.containsElement=function(t){if(!this.attached)throw new Error("Must be attached");if(!e._elementContains(this.parentElement,t))return!1;for(;t.parentNode!==this.parentElement;)t=t.parentNode;for(var n=t.$blaze_range;n&&n!==this;)n=n.parentRange;return n===this},n.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},n.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},n.prototype.onAttachedDetached=function(e){this.attachedCallbacks===t&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(e)},n.prototype.$=function(t){var n=this,i=this.parentElement;
if(!i)throw new Error("Can't select in removed DomRange");if(11===i.nodeType)throw new Error("Can't use $ on an offscreen range");var o=e._DOMBackend.findBySelector(t,i),r=function(e){return"number"==typeof e&&(e=this),n.containsElement(e)};if(o.filter)o=o.filter(r);else{for(var a=[],s=0;s<o.length;s++){var l=o[s];r(l)&&a.push(l)}o=a}return o},e._elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)}}.call(this),function(){var t=e._EventSupport={},n=e._DOMBackend,i=t.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},o=t.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},r=1,a=function(e,t,a,s,l){this.elem=e,this.type=t,this.selector=a,this.handler=s,this.recipient=l,this.id=r++,this.mode=o.TBD,this.delegatedHandler=function(e){return function(t){return e.selector||t.currentTarget===t.target?e.handler.apply(e.recipient,arguments):void 0}}(this);var c=e.addEventListener&&!u.has(i,n.Events.parseEventType(t));c?this.capturingHandler=function(e){return function(t){if(e.mode===o.TBD){if(t.bubbles)return e.mode=o.BUBBLING,void n.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=o.CAPTURING,n.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(t)}}(this):this.mode=o.BUBBLING};t.HandlerRec=a,a.prototype.bind=function(){this.mode!==o.BUBBLING&&n.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==o.CAPTURING&&n.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},a.prototype.unbind=function(){this.mode!==o.BUBBLING&&n.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==o.CAPTURING&&n.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},t.listen=function(e,t,n,i,o,r){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,function(e){s.push(e)});for(var l=[],c=0,u=s.length;u>c;c++){var d=s[c],h=e.$blaze_events;h||(h=e.$blaze_events={});var f=h[d];f||(f=h[d]={},f.handlers=[]);var p=f.handlers,g=new a(e,d,n,i,o);if(l.push(g),g.bind(),p.push(g),r)for(var m=r(o);m;m=r(m))for(var v=0,_=p.length;_>v;v++){var y=p[v];y.recipient===m&&(y.unbind(),y.bind(),p.splice(v,1),p.push(y),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<l.length;n++){var i=l[n],o=t[i.type];if(o)for(var r=o.handlers,a=r.length-1;a>=0;a--)r[a]===i&&(i.unbind(),r.splice(a,1))}l.length=0}}}}}.call(this),function(){var t=!1;e._allowJavascriptUrls=function(){t=!0},e._javascriptUrlsAllowed=function(){return t},i=function(e,t){this.name=e,this.value=t},e._AttributeHandler=i,i.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},i.extend=function(e){var t=this,n=function(){i.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&u.extend(n.prototype,e),n};var n=i.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var i=t?this.parseValue(t):{},o=n?this.parseValue(n):{},r=this.getCurrentValue(e),a=r?this.parseValue(r):{};u.each(u.keys(i),function(e){e in o||delete a[e]}),u.each(u.keys(o),function(e){a[e]=o[e]}),this.setValue(e,u.values(a).join(" "))}}),l=n.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return u.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),c=l.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),d=n.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var t={},n=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,i=n.exec(e);i;)t[" "+i[1]]=i[0].trim?i[0].trim():s.trim(i[0]),i=n.exec(e);return t}}),h=i.extend({update:function(e,t,n){var i=this.name;null==n?null!=t&&(e[i]=!1):e[i]=!0}}),f=i.extend({update:function(e,t,n){n!==e.value&&(e.value=n)}}),p=i.extend({update:function(e,t,n){var i="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(i,this.name):e.setAttributeNS(i,this.name,this.value)}}),g=function(e){return"ownerSVGElement"in e},m=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var i=n[e]||[];return u.contains(i,t)};if(a.isClient)var v=document.createElement("A");var _=function(e){if(a.isClient)return v.href=e,(v.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},y=i.prototype.update,b=i.extend({update:function(t,n,i){var o=this,r=arguments;if(e._javascriptUrlsAllowed())y.apply(o,r);else{var a="javascript:"===_(i);a?(e._warn("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),y.apply(o,[t,n,null])):y.apply(o,r)}}});o=function(e,t,n){return"class"===t?g(e)?new c(t,n):new l(t,n):"style"===t?new d(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new h(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new p(t.substring(6),n):m(e.tagName,t)?new b(t,n):new i(t,n):new f(t,n)},r=function(e){this.elem=e,this.handlers={}},r.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var i in n)if(!u.has(e,i)){var r=n[i],a=r.value;r.value=null,r.update(t,a,null),delete n[i]}for(var i in e){var a,r=null,s=e[i];u.has(n,i)?(r=n[i],a=r.value):null!==s&&(r=o(t,i,s),n[i]=r,a=null),a!==s&&(r.value=s,r.update(t,a,s),null===s&&delete n[i])}}}.call(this),function(){e._DOMMaterializer=d.Visitor.extend(),e._DOMMaterializer.def({visitNull:function(e,t){return t},visitPrimitive:function(e,t){var n=String(e);return t.push(document.createTextNode(n)),t},visitCharRef:function(e,t){return this.visitPrimitive(e.str,t)},visitArray:function(e,t){for(var n=0;n<e.length;n++)this.visit(e[n],t);return t},visitComment:function(e,t){return t.push(document.createComment(e.sanitizedValue)),t},visitRaw:function(t,n){for(var i=e._DOMBackend.parseHTML(t.value),o=0;o<i.length;o++)n.push(i[o]);return n},visitTag:function(n,i){var o,a=this,s=n.tagName;o=(d.isKnownSVGElement(s)||t(n))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s);var l=n.attrs,h=n.children;if("textarea"===s&&n.children.length&&!(l&&"value"in l)){if("function"==typeof l||d.isArray(l))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");l=u.extend({},l||null),l.value=e._expand(h,a.parentView),h=[]}if(l){var f,p=new r(o),g=function(){var t=a.parentView,n=e._expandAttributes(l,t),i=d.flattenAttributes(n),o={};for(var r in i)o[r]=e._toText(i[r],t,d.TEXTMODE.STRING);p.update(o)};f=a.parentView?a.parentView.autorun(g):c.nonreactive(function(){return c.autorun(function(){c._withCurrentView(a.parentView,g)})}),e._DOMBackend.Teardown.onElementTeardown(o,function(){f.stop()})}for(var m=a.visit(h,[]),v=0;v<m.length;v++){var _=m[v];_ instanceof e._DOMRange?_.attach(o):o.appendChild(_)}return i.push(o),i},visitObject:function(t,n){return t instanceof e.Template&&(t=t.constructView()),t instanceof e.View?(n.push(e._materializeView(t,this.parentView)),n):d.Visitor.prototype.visitObject.call(this,t)}});var t=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;e._throwNextException=!1,e._reportException=function(n,i){if(e._throwNextException)throw e._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof a?a._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(i||"Exception caught in template:",n.stack||n.message)},e._wrapCatchingExceptions=function(t,n){return"function"!=typeof t?t:function(){try{return t.apply(this,arguments)}catch(i){e._reportException(i,"Exception in "+n+":")}}}}.call(this),function(){e.View=function(t,n){return this instanceof e.View?("function"==typeof t&&(n=t,t=""),this.name=t,this._render=n,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,void(this.renderCount=0)):new e.View(t,n)},e.View.prototype._render=function(){return null},e.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},e.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},e.View.prototype.onViewReady=function(t){var n=this,i=function(){c.afterFlush(function(){n.isDestroyed||e._withCurrentView(n,function(){t.call(n)})})};n._onViewRendered(function(){n.isDestroyed||(n._domrange.attached?i():n._domrange.onAttached(i))})},e.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},e.View.prototype.autorun=function(t,n){var i=this;if(!i.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(c.active)throw new Error("Can't call View#autorun from a Tracker Computation; try calling it from the created or rendered callback");var o=c.autorun(function(o){return e._withCurrentView(n||i,function(){return t.call(i,o)})});return i.onViewDestroyed(function(){o.stop()}),o},e.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},e.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},e._fireCallbacks=function(t,n){e._withCurrentView(t,function(){c.nonreactive(function(){for(var e=t._callbacks[n],i=0,o=e&&e.length;o>i;i++)e[i].call(t)})})},e._createView=function(t,n,i){if(t.isCreated)throw new Error("Can't render the same View twice");t.parentView=n||null,t.isCreated=!0,i&&(t._isCreatedForExpansion=!0),e._fireCallbacks(t,"created")},e._materializeView=function(t,n){e._createView(t,n);var i,o;return c.nonreactive(function(){t.autorun(function(n){t.renderCount++,t._isInRender=!0;var r=t._render();t._isInRender=!1,c.nonreactive(function(){var a=new e._DOMMaterializer({parentView:t}),s=a.visit(r,[]);(n.firstRun||!e._isContentEqual(o,r))&&(n.firstRun?(i=new e._DOMRange(s),t._domrange=i,i.view=t,t.isRendered=!0):i.setMembers(s),e._fireCallbacks(t,"rendered"))}),o=r,c.onInvalidate(function(){i.destroyMembers()})});var n=null;i.onAttached(function(i,o){t._isAttached=!0,n=e._DOMBackend.Teardown.onElementTeardown(o,function(){e._destroyView(t,!0)})}),t.onViewDestroyed(function(){n&&n.stop(),n=null})}),i},e._expandView=function(t,n){e._createView(t,n,!0),t._isInRender=!0;var i=e._withCurrentView(t,function(){return t._render()});t._isInRender=!1;var o=e._expand(i,t);return c.active?c.onInvalidate(function(){e._destroyView(t)}):e._destroyView(t),o},e._HTMLJSExpander=d.TransformingVisitor.extend(),e._HTMLJSExpander.def({visitObject:function(t){return t instanceof e.Template&&(t=t.constructView()),t instanceof e.View?e._expandView(t,this.parentView):d.TransformingVisitor.prototype.visitObject.call(this,t)},visitAttributes:function(t){return"function"==typeof t&&(t=e._withCurrentView(this.parentView,t)),d.TransformingVisitor.prototype.visitAttributes.call(this,t)},visitAttribute:function(t,n,i){return"function"==typeof n&&(n=e._withCurrentView(this.parentView,n)),d.TransformingVisitor.prototype.visitAttribute.call(this,t,n,i)}});var t=function(){var t=e.currentView;return t&&t._isInRender?t:null};e._expand=function(n,i){return i=i||t(),new e._HTMLJSExpander({parentView:i}).visit(n)},e._expandAttributes=function(n,i){return i=i||t(),new e._HTMLJSExpander({parentView:i}).visitAttributes(n)},e._destroyView=function(t,n){t.isDestroyed||(t.isDestroyed=!0,e._fireCallbacks(t,"destroyed"),t._domrange&&t._domrange.destroyMembers(n))},e._destroyNode=function(t){1===t.nodeType&&e._DOMBackend.Teardown.tearDownElement(t)},e._isContentEqual=function(e,t){return e instanceof d.Raw?t instanceof d.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},e.currentView=null,e._withCurrentView=function(t,n){var i=e.currentView;try{return e.currentView=t,n()}finally{e.currentView=i}};var n=function(t){if(null===t)throw new Error("Can't render null");if("undefined"==typeof t)throw new Error("Can't render undefined");if(!(t instanceof e.View||t instanceof e.Template||"function"==typeof t))try{(new d.Visitor).visit(t)}catch(n){throw new Error("Expected Template or View")}},i=function(t){if(n(t),t instanceof e.Template)return t.constructView();if(t instanceof e.View)return t;var i=t;return"function"!=typeof i&&(i=function(){return t}),e.View("render",i)},o=function(e){return n(e),"function"!=typeof e?function(){return e}:e};e.render=function(n,o,r,a){if(o||e._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof e.View&&(a=r,r=null),o&&"number"!=typeof o.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");a=a||t();var s=i(n);return e._materializeView(s,a),o&&s._domrange.attach(o,r),s},e.insert=function(t,n,i){if(e._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(t&&t._domrange instanceof e._DOMRange))throw new Error("Expected template rendered with UI.render");t._domrange.attach(n,i)},e.renderWithData=function(t,n,i,r,a){return e.render(e._TemplateWith(n,o(t)),i,r,a)},e.remove=function(t){if(!(t&&t._domrange instanceof e._DOMRange))throw new Error("Expected template rendered with Blaze.render");if(!t.isDestroyed){var n=t._domrange;n.attached&&!n.parentRange&&n.detach(),n.destroy()}},e.toHTML=function(n,o){return o=o||t(),d.toHTML(e._expandView(i(n),o))},e.toHTMLWithData=function(n,i,r){return r=r||t(),d.toHTML(e._expandView(e._TemplateWith(i,o(n)),r))},e._toText=function(n,i,o){if("function"==typeof n)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==i||i instanceof e.View||(o=i,i=null),i=i||t(),!o)throw new Error("textMode required");if(o!==d.TEXTMODE.STRING&&o!==d.TEXTMODE.RCDATA&&o!==d.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+o);return d.toText(e._expand(n,i),o)},e.getData=function(t){var n;if(t)if(t instanceof e.View){var i=t;n="with"===i.name?i:e.getView(i,"with")}else{if("number"!=typeof t.nodeType)throw new Error("Expected DOM element or View");if(1!==t.nodeType)throw new Error("Expected DOM element");n=e.getView(t,"with")}else n=e.getView("with");return n?n.dataVar.get():null},e.getElementData=function(t){if(e._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==t.nodeType)throw new Error("Expected DOM element");return e.getData(t)},e.getView=function(t,n){var i=n;if("string"==typeof t&&(i=t,t=null),t){if(t instanceof e.View)return e._getParentView(t,i);if("number"==typeof t.nodeType)return e._getElementView(t,i);throw new Error("Expected DOM element or View")}return e._getCurrentView(i)},e._getCurrentView=function(t){var n=e.currentView;if(!n)throw new Error("There is no current view");if(t){for(;n&&n.name!==t;)n=n.parentView;return n||null}return n},e._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},e._getElementView=function(t,n){for(var i=e._DOMRange.forElement(t),o=null;i&&!o;)o=i.view||null,o||(i=i.parentRange?i.parentRange:e._DOMRange.forElement(i.parentElement));if(n){for(;o&&o.name!==n;)o=o.parentView;return o||null}return o},e._addEventMap=function(t,n,i){i=i||null;var o=[];if(!t._domrange)throw new Error("View must have a DOMRange");t._domrange.onAttached(function(r,a){u.each(n,function(n,s){var l=s.split(/,\s+/);u.each(l,function(s){var l=s.split(/\s+/);if(0!==l.length){var c=l.shift(),u=l.join(" ");o.push(e._EventSupport.listen(a,c,u,function(o){if(!r.containsElement(o.currentTarget))return null;var a=i||this,s=arguments;return e._withCurrentView(t,function(){return n.apply(a,s)})},r,function(e){return e.parentRange}))}})})}),t.onViewDestroyed(function(){u.each(o,function(e){e.stop()}),o.length=0})}}.call(this),function(){e._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},e.With=function(t,n){var i=e.View("with",n);return i.dataVar=new f,i.onViewCreated(function(){"function"==typeof t?i.autorun(function(){i.dataVar.set(t())},i.parentView):i.dataVar.set(t)}),i},e.If=function(t,n,i,o){var r=new f,a=e.View(o?"unless":"if",function(){return r.get()?n():i?i():null});return a.__conditionVar=r,a.onViewCreated(function(){this.autorun(function(){var n=e._calculateCondition(t());r.set(o?!n:n)},this.parentView)}),a},e.Unless=function(t,n,i){return e.If(t,n,i,!0)},e.Each=function(t,n,i){var o=e.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new c.Dependency,this.expandedValueDep.depend()),e});return o.initialSubviews=[],o.numItems=0,o.inElseMode=!1,o.stopHandle=null,o.contentFunc=n,o.elseFunc=i,o.argVar=new f,o.onViewCreated(function(){o.autorun(function(){o.argVar.set(t())},o.parentView),o.stopHandle=h.observe(function(){return o.argVar.get()},{addedAt:function(t,n,i){c.nonreactive(function(){var t=e.With(n,o.contentFunc);if(o.numItems++,o.expandedValueDep)o.expandedValueDep.changed();else if(o._domrange){o.inElseMode&&(o._domrange.removeMember(0),o.inElseMode=!1);var r=e._materializeView(t,o);o._domrange.addMember(r,i)}else o.initialSubviews.splice(i,0,t)})},removedAt:function(t,n,i){c.nonreactive(function(){o.numItems--,o.expandedValueDep?o.expandedValueDep.changed():o._domrange?(o._domrange.removeMember(i),o.elseFunc&&0===o.numItems&&(o.inElseMode=!0,o._domrange.addMember(e._materializeView(e.View("each_else",o.elseFunc),o),0))):o.initialSubviews.splice(i,1)})},changedAt:function(e,t,n,i){c.nonreactive(function(){var e;o.expandedValueDep?o.expandedValueDep.changed():e=o._domrange?o._domrange.getMember(i).view:o.initialSubviews[i],e.dataVar.set(t)})},movedTo:function(e,t,n,i){c.nonreactive(function(){if(o.expandedValueDep)o.expandedValueDep.changed();else if(o._domrange)o._domrange.moveMember(n,i);else{var e=o.initialSubviews,t=e[n];e.splice(n,1),e.splice(i,0,t)}})}}),o.elseFunc&&0===o.numItems&&(o.inElseMode=!0,o.initialSubviews[0]=e.View("each_else",o.elseFunc))}),o.onViewDestroyed(function(){o.stopHandle&&o.stopHandle.stop()}),o},e._TemplateWith=function(t,n){var i,o=t;"function"!=typeof t&&(o=function(){return t});var r=function(){var t=null;return i.parentView&&"InOuterTemplateScope"===i.parentView.name&&(t=i.parentView.originalParentView),t?e._withCurrentView(t,o):o()};return i=e.With(r,n),i.__isTemplateWith=!0,i},e._InOuterTemplateScope=function(t,n){var i=e.View("InOuterTemplateScope",n),o=t.parentView;return o.__isTemplateWith&&(o=o.parentView),i.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=o}),i},e.InOuterTemplateScope=e._InOuterTemplateScope}.call(this),function(){e._globalHelpers={},e.registerHelper=function(t,n){e._globalHelpers[t]=n};var n=function(t){return"function"==typeof t?function(){var n=e.getData();return null==n&&(n={}),t.apply(n,arguments)}:t},i=function(t){return e._wrapCatchingExceptions(t,"template helper")};e.View.prototype.lookup=function(o,r){var a=this.template,s=r&&r.template;if(/^\./.test(o)){if(!/^(\.)+$/.test(o))throw new Error("id starting with dot must be a series of dots");return e._parentData(o.length-1,!0)}return a&&o in a?i(n(a[o])):s&&o in e.Template&&e.Template[o]instanceof e.Template?e.Template[o]:t._globalHelpers[o]?i(n(t._globalHelpers[o])):function(){var t=arguments.length>0,n=e.getData();if(s&&(!n||!n[o]))throw new Error("No such template: "+o);if(t&&(!n||!n[o]))throw new Error("No such function: "+o);if(!n)return null;var i=n[o];if("function"!=typeof i){if(t)throw new Error("Can't call non-function: "+i);return i}return i.apply(n,arguments)}},e._parentData=function(t,n){for(var i=e.getView("with"),o=0;t>o&&i;o++)i=e.getView(i,"with");return i?n?function(){return i.dataVar.get()}:i.dataVar.get():null},e.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){e.Template=function(t,n){if(!(this instanceof e.Template))return new e.Template(t,n);if("function"==typeof t&&(n=t,t=""),"string"!=typeof t)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=t,this.renderFunction=n,this.__eventMaps=[]};var t=e.Template;e.isTemplate=function(t){return t instanceof e.Template},t.prototype.constructView=function(n,i){var o=this,r=e.View(o.viewName,o.renderFunction);return r.template=o,r.templateContentBlock=n?new t("(contentBlock)",n):null,r.templateElseBlock=i?new t("(elseBlock)",i):null,(o.__eventMaps||"object"==typeof o.events)&&r._onViewRendered(function(){1===r.renderCount&&(o.__eventMaps.length||"object"!=typeof o.events||t.prototype.events.call(o,o.events),u.each(o.__eventMaps,function(t){e._addEventMap(r,t,r)}))}),r._templateInstance=new e.TemplateInstance(r),r.templateInstance=function(){var t=r._templateInstance;return t.data=e.getData(r),r._domrange&&!r.isDestroyed?(t.firstNode=r._domrange.firstNode(),t.lastNode=r._domrange.lastNode()):(t.firstNode=null,t.lastNode=null),t},o.created&&r.onViewCreated(function(){o.created.call(r.templateInstance())}),o.rendered&&r.onViewReady(function(){o.rendered.call(r.templateInstance())}),o.destroyed&&r.onViewDestroyed(function(){o.destroyed.call(r.templateInstance())}),r},e.TemplateInstance=function(t){if(!(this instanceof e.TemplateInstance))return new e.TemplateInstance(t);if(!(t instanceof e.View))throw new Error("View required");t._templateInstance=this,this.view=t,this.data=null,this.firstNode=null,this.lastNode=null},e.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},e.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},e.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},e.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},t.prototype.helpers=function(e){for(var t in e)this[t]=e[t]},t.prototype.events=function(t){var n=this,i={};for(var o in t)i[o]=function(t,n){return function(t){var i=this,o=e.getData(t.currentTarget);null==o&&(o={});var r=Array.prototype.slice.call(arguments),a=i.templateInstance();return r.splice(1,0,a),n.apply(o,r)}}(o,t[o]);n.__eventMaps.push(i)},t.instance=function(){for(var t=e.currentView;t&&!t.template;)t=t.parentView;return t?t.templateInstance():null},t.currentData=e.getData,t.parentData=e._parentData,t.registerHelper=e.registerHelper}.call(this),function(){t=e,e.ReactiveVar=f,t._templateInstance=e.Template.instance,n={},n.registerHelper=e.registerHelper,n._escape=e._escape,n.SafeString=function(e){this.string=e},n.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.blaze={Blaze:e,UI:t,Handlebars:n}}(),function(){var e,t,n,i,o,r,a,s,l,c,u,d=Package.meteor.Meteor,h=Package.underscore._,f=Package.tracker.Tracker,p=(Package.tracker.Deps,Package.random.Random),g=Package.ddp.DDP,m=Package.mongo.Mongo;(function(){e={},e._options={};var o=90,r=3600;t=6e5,n=1e4,e.config=function(t){if(d.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||d._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),h.has(t,"oauthSecretKey")){if(d.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(t.oauthSecretKey),t=h.omit(t,"oauthSecretKey")}var n=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays"];h.each(h.keys(t),function(e){if(!h.contains(n,e))throw new Error("Accounts.config: Invalid key: "+e)}),h.each(n,function(n){if(n in t){if(n in e._options)throw new Error("Can't set `"+n+"` more than once");e._options[n]=t[n]}}),d.isServer&&maybeStopExpireTokensInterval()},d.isClient&&(e.connection=d.connection,"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL&&(e.connection=g.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL))),d.users=new m.Collection("users",{_preventAutopublish:!0,connection:d.isClient?e.connection:d.connection}),d.startup(function(){var t=Package["service-configuration"].ServiceConfiguration;e.loginServiceConfiguration=t.configurations,e.ConfigError=t.ConfigError}),e.LoginCancelledError=function(e){this.message=e},e.LoginCancelledError.numericError=145546287,e.LoginCancelledError.prototype=new Error,e.LoginCancelledError.prototype.name="Accounts.LoginCancelledError",i=function(){return 24*(e._options.loginExpirationInDays||o)*60*60*1e3},e._tokenExpiration=function(e){return new Date(new Date(e).getTime()+i())},e._tokenExpiresSoon=function(e){var t=.1*i(),n=1e3*r;return t>n&&(t=n),new Date>new Date(e)-t}}).call(this),function(){o=!0;var t;t=window.location.hash.match(/^\#\/reset-password\/(.*)$/),t&&(o=!1,e._resetPasswordToken=t[1],window.location.hash=""),t=window.location.hash.match(/^\#\/verify-email\/(.*)$/),t&&(o=!1,e._verifyEmailToken=t[1],window.location.hash=""),t=window.location.hash.match(/^\#\/enroll-account\/(.*)$/),t&&(o=!1,e._enrollAccountToken=t[1],window.location.hash="")}.call(this),function(){d.userId=function(){return e.connection.userId()};var t=!1,n=new f.Dependency;e._setLoggingIn=function(e){t!==e&&(t=e,n.changed())},d.loggingIn=function(){return n.depend(),t},d.user=function(){var e=d.userId();return e?d.users.findOne(e):null},e.callLoginMethod=function(t){t=h.extend({methodName:"login",methodArguments:[],_suppressLoggingIn:!1},t),h.each(["validateResult","userCallback"],function(e){t[e]||(t[e]=function(){})});var n=h.once(t.userCallback),i=!1,o=function(t,o){e.connection.onReconnect=!t&&o&&o.token?function(){i=!0;var t=c();t&&(o={token:t,tokenExpires:u()}),o.tokenExpires||(o.tokenExpires=e._tokenExpiration(new Date)),e._tokenExpiresSoon(o.tokenExpires)?r():e.callLoginMethod({methodArguments:[{resume:o.token}],_suppressLoggingIn:!0,userCallback:function(e){var t=c();e&&t&&t===o.token&&r(),n(e)}})}:null},s=function(o,r){if(!i){if(e._setLoggingIn(!1),o||!r)return o=o||new Error("No result from call to "+t.methodName),void n(o);try{t.validateResult(r)}catch(s){return void n(s)}a(r.id,r.token,r.tokenExpires),n()}};t._suppressLoggingIn||e._setLoggingIn(!0),e.connection.apply(t.methodName,t.methodArguments,{wait:!0,onResultReceived:o},s)},r=function(){l(),e.connection.setUserId(null),e.connection.onReconnect=null},a=function(t,n,i){s(t,n,i),e.connection.setUserId(t)},d.logout=function(t){e.connection.apply("logout",[],{wait:!0},function(e){e?t&&t(e):(r(),t&&t())})},d.logoutOtherClients=function(t){e.connection.apply("getNewToken",[],{wait:!0},function(e,t){e||s(d.userId(),t.token,t.tokenExpires)}),e.connection.apply("removeOtherTokens",[],{wait:!0},function(e){t&&t(e)})};var i=e.connection.subscribe("meteor.loginServiceConfiguration");e.loginServicesConfigured=function(){return i.ready()};var o=[],p=null;e.onPageLoadLogin=function(e){p?e(p):o.push(e)},e._pageLoadLogin=function(e){return p?void d._debug("Ignoring unexpected duplicate page load login attempt info"):(h.each(o,function(t){t(e)}),o=[],void(p=e))},Package.blaze&&(Package.blaze.Blaze.Template.registerHelper("currentUser",function(){return d.user()}),Package.blaze.Blaze.Template.registerHelper("loggingIn",function(){return d.loggingIn()}))}.call(this),function(){var t;d.loginWithToken=function(t,n){e.callLoginMethod({methodArguments:[{resume:t}],userCallback:n})},e._enableAutoLogin=function(){o=!0,v()};var n="Meteor.loginToken",i="Meteor.loginTokenExpires",a="Meteor.userId";e._isolateLoginTokenForTest=function(){n+=p.id(),a+=p.id()},s=function(o,r,s){d._localStorage.setItem(a,o),d._localStorage.setItem(n,r),s||(s=e._tokenExpiration(new Date)),d._localStorage.setItem(i,s),t=r},l=function(){d._localStorage.removeItem(a),d._localStorage.removeItem(n),d._localStorage.removeItem(i),t=null},c=e._storedLoginToken=function(){return d._localStorage.getItem(n)},u=function(){return d._localStorage.getItem(i)};var h=function(){return d._localStorage.getItem(a)},f=function(){var t=d._localStorage.getItem(i);t&&e._tokenExpiresSoon(new Date(t))&&l()};if(o){f();var g=c();if(g){var m=h();m&&e.connection.setUserId(m),d.loginWithToken(g,function(t){t&&(d._debug("Error logging in with token: "+t),r()),e._pageLoadLogin({type:"resume",allowed:!t,error:t,methodName:"login",methodArguments:[{resume:g}]})})}}t=g;var v=function(){if(o){var e=c();t!=e&&(e?d.loginWithToken(e,function(e){e&&r()}):d.logout()),t=e}};setInterval(v,3e3)}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-base"]={Accounts:e}}(),function(){{var e;Package.meteor.Meteor}(function(){e=function(){function e(e){function t(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function n(e,t){return e>>>t|e<<32-t}function i(e,t){return e>>>t}function o(e,t,n){return e&t^~e&n}function r(e,t,n){return e&t^e&n^t&n}function a(e){return n(e,2)^n(e,13)^n(e,22)}function s(e){return n(e,6)^n(e,11)^n(e,25)}function l(e){return n(e,7)^n(e,18)^i(e,3)}function c(e){return n(e,17)^n(e,19)^i(e,10)}function u(e,n){var i,u,d,h,f,p,g,m,v,_,y,b,w=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),k=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),T=new Array(64);e[n>>5]|=128<<24-n%32,e[(n+64>>9<<4)+15]=n;for(var v=0;v<e.length;v+=16){i=k[0],u=k[1],d=k[2],h=k[3],f=k[4],p=k[5],g=k[6],m=k[7];for(var _=0;64>_;_++)T[_]=16>_?e[_+v]:t(t(t(c(T[_-2]),T[_-7]),l(T[_-15])),T[_-16]),y=t(t(t(t(m,s(f)),o(f,p,g)),w[_]),T[_]),b=t(a(i),r(i,u,d)),m=g,g=p,p=f,f=t(h,y),h=d,d=u,u=i,i=t(y,b);k[0]=t(i,k[0]),k[1]=t(u,k[1]),k[2]=t(d,k[2]),k[3]=t(h,k[3]),k[4]=t(f,k[4]),k[5]=t(p,k[5]),k[6]=t(g,k[6]),k[7]=t(m,k[7])}return k}function d(e){for(var t=Array(),n=(1<<p)-1,i=0;i<e.length*p;i+=p)t[i>>5]|=(e.charCodeAt(i/p)&n)<<24-i%32;
return t}function h(e){for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}function f(e){for(var t=g?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>8*(3-i%4)+4&15)+t.charAt(e[i>>2]>>8*(3-i%4)&15);return n}var p=8,g=0;return e=h(e),f(u(d(e),e.length*p))}return e}()}).call(this),"undefined"==typeof Package&&(Package={}),Package.sha={SHA256:e}}(),function(){var e,t,n=(Package.meteor.Meteor,Package.random.Random),i=(Package.check.check,Package.check.Match,Package.sha.SHA256),o=Package.underscore._;(function(){t=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function t(){return new e(null)}function n(e,t,n,i,o,r){for(var a=16383&t,s=t>>14;--r>=0;){var l=16383&this[e],c=this[e++]>>14,u=s*l+c*a;l=a*l+((16383&u)<<14)+n[i]+o,o=(l>>28)+(u>>14)+s*c,n[i++]=268435455&l}return o}function i(e){return Zt.charAt(e)}function o(e,t){var n=en[e.charCodeAt(t)];return null==n?-1:n}function r(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function a(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function s(e){var n=t();return n.fromInt(e),n}function l(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(t,n);i=2}this.t=0,this.s=0;for(var r=t.length,a=!1,s=0;--r>=0;){var l=8==i?255&t[r]:o(t,r);0>l?"-"==t.charAt(r)&&(a=!0):(a=!1,0==s?this[this.t++]=l:s+i>this.DB?(this[this.t-1]|=(l&(1<<this.DB-s)-1)<<s,this[this.t++]=l>>this.DB-s):this[this.t-1]|=l<<s,s+=i,s>=this.DB&&(s-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),a&&e.ZERO.subTo(this,this)}function c(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function u(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,o=(1<<t)-1,r=!1,a="",s=this.t,l=this.DB-s*this.DB%t;if(s-->0)for(l<this.DB&&(n=this[s]>>l)>0&&(r=!0,a=i(n));s>=0;)t>l?(n=(this[s]&(1<<l)-1)<<t-l,n|=this[--s]>>(l+=this.DB-t)):(n=this[s]>>(l-=t)&o,0>=l&&(l+=this.DB,--s)),n>0&&(r=!0),r&&(a+=i(n));return r?a:"0"}function d(){var n=t();return e.ZERO.subTo(this,n),n}function h(){return this.s<0?this.negate():this}function f(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function p(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function g(){return this.t<=0?0:this.DB*(this.t-1)+p(this[this.t-1]^this.s&this.DM)}function m(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function v(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function _(e,t){var n,i=e%this.DB,o=this.DB-i,r=(1<<o)-1,a=Math.floor(e/this.DB),s=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>o|s,s=(this[n]&r)<<i;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function y(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var i=e%this.DB,o=this.DB-i,r=(1<<i)-1;t[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&r)<<o,t[a-n]=this[a]>>i;i>0&&(t[this.t-n-1]|=(this.s&r)<<o),t.t=this.t-n,t.clamp()}function b(e,t){for(var n=0,i=0,o=Math.min(e.t,this.t);o>n;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=0>i?-1:0,-1>i?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()}function w(t,n){var i=this.abs(),o=t.abs(),r=i.t;for(n.t=r+o.t;--r>=0;)n[r]=0;for(r=0;r<o.t;++r)n[r+i.t]=i.am(0,o[r],n,r,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function k(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function T(n,i,o){var r=n.abs();if(!(r.t<=0)){var a=this.abs();if(a.t<r.t)return null!=i&&i.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=t());var s=t(),l=this.s,c=n.s,u=this.DB-p(r[r.t-1]);u>0?(r.lShiftTo(u,s),a.lShiftTo(u,o)):(r.copyTo(s),a.copyTo(o));var d=s.t,h=s[d-1];if(0!=h){var f=h*(1<<this.F1)+(d>1?s[d-2]>>this.F2:0),g=this.FV/f,m=(1<<this.F1)/f,v=1<<this.F2,_=o.t,y=_-d,b=null==i?t():i;for(s.dlShiftTo(y,b),o.compareTo(b)>=0&&(o[o.t++]=1,o.subTo(b,o)),e.ONE.dlShiftTo(d,b),b.subTo(s,s);s.t<d;)s[s.t++]=0;for(;--y>=0;){var w=o[--_]==h?this.DM:Math.floor(o[_]*g+(o[_-1]+v)*m);if((o[_]+=s.am(0,w,o,y,0,d))<w)for(s.dlShiftTo(y,b),o.subTo(b,o);o[_]<--w;)o.subTo(b,o)}null!=i&&(o.drShiftTo(d,i),l!=c&&e.ZERO.subTo(i,i)),o.t=d,o.clamp(),u>0&&o.rShiftTo(u,o),0>l&&e.ZERO.subTo(o,o)}}}function x(n){var i=t();return this.abs().divRemTo(n,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&n.subTo(i,i),i}function S(e){this.m=e}function C(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function E(e){return e}function P(e){e.divRemTo(this.m,null,e)}function M(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function D(e,t){e.squareTo(t),this.reduce(t)}function I(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function L(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function A(n){var i=t();return n.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),n.s<0&&i.compareTo(e.ZERO)>0&&this.m.subTo(i,i),i}function H(e){var n=t();return e.copyTo(n),this.reduce(n),n}function O(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function N(e,t){e.squareTo(t),this.reduce(t)}function R(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function j(){return 0==(this.t>0?1&this[0]:this.s)}function B(n,i){if(n>4294967295||1>n)return e.ONE;var o=t(),r=t(),a=i.convert(this),s=p(n)-1;for(a.copyTo(o);--s>=0;)if(i.sqrTo(o,r),(n&1<<s)>0)i.mulTo(r,a,o);else{var l=o;o=r,r=l}return i.revert(o)}function F(e,t){var n;return n=256>e||t.isEven()?new S(t):new L(t),this.exp(e,n)}function V(){var e=t();return this.copyTo(e),e}function z(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function $(){return 0==this.t?this.s:this[0]<<24>>24}function U(){return 0==this.t?this.s:this[0]<<16>>16}function W(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function q(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Y(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var n=this.chunkSize(e),i=Math.pow(e,n),o=s(i),r=t(),a=t(),l="";for(this.divRemTo(o,r,a);r.signum()>0;)l=(i+a.intValue()).toString(e).substr(1)+l,r.divRemTo(o,r,a);return a.intValue().toString(e)+l}function G(t,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),r=Math.pow(n,i),a=!1,s=0,l=0,c=0;c<t.length;++c){var u=o(t,c);0>u?"-"==t.charAt(c)&&0==this.signum()&&(a=!0):(l=n*l+u,++s>=i&&(this.dMultiply(r),this.dAddOffset(l,0),s=0,l=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(l,0)),a&&e.ZERO.subTo(this,this)}function X(t,n,i){if("number"==typeof n)if(2>t)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),it,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var o=new Array,r=7&t;o.length=(t>>3)+1,n.nextBytes(o),r>0?o[0]&=(1<<r)-1:o[0]=0,this.fromString(o,256)}}function Q(){var e=this.t,t=new Array;t[0]=this.s;var n,i=this.DB-e*this.DB%8,o=0;if(e-->0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[o++]=n|this.s<<this.DB-i);e>=0;)8>i?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,0>=i&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n);return t}function J(e){return 0==this.compareTo(e)}function K(e){return this.compareTo(e)<0?this:e}function Z(e){return this.compareTo(e)>0?this:e}function et(e,t,n){var i,o,r=Math.min(e.t,this.t);for(i=0;r>i;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(o=e.s&this.DM,i=r;i<this.t;++i)n[i]=t(this[i],o);n.t=this.t}else{for(o=this.s&this.DM,i=r;i<e.t;++i)n[i]=t(o,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function tt(e,t){return e&t}function nt(e){var n=t();return this.bitwiseTo(e,tt,n),n}function it(e,t){return e|t}function ot(e){var n=t();return this.bitwiseTo(e,it,n),n}function rt(e,t){return e^t}function at(e){var n=t();return this.bitwiseTo(e,rt,n),n}function st(e,t){return e&~t}function lt(e){var n=t();return this.bitwiseTo(e,st,n),n}function ct(){for(var e=t(),n=0;n<this.t;++n)e[n]=this.DM&~this[n];return e.t=this.t,e.s=~this.s,e}function ut(e){var n=t();return 0>e?this.rShiftTo(-e,n):this.lShiftTo(e,n),n}function dt(e){var n=t();return 0>e?this.lShiftTo(-e,n):this.rShiftTo(e,n),n}function ht(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function ft(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+ht(this[e]);return this.s<0?this.t*this.DB:-1}function pt(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function gt(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=pt(this[n]^t);return e}function mt(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function vt(t,n){var i=e.ONE.shiftLeft(t);return this.bitwiseTo(i,n,i),i}function _t(e){return this.changeBit(e,it)}function yt(e){return this.changeBit(e,st)}function bt(e){return this.changeBit(e,rt)}function wt(e,t){for(var n=0,i=0,o=Math.min(e.t,this.t);o>n;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=0>i?-1:0,i>0?t[n++]=i:-1>i&&(t[n++]=this.DV+i),t.t=n,t.clamp()}function kt(e){var n=t();return this.addTo(e,n),n}function Tt(e){var n=t();return this.subTo(e,n),n}function xt(e){var n=t();return this.multiplyTo(e,n),n}function St(e){var n=t();return this.divRemTo(e,n,null),n}function Ct(e){var n=t();return this.divRemTo(e,null,n),n}function Et(e){var n=t(),i=t();return this.divRemTo(e,n,i),new Array(n,i)}function Pt(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Mt(e,t){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}function Dt(){}function It(e){return e}function Lt(e,t,n){e.multiplyTo(t,n)}function At(e,t){e.squareTo(t)}function Ht(e){return this.exp(e,new Dt)}function Ot(e,t,n){var i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;var o;for(o=n.t-this.t;o>i;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(o=Math.min(e.t,t);o>i;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()}function Nt(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)}function Rt(n){this.r2=t(),this.q3=t(),e.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}function jt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var n=t();return e.copyTo(n),this.reduce(n),n}function Bt(e){return e}function Ft(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Vt(e,t){e.squareTo(t),this.reduce(t)}function zt(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function $t(e,n){var i,o,r=e.bitLength(),a=s(1);if(0>=r)return a;i=18>r?1:48>r?3:144>r?4:768>r?5:6,o=8>r?new S(n):n.isEven()?new Rt(n):new L(n);var l=new Array,c=3,u=i-1,d=(1<<i)-1;if(l[1]=o.convert(this),i>1){var h=t();for(o.sqrTo(l[1],h);d>=c;)l[c]=t(),o.mulTo(h,l[c-2],l[c]),c+=2}var f,g,m=e.t-1,v=!0,_=t();for(r=p(e[m])-1;m>=0;){for(r>=u?f=e[m]>>r-u&d:(f=(e[m]&(1<<r+1)-1)<<u-r,m>0&&(f|=e[m-1]>>this.DB+r-u)),c=i;0==(1&f);)f>>=1,--c;if((r-=c)<0&&(r+=this.DB,--m),v)l[f].copyTo(a),v=!1;else{for(;c>1;)o.sqrTo(a,_),o.sqrTo(_,a),c-=2;c>0?o.sqrTo(a,_):(g=a,a=_,_=g),o.mulTo(_,l[f],a)}for(;m>=0&&0==(e[m]&1<<r);)o.sqrTo(a,_),g=a,a=_,_=g,--r<0&&(r=this.DB-1,--m)}return o.revert(a)}function Ut(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var o=t.getLowestSetBit(),r=n.getLowestSetBit();if(0>r)return t;for(r>o&&(r=o),r>0&&(t.rShiftTo(r,t),n.rShiftTo(r,n));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n}function Wt(e){if(0>=e)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var i=this.t-1;i>=0;--i)n=(t*n+this[i])%e;return n}function qt(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var i=t.clone(),o=this.clone(),r=s(1),a=s(0),l=s(0),c=s(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(r.isEven()&&a.isEven()||(r.addTo(this,r),a.subTo(t,a)),r.rShiftTo(1,r)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;o.isEven();)o.rShiftTo(1,o),n?(l.isEven()&&c.isEven()||(l.addTo(this,l),c.subTo(t,c)),l.rShiftTo(1,l)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);i.compareTo(o)>=0?(i.subTo(o,i),n&&r.subTo(l,r),a.subTo(c,a)):(o.subTo(i,o),n&&l.subTo(r,l),c.subTo(a,c))}return 0!=o.compareTo(e.ONE)?e.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c}function Yt(e){var t,n=this.abs();if(1==n.t&&n[0]<=tn[tn.length-1]){for(t=0;t<tn.length;++t)if(n[0]==tn[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<tn.length;){for(var i=tn[t],o=t+1;o<tn.length&&nn>i;)i*=tn[o++];for(i=n.modInt(i);o>t;)if(i%tn[t++]==0)return!1}return n.millerRabin(e)}function Gt(n){var i=this.subtract(e.ONE),o=i.getLowestSetBit();if(0>=o)return!1;var r=i.shiftRight(o);n=n+1>>1,n>tn.length&&(n=tn.length);for(var a=t(),s=0;n>s;++s){a.fromInt(tn[s]);var l=a.modPow(r,this);if(0!=l.compareTo(e.ONE)&&0!=l.compareTo(i)){for(var c=1;c++<o&&0!=l.compareTo(i);)if(l=l.modPowInt(2,this),0==l.compareTo(e.ONE))return!1;if(0!=l.compareTo(i))return!1}}return!0}var Xt;e.prototype.am=n,Xt=28,e.prototype.DB=Xt,e.prototype.DM=(1<<Xt)-1,e.prototype.DV=1<<Xt;var Qt=52;e.prototype.FV=Math.pow(2,Qt),e.prototype.F1=Qt-Xt,e.prototype.F2=2*Xt-Qt;var Jt,Kt,Zt="0123456789abcdefghijklmnopqrstuvwxyz",en=new Array;for(Jt="0".charCodeAt(0),Kt=0;9>=Kt;++Kt)en[Jt++]=Kt;for(Jt="a".charCodeAt(0),Kt=10;36>Kt;++Kt)en[Jt++]=Kt;for(Jt="A".charCodeAt(0),Kt=10;36>Kt;++Kt)en[Jt++]=Kt;S.prototype.convert=C,S.prototype.revert=E,S.prototype.reduce=P,S.prototype.mulTo=M,S.prototype.sqrTo=D,L.prototype.convert=A,L.prototype.revert=H,L.prototype.reduce=O,L.prototype.mulTo=R,L.prototype.sqrTo=N,e.prototype.copyTo=r,e.prototype.fromInt=a,e.prototype.fromString=l,e.prototype.clamp=c,e.prototype.dlShiftTo=m,e.prototype.drShiftTo=v,e.prototype.lShiftTo=_,e.prototype.rShiftTo=y,e.prototype.subTo=b,e.prototype.multiplyTo=w,e.prototype.squareTo=k,e.prototype.divRemTo=T,e.prototype.invDigit=I,e.prototype.isEven=j,e.prototype.exp=B,e.prototype.toString=u,e.prototype.negate=d,e.prototype.abs=h,e.prototype.compareTo=f,e.prototype.bitLength=g,e.prototype.mod=x,e.prototype.modPowInt=F,e.ZERO=s(0),e.ONE=s(1),Dt.prototype.convert=It,Dt.prototype.revert=It,Dt.prototype.mulTo=Lt,Dt.prototype.sqrTo=At,Rt.prototype.convert=jt,Rt.prototype.revert=Bt,Rt.prototype.reduce=Ft,Rt.prototype.mulTo=zt,Rt.prototype.sqrTo=Vt;var tn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],nn=(1<<26)/tn[tn.length-1];return e.prototype.chunkSize=W,e.prototype.toRadix=Y,e.prototype.fromRadix=G,e.prototype.fromNumber=X,e.prototype.bitwiseTo=et,e.prototype.changeBit=vt,e.prototype.addTo=wt,e.prototype.dMultiply=Pt,e.prototype.dAddOffset=Mt,e.prototype.multiplyLowerTo=Ot,e.prototype.multiplyUpperTo=Nt,e.prototype.modInt=Wt,e.prototype.millerRabin=Gt,e.prototype.clone=V,e.prototype.intValue=z,e.prototype.byteValue=$,e.prototype.shortValue=U,e.prototype.signum=q,e.prototype.toByteArray=Q,e.prototype.equals=J,e.prototype.min=K,e.prototype.max=Z,e.prototype.and=nt,e.prototype.or=ot,e.prototype.xor=at,e.prototype.andNot=lt,e.prototype.not=ct,e.prototype.shiftLeft=ut,e.prototype.shiftRight=dt,e.prototype.getLowestSetBit=ft,e.prototype.bitCount=gt,e.prototype.testBit=mt,e.prototype.setBit=_t,e.prototype.clearBit=yt,e.prototype.flipBit=bt,e.prototype.add=kt,e.prototype.subtract=Tt,e.prototype.multiply=xt,e.prototype.divide=St,e.prototype.remainder=Ct,e.prototype.divideAndRemainder=Et,e.prototype.modPow=$t,e.prototype.modInverse=qt,e.prototype.pow=Ht,e.prototype.gcd=Ut,e.prototype.isProbablePrime=Yt,e}()}).call(this),function(){e={},e.generateVerifier=function(e,i){var o,r=a(i),s=i&&i.salt||n.secret(),l=i&&i.hashedIdentityAndPassword;l||(o=i&&i.identity||n.secret(),l=r.hash(o+":"+e));var c=r.hash(s+l),u=new t(c,16),d=r.g.modPow(u,r.N);return{identity:o,salt:s,verifier:d.toString(16)}},e.matchVerifier={identity:String,salt:String,verifier:String};var r={hash:function(e){return i(e).toLowerCase()},N:new t("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new t("2")};r.k=new t(r.hash(r.N.toString(16)+r.g.toString(16)),16);var a=function(e){if(!e)return r;var n=o.extend({},r);return o.each(["N","g","k"],function(i){if(e[i])if("string"==typeof e[i])n[i]=new t(e[i],16);else{if(!(e[i]instanceof t))throw new Error("Invalid parameter: "+i);n[i]=e[i]}}),e.hash&&(n.hash=function(t){return e.hash(t).toLowerCase()}),!e.k&&(e.N||e.g||e.hash)&&(n.k=n.hash(n.N.toString(16)+n.g.toString(16))),n}}.call(this),"undefined"==typeof Package&&(Package={}),Package.srp={SRP:e}}(),function(){{var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,n=(Package.srp.SRP,Package.sha.SHA256),i=Package.check.check,o=(Package.check.Match,Package.underscore._);Package.ddp.DDP}(function(){e.loginWithPassword=function(e,n,i){"string"==typeof e&&(e=-1===e.indexOf("@")?{username:e}:{email:e}),t.callLoginMethod({methodArguments:[{user:e,password:r(n)}],userCallback:function(t){t&&400===t.error&&"old password format"===t.reason?a({upgradeError:t,userSelector:e,plaintextPassword:n},i):t?i&&i(t):i&&i()}})};var r=function(e){return{digest:n(e),algorithm:"sha-256"}},a=function(i,o){var a;try{a=EJSON.parse(i.upgradeError.details)}catch(s){}a&&"srp"===a.format?t.callLoginMethod({methodArguments:[{user:i.userSelector,srp:n(a.identity+":"+i.plaintextPassword),password:r(i.plaintextPassword)}],userCallback:o}):o&&o(new e.Error(400,"Password is old. Please reset your password."))};t.createUser=function(n,i){if(n=o.clone(n),"string"!=typeof n.password)throw new Error("Must set options.password");return n.password?(n.password=r(n.password),void t.callLoginMethod({methodName:"createUser",methodArguments:[n],userCallback:i})):void i(new e.Error(400,"Password may not be empty"))},t.changePassword=function(n,o,s){return e.user()?(i(o,String),o?void t.connection.apply("changePassword",[n?r(n):null,r(o)],function(i,r){i||!r?i&&400===i.error&&"old password format"===i.reason?a({upgradeError:i,userSelector:{id:e.userId()},plaintextPassword:n},function(e){e?s&&s(e):t.changePassword(n,o,s)}):s&&s(i||new Error("No result from changePassword.")):s&&s()}):void s(new e.Error(400,"Password may not be empty"))):void(s&&s(new Error("Must be logged in to change password.")))},t.forgotPassword=function(e,n){if(!e.email)throw new Error("Must pass options.email");t.connection.call("forgotPassword",e,n)},t.resetPassword=function(n,o,a){return i(n,String),i(o,String),o?void t.callLoginMethod({methodName:"resetPassword",methodArguments:[n,r(o)],userCallback:a}):void a(new e.Error(400,"Password may not be empty"))},t.verifyEmail=function(e,n){if(!e)throw new Error("Need to pass token");t.callLoginMethod({methodName:"verifyEmail",methodArguments:[e],userCallback:n})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,i=Package.tracker.Tracker,o=(Package.tracker.Deps,Package.ejson.EJSON);(function(){var t=function(e){return void 0===e?"undefined":o.stringify(e)},r=function(e){return void 0===e||"undefined"===e?void 0:o.parse(e)};e=function(t){if(t)if("string"==typeof t)e._registerDictForMigrate(t,this),this.keys=e._loadMigratedDict(t)||{};else{if("object"!=typeof t)throw new Error("Invalid ReactiveDict argument: "+t);this.keys=t}else this.keys={};this.keyDeps={},this.keyValueDeps={}},n.extend(e.prototype,{set:function(e,i){var o=this;i=t(i);var r="undefined";if(n.has(o.keys,e)&&(r=o.keys[e]),i!==r){o.keys[e]=i;var a=function(e){e&&e.changed()};a(o.keyDeps[e]),o.keyValueDeps[e]&&(a(o.keyValueDeps[e][r]),a(o.keyValueDeps[e][i]))}},setDefault:function(e,t){var n=this;void 0===n.keys[e]&&n.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),r(t.keys[e])},equals:function(e,a){var s=this,l=null;if("undefined"!=typeof Mongo&&(l=Mongo.ObjectID),!("string"==typeof a||"number"==typeof a||"boolean"==typeof a||"undefined"==typeof a||a instanceof Date||l&&a instanceof l||null===a))throw new Error("ReactiveDict.equals: value must be scalar");var c=t(a);if(i.active){s._ensureKey(e),n.has(s.keyValueDeps[e],c)||(s.keyValueDeps[e][c]=new i.Dependency);var u=s.keyValueDeps[e][c].depend();u&&i.onInvalidate(function(){s.keyValueDeps[e][c].hasDependents()||delete s.keyValueDeps[e][c]})}var d=void 0;return n.has(s.keys,e)&&(d=r(s.keys[e])),o.equals(d,a)},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new i.Dependency,t.keyValueDeps[e]={})},_getMigrationData:function(){return this.keys}})}).call(this),function(){if(e._migratedDictData={},e._dictsToMigrate={},e._loadMigratedDict=function(t){return n.has(e._migratedDictData,t)?e._migratedDictData[t]:null},e._registerDictForMigrate=function(t,i){if(n.has(e._dictsToMigrate,t))throw new Error("Duplicate ReactiveDict name: "+t);e._dictsToMigrate[t]=i},t.isClient&&Package.reload){var i=Package.reload.Reload._migrationData("reactive-dict");i&&i.dicts&&(e._migratedDictData=i.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var t=e._dictsToMigrate,n={};for(var i in t)n[i]=t[i]._getMigrationData();return[!0,{dicts:n}]})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package.blaze.Blaze),n=Package.blaze.UI;Package.blaze.Handlebars,Package.htmljs.HTML}(function(){e=t.Template,e.__checkName=function(t){if(t in e){if(e[t]instanceof e&&"body"!==t)throw new Error("There are multiple templates named '"+t+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+t)}},e.__define__=function(t,n){e.__checkName(t),e[t]=new e("Template."+t,n)},e.body=new e("body",function(){for(var t=e.body.contentViews,n=0;n<t.length;n++)t[n].template=e.body;return t}),e.body.contentViews=[],e.body.view=null,e.body.addContent=function(n){var i="body_content_"+e.body.contentViews.length;e.body.contentViews.push(t.View(i,n))},e.body.renderToDocument=function(){if(!e.body.view){var t=n.render(e.body,document.body);e.body.view=t}},n.body=e.body,e.__body__=e.body,e.__body__.__contentParts=e.body.contentViews,e.__body__.__instantiate=e.body.renderToDocument}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:e}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.underscore._;Package.ejson.EJSON}(function(){if(Package["cmather:iron-core"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){e={},e.utils={},e.utils.assert=function(e,t){if(!e)throw new Error(t)},e.utils.warn=function(e,t){e||console&&console.warn&&console.warn(t)},e.utils.defaultValue=function(e,t,n){return"undefined"==typeof e[t]?(e[t]=n,n):e[t]},e.utils.inherits=function(t,i,o){e.utils.assert("undefined"!=typeof t,"Child is undefined in inherits function"),e.utils.assert("undefined"!=typeof i,"Parent is undefined in inherits function");for(var r in i)n.has(i,r)&&(t[r]=i[r]);var a=function(){this.constructor=t};return a.prototype=i.prototype,t.prototype=new a,t.__super__=i.prototype,n.isObject(o)&&n.extend(t.prototype,o),t},e.utils.extend=function(t,i){i=i||{};var o=function(){var e;e=n.has(i,"constructor")?i.constructor:o.__super__.constructor,e.apply(this,arguments)};return e.utils.inherits(o,t,i)},e.utils.global=function(){return t.isClient?window:global}(),e.utils.namespace=function(t,n){var i,o,r,a,s=e.utils.global;e.utils.assert("string"==typeof t,"namespace must be a string"),i=t.split("."),r=i.pop(),a=s;for(var l=0;l<i.length;l++)o=i[l],a=a[o]=a[o]||{};return 2===arguments.length?(a[r]=n,n):a[r]},e.utils.resolve=function(t){var n,i,o=e.utils.global;if("string"==typeof t){n=t.split("."),i=o;for(var r=0;r<n.length;r++)if(i=i[n[r]],!i)return void 0}else i=t;return i},e.utils.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},e.utils.classCase=function(t){var i=/_|-|\.|\//;return t?n.map(t.split(i),function(t){return e.utils.capitalize(t)}).join(""):""},e.utils.camelCase=function(t){var n=e.utils.classCase(t);return n=n.charAt(0).toLowerCase()+n.slice(1,n.length)},e.utils.notifyDeprecated=function(e){var t,i,o,r,a="[:where] ':name' is deprecated. Please use ':instead' instead.";n.isObject(e)?(t=e.name,i=e.instead,o=e.message||a,r=e.where||"IronRouter"):(o=e,t="",i="",r=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+o.replace(":name",t).replace(":instead",i).replace(":where",r)+" "+(new Error).stack)},e.utils.withDeprecatedNotice=function(e,t,n){return function(){return Utils.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},Function.prototype.deprecate=function(t){var n=this;return e.utils.withDeprecatedNotice(t,n)},e.utils.debug=function(t){return e.utils.assert("string"==typeof t,"debug requires a package name"),function(){if(console&&console.log&&e.debug===!0){var i=n.toArray(arguments).join(" ");console.log("%c<"+t+"> %c"+i,"color: #999;","color: #000;")}}},e.utils.global.Iron=e}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:core"]={Iron:e}}(),function(){{var e,t,n,e=(Package.meteor.Meteor,Package.blaze.Blaze),t=Package.blaze.UI,n=Package.blaze.Handlebars;Package.htmljs.HTML}"undefined"==typeof Package&&(Package={}),Package.ui={Blaze:e,UI:t,Handlebars:n}}(),function(){{var e,t,n,i,o=(Package.meteor.Meteor,Package.ui.Blaze),r=Package.ui.UI,a=(Package.ui.Handlebars,Package.underscore._),s=Package.jquery.$,l=(Package.jquery.jQuery,Package.tracker.Tracker,Package.tracker.Deps),c=Package.templating.Template,u=Package["iron:core"].Iron;Package.htmljs.HTML}(function(){if(Package["cmather:iron-dynamic-template"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){e=u.utils.debug("iron:dynamic-template"),t=u.utils.camelCase,n=function(e){return Object.prototype.toString.call(e)},i=function(e){this.options=e=e||{},this._template=e.template,this._defaultTemplate=e.defaultTemplate,this._content=e.content,this._data=e.data,this._templateDep=new l.Dependency,this._dataDep=new l.Dependency,this._hasControllerDep=new l.Dependency,this._hooks={},this._controller=new o.ReactiveVar,this.name=e.name||"DynamicTemplate",this.isCreated=!1,this.isDestroyed=!1},i.prototype.template=function(e){if(1===arguments.length&&e!==this._template)return this._template=e,void this._templateDep.changed();if(!(arguments.length>0))return this._templateDep.depend(),this._template?"function"==typeof this._template?this._template():this._template:this._defaultTemplate?"function"==typeof this._defaultTemplate?this._defaultTemplate():this._defaultTemplate:void 0},i.prototype.defaultTemplate=function(e){return 1!==arguments.length?this._defaultTemplate:void(this._defaultTemplate=e)},i.prototype.clear=function(){this._template=void 0,this._data=void 0,this._templateDep.changed()},i.prototype.data=function(e){return 1===arguments.length&&e!==this._data?(this._data=e,void this._dataDep.changed()):(this._dataDep.depend(),"function"==typeof this._data?this._data():this._data)},i.prototype.create=function(){var e=this;if(this.isCreated)throw new Error("DynamicTemplate view is already created");this.isCreated=!0,this.isDestroyed=!1;var r=o.ReactiveVar(null),s=o.View("DynamicTemplate",function(){var a=this,s=r.get();return o.With(function(){var t=e.data();return"undefined"!=typeof t?t:i.getParentDataContext(a)},function(){var i=null;if("string"==typeof s){if(i=c[s],i||(i=c[t(s)]),!i)throw new Error("Couldn't find a template named "+JSON.stringify(s)+" or "+JSON.stringify(t(s))+". Are you sure you defined it?")}else"[object Object]"===n(s)?i=s:"undefined"!=typeof e._content&&(i=e._content);return i})});return s.onViewCreated(function(){this.autorun(function(){r.set(e.template())})}),a.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(t){s[t](function(){e._runHooks(t,this)})}),s._onViewRendered(function(){e.isInserted=!0}),this.view=s,s.__dynamicTemplate__=this,s.name=this.name,s},i.prototype.destroy=function(){this.isCreated&&(o.remove(this.view),this.view=null,this.isDestroyed=!0,this.isCreated=!1)},a.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){i.prototype[e]=function(t){var n=this._hooks[e]=this._hooks[e]||[];
return n.push(t),this}}),i.prototype._runHooks=function(e,t){for(var n,i=this._hooks[e]||[],o=0;o<i.length;o++)n=i[o],n.call(t,this)},i.prototype.insert=function(e){if(e=e||{},!this.isInserted){this.isInserted=!0;var t=e.el||document.body,n=s(t);if(0===n.length)throw new Error("No element to insert layout into. Is your element defined? Try a Meteor.startup callback.");return this.view||this.create(e),o.render(this.view,n[0],e.nextNode,e.parentView),this}},i.prototype.getController=function(){return this._controller.get()},i.prototype.setController=function(e){var t=!!this._hasController;return this._hasController="undefined"!=typeof e,t!==this._hasController&&this._hasControllerDep.changed(),this._controller.set(e)},i.prototype.hasController=function(){return this._hasControllerDep.depend(),this._hasController},i.getParentDataContext=function(e){for(e=e.parentView;e;){if("with"===e.name&&!e.__isTemplateWith)return e.dataVar.get();e=e.parentView}return null},i.getInclusionArguments=function(e){var t=e&&e.parentView;return t&&t.__isTemplateWith?t.dataVar.get():null},i.args=function(e){return function(t){var n=i.getInclusionArguments(e);return n?t?n[t]:n:null}},i.extend=function(e){return u.utils.extend(this,e)},"undefined"!=typeof c&&r.registerHelper("DynamicTemplate",new c("DynamicTemplateHelper",function(){var e=i.args(this);return new i({data:function(){return e("data")},template:function(){return e("template")},content:this.templateContentBlock}).create()})),u.DynamicTemplate=i}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:dynamic-template"]={}}(),function(){{var e,t,n,i=(Package.meteor.Meteor,Package.templating.Template),o=Package.blaze.Blaze,r=Package.blaze.UI,a=(Package.blaze.Handlebars,Package.underscore._),s=Package["iron:core"].Iron;Package.htmljs.HTML}(function(){var e=[];if(Package["cmather:iron-layout"]&&e.push("\n\n    The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  "),Package["cmather:blaze-layout"]&&e.push("The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\n> meteor remove cmather:blaze-layout\n"),e.length>0)throw new Error("Sorry! Looks like there's a few errors related to iron:layout\n\n"+e.join("\n\n"))}).call(this),function(){i.__checkName("__IronDefaultLayout__"),i.__IronDefaultLayout__=new i("Template.__IronDefaultLayout__",function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))})}.call(this),function(){var l=s.DynamicTemplate,c=s.utils.inherits;e=function(e){for(;e;){if("Iron.Layout"===e.name)return e.__dynamicTemplate__;e=e.parentView}return null},t=function(e){t.__super__.constructor.apply(this,arguments),e=e||{},this.name="Iron.Layout",this._regions={},this._regionHooks={},this.defaultTemplate("__IronDefaultLayout__"),e.content&&this.render(e.content)},n=t.DEFAULT_REGION="main",c(t,s.DynamicTemplate),t.prototype.region=function(e,t){return this._ensureRegion(e,t)},t.prototype.destroyRegions=function(){a.each(this._regions,function(e){e.destroy()}),this._regions={}},t.prototype.render=function(e,t){t=t||{};var i=t.to||t.region||n,o=this.region(i);this._trackRenderedRegion(i),o.template(e),o.data(t.data)},t.prototype.has=function(e){return e=e||t.DEFAULT_REGION,!!this._regions[e]},t.prototype.regionKeys=function(){return a.keys(this._regions)},t.prototype.clear=function(e){return e=e||t.DEFAULT_REGION,this.has(e)&&this.region(e).template(null),this},t.prototype.clearAll=function(){return a.each(this._regions,function(e){e.template(null)}),this},t.prototype.beginRendering=function(e){var t=this;if(this._finishRenderingTransaction&&this._finishRenderingTransaction(),this._finishRenderingTransaction=a.once(function(){var n=t._endRendering({flush:!1});e&&e(n)}),Deps.afterFlush(this._finishRenderingTransaction),this._renderedRegions)throw new Error("You called beginRendering again before calling endRendering");this._renderedRegions={}},t.prototype._trackRenderedRegion=function(e){this._renderedRegions&&(this._renderedRegions[e]=!0)},t.prototype._endRendering=function(e){e=e||{},e.flush!==!1&&Deps.flush();var t=this._renderedRegions||{};return this._renderedRegions=null,a.keys(t)},a.each(["onRegionCreated","onRegionRendered","onRegionDestroyed"],function(e){t.prototype[e]=function(t){var n=this._regionHooks[e]=this._regionHooks[e]||[];return n.push(t),this}}),t.prototype._ensureRegion=function(e,t){return this._regions[e]=this._regions[e]||this._createDynamicTemplate(e,t)},t.prototype._createDynamicTemplate=function(e,t){var n=this,i=new s.DynamicTemplate(t),o=s.utils.capitalize;return i._region=e,a.each(["viewCreated","viewReady","viewDestroyed"],function(e){e=o(e),i["on"+e](function(t){var i=this,o={viewCreated:"regionCreated",viewReady:"regionRendered",viewDestroyed:"regionDestroyed"}[e];n._runRegionHooks("on"+o,i,t)})}),i},t.prototype._runRegionHooks=function(e,t,n){for(var i,o=this._regionHooks[e]||[],r=0;r<o.length;r++)i=o[r],i.call(t,n.region,n,this)},"undefined"!=typeof i&&(r.registerHelper("yield",new i("yield",function(){var t=e(this);if(!t)throw new Error("No Iron.Layout found so you can't use yield!");var i,o,r=l.getInclusionArguments(this);return a.isString(r)?i=r:a.isObject(r)&&(i=r.region),i=i||n,o=t.region(i),o.isCreated&&o.destroy(),o.create()})),r.registerHelper("contentFor",new i("contentFor",function(){var t=e(this);if(!t)throw new Error("No Iron.Layout found so you can't use contentFor!");var n,i=l.getInclusionArguments(this)||{},o=this.templateContentBlock,r=i.template,s=i.data;if(a.isString(i))n=i;else{if(!a.isObject(i))throw new Error("Which region is this contentFor block supposed to be for?");n=i.region}return t.region(n).template(r||o),t._trackRenderedRegion(n),s&&t.region(n).data(s),null})),r.registerHelper("hasRegion",function(t){var n=e(o.getView());if(!n)throw new Error("No Iron.Layout found so you can't use hasRegion!");if(!a.isString(t))throw new Error("You need to provide an region argument to hasRegion");return!!n.region(t).template()}),r.registerHelper("Layout",new i("layout",function(){var e=s.DynamicTemplate.args(this),n=new t({template:function(){return e("template")},data:function(){return e("data")},content:this.templateContentBlock});return n.create()}))),s.Layout=t}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:layout"]={}}(),function(){var e,t,n,i,o,r,a,s,l,c,u,d=Package.meteor.Meteor,h=(Package["reactive-dict"].ReactiveDict,Package.tracker.Tracker,Package.tracker.Deps),f=Package.underscore._,p=Package.ejson.EJSON,g=Package.jquery.$,m=(Package.jquery.jQuery,Package.blaze.Blaze,Package.blaze.UI),v=(Package.blaze.Handlebars,Package.htmljs.HTML,Package["iron:core"].Iron);(function(){o={},o.global=function(){return this}(),o.assert=function(e,t){if(!e)throw new Error(t)};var e=function(e){n&&n.options.supressWarnings===!0||console&&console.warn&&console.warn(e)};o.warn=function(t,n){t||e(n)},o.notifyDeprecated=function(t){var n,i,o,r,a="[:where] ':name' is deprecated. Please use ':instead' instead.";f.isObject(t)?(n=t.name,i=t.instead,o=t.message||a,r=t.where||"IronRouter"):(o=t,n="",i="",r=""),e("<deprecated> "+o.replace(":name",n).replace(":instead",i).replace(":where",r)+" "+(new Error).stack)},o.withDeprecatedNotice=function(e,t,n){return function(){return o.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},o.resolveValue=function(e){var t,n,i=o.global;if(f.isString(e)){t=e.split("."),n=i;for(var r=0;r<t.length;r++)if(n=n[t[r]],!n)return void 0}else n=e;return n},o.hasOwnProperty=function(e,t){var n={}.hasOwnProperty;return n.call(e,t)},o.inherits=function(e,t){function n(){this.constructor=e}if("[object Function]"!==o.typeOf(e))throw new Error("First parameter to Utils.inherits must be a function");if("[object Function]"!==o.typeOf(t))throw new Error("Second parameter to Utils.inherits must be a function");for(var i in t)o.hasOwnProperty(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o.toArray=function(e){return e?"[object Array]"!==o.typeOf(e)?[e]:e:[]},o.typeOf=function(e){return e&&e.typeName?e.typeName:Object.prototype.toString.call(e)},o.extend=function(e,t,n){return 1===arguments.length?t=e:(t=t||{},t.extend=e),o.create(t,{onBeforeExtendPrototype:n})},o.create=function(e,t){var n,i;t=t||{},e=e||{},n=o.hasOwnProperty(e,"constructor")?e.constructor:function(){return n.__super__&&n.__super__.constructor?n.__super__.constructor.apply(this,arguments):void 0},i=e.extend,e.extend&&delete e.extend;var r=function(e,t,n){o.inherits(e,o.resolveValue(t)),n&&f.extend(e.prototype,n)};return i&&r(n,i),t.onBeforeExtendPrototype&&t.onBeforeExtendPrototype.call(n,e),f.extend(n.prototype,e),n},o.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},o.upperCamelCase=function(e){var t=/_|-|\./;return e?f.map(e.split(t),function(e){return o.capitalize(e)}).join(""):""},o.camelCase=function(e){var t=o.upperCamelCase(e);return t=t.charAt(0).toLowerCase()+t.slice(1,t.length)},o.pick=function(){for(var e,t=f.toArray(arguments),n=0;n<t.length;n++)if(e=t[n],"undefined"!=typeof e&&null!==e)return e;return null},o.StringConverters={none:function(e){return e},upperCamelCase:function(e){return o.upperCamelCase(e)},camelCase:function(e){return o.camelCase(e)}},o.rewriteLegacyHooks=function(e){var t=r.LEGACY_HOOK_TYPES;f.each(t,function(t,n){f.has(e,n)&&(s=!0,e[t]=e[n],o.notifyDeprecated({where:"RouteController",name:n,instead:t}))})}}).call(this),function(){t=function(e,t,n){var i;o.assert(e instanceof r,"Route constructor first parameter must be a Router"),o.assert(f.isString(t),"Route constructor second parameter must be a String name"),f.isFunction(n)&&(n={handler:n}),n=this.options=n||{},i=n.path||"/"+t,this.router=e,this.originalPath=i,f.isString(this.originalPath)&&"/"!==this.originalPath.charAt(0)&&(this.originalPath="/"+this.originalPath),this.name=t,this.where=n.where||"client",this.controller=n.controller,this.action=n.action,this.isReactive="undefined"!=typeof n.reactive?n.reactive:!0,o.rewriteLegacyHooks(this.options),this.compile()},t.prototype={constructor:t,compile:function(){var e,t=this,n=t.options;return this.keys=[],t.originalPath instanceof RegExp?t.re=t.originalPath:(e=t.originalPath.replace(/(.)\/$/,"$1").concat(n.strict?"":"/?").replace(/\/\(/g,"(?:/").replace(/#/,"/?#").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,i,o,r,a){return t.keys.push({name:o,optional:!!a}),n=n||"",""+(a?"":n)+"(?:"+(a?n:"")+(i||"")+(r||i&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),t.re=new RegExp("^"+e+"$",n.sensitive?"":"i")),this},params:function(e){if(!e)return null;var t,n,i,o=[],r=this.exec(e),a=this.keys;if(!r)throw new Error('The route named "'+this.name+'" does not match the path "'+e+'"');for(var s=1,c=r.length;c>s;++s)n=a[s-1],i="string"==typeof r[s]?decodeURIComponent(r[s]):r[s],n?o[n.name]=void 0!==o[n.name]?o[n.name]:i:o.push(i);return e=decodeURI(e),t=e.split("?")[1],t&&(t=t.split("#")[0]),o.hash=e.split("#")[1],t&&f.each(t.split("&"),function(e){l=e.split("="),o[l[0]]=decodeURIComponent(l[1])}),o},normalizePath:function(e){var t=d.absoluteUrl();e=e.replace(t,"");var n=e.indexOf("?");e=~n?e.slice(0,n):e;var i=e.indexOf("#");return e=~i?e.slice(0,i):e,"/"!==e.charAt(0)&&(e="/"+e),e},test:function(e){return this.re.test(this.normalizePath(e))},exec:function(e){return this.re.exec(this.normalizePath(e))},resolve:function(e,t){var n,i,o,r,a=0,s=this.originalPath,l=!1;if(t=t||{},e=e||[],r=t.query,o=t.hash&&t.hash.toString(),s instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");return s=this.originalPath.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,o,r,a,s,c){if(o=o||"",n=e[a],i="undefined"!=typeof n,c&&!i)n="";else if(!i)return void(l=!0);n=f.isFunction(n)?n.call(e):n;var u=f.map(String(n).split("/"),function(e){return encodeURIComponent(e)}).join("/");return o+u}).replace(/\*/g,function(){if("undefined"==typeof e[a])throw new Error("You are trying to access a wild card parameter at index "+a+" but the value of params at that index is undefined");var t=String(e[a++]);return f.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),f.isObject(r)&&(r=f.map(f.pairs(r),function(e){return e[0]+"="+encodeURIComponent(e[1])}).join("&")),r&&r.length&&(s=s+"?"+r),o&&(o=encodeURI(o.replace("#","")),s=r?s+"#"+o:s+"/#"+o),s=s.replace(/\/+/g,"/"),s=s.replace(/^(.+)\/$/g,"$1"),l?null:s},path:function(e,t){return this.resolve(e,t)},url:function(e,t){var n=this.path(e,t);return n?("/"===n.charAt(0)&&(n=n.slice(1,n.length)),d.absoluteUrl()+n):null},findController:function(){var t,i=o.resolveValue,r=(o.toArray,function(e){var t=i(e);if("undefined"==typeof t)throw new Error('controller "'+e+'" is not defined');return t});return f.isString(this.controller)?t=r(this.controller):f.isFunction(this.controller)?t=this.controller:this.name&&(t=i(n.convertRouteControllerName(this.name+"Controller"))),t||(t=e),t},newController:function(e,t){var n=this.findController(e,t);return t=f.extend({},t,{path:e,params:this.params(e),where:this.where,action:this.action}),new n(this.router,this,t)},getController:function(e,t){return this.newController(e,t)}.deprecate({where:"Route",name:"getController",instead:"newController"})}}.call(this),function(){e=function(e,n,i){if(!(e instanceof r))throw new Error("RouteController requires a router");if(!(n instanceof t))throw new Error("RouteController requires a route");i=this.options=i||{},this.router=e,this.route=n,this.path=i.path||"",this.params=i.params||[],this.where=i.where||"client",this.action=i.action||this.action,o.rewriteLegacyHooks(this.options),o.rewriteLegacyHooks(this)},e.prototype={constructor:e,lookupProperty:function(e){var t;if(!f.isString(e))throw new Error("key must be a string");if("undefined"!=typeof(t=this.options[e]))return t;if("undefined"!=typeof(t=this[e]))return t;var n;return n=this.route.options,n&&"undefined"!=typeof(t=n[e])?t:(n=this.router.options,n&&"undefined"!=typeof(t=n[e])?t:void 0)},runHooks:function(e,t,i){{var r=this;this.constructor}if(!f.isString(e))throw new Error("hookName must be a string");if(t&&!f.isArray(t))throw new Error("more must be an array of functions");var a,s=!1,l=function(e){var t=e;if(f.isFunction(t))return t;if(f.isString(t)&&f.isFunction(n.hooks[t]))return n.hooks[t];throw new Error("No hook found named: ",e)},c=function(t){var n=[];return t.__super__&&(n=n.concat(c(t.__super__.constructor))),o.hasOwnProperty(t.prototype,e)?n.concat(t.prototype[e]):n},u=o.toArray,d=this.router.getHooks(e,this.route.name);a=this.route.options;var h=u(a&&a[e]);a=this.options;var p,g=u(a&&a[e]),m=c(this.constructor);p=f.has(this,e)?u(this[e]):[];for(var v,_=g.concat(m).concat(p).concat(h).concat(d).concat(t),s=!1,y=function(){s=!0},b=0;v=_[b];b++){var w=l(v);s||this.isStopped||w.call(r,y,b)}return i&&i.call(r,s),s},action:function(){throw new Error("not implemented")},stop:function(e){return this._stopController(e)},_stopController:function(e){var t=this;this.isStopped||(t.isRunning=!1,t.runHooks("onStop"),t.isStopped=!0,e&&e.call(t))},_run:function(){throw new Error("not implemented")}},f.extend(e,{extend:function(e){return o.rewriteLegacyHooks(e),o.extend(this,e,function(){})}})}.call(this),function(){r=function(e){var t=this;this.configure(e),this.routes=[],this._nameConverters={},this.setNameConverter("Template","none"),this.setNameConverter("RouteController","upperCamelCase"),this._globalHooks={},f.each(r.HOOK_TYPES,function(e){t._globalHooks[e]=[],t[e]=function(n,i){return t.addHook(e,n,i)}}),f.each(r.LEGACY_HOOK_TYPES,function(e,n){t[n]=function(){return o.notifyDeprecated({where:"Router",name:n,instead:e}),t[e].apply(this,arguments)}})},r.HOOK_TYPES=["onRun","onData","onBeforeAction","onAfterAction","onStop","waitOn"],r.LEGACY_HOOK_TYPES={load:"onRun",before:"onBeforeAction",after:"onAfterAction",unload:"onStop"},r.prototype={constructor:r,configure:function(e){var t=this;return e=e||{},this.options=this.options||{},f.extend(this.options,e),f.each(r.HOOK_TYPES,function(e){t.options[e]&&(f.each(o.toArray(t.options[e]),function(n){t.addHook(e,n)}),delete t.options[e])}),f.each(r.LEGACY_HOOK_TYPES,function(e,n){t.options[n]&&(f.each(o.toArray(t.options[n]),function(n){t.addHook(e,n)}),delete t.options[n])}),e.templateNameConverter&&this.setNameConverter("Template",e.templateNameConverter),e.routeControllerNameConverter&&this.setNameConverter("RouteController",e.routeControllerNameConverter),this},convertTemplateName:function(e){var t=this._nameConverters.Template;if(!t)throw new Error("No name converter found for Template");return t(e)},convertRouteControllerName:function(e){var t=this._nameConverters.RouteController;if(!t)throw new Error("No name converter found for RouteController");return t(e)},setNameConverter:function(e,t){var n;if(f.isFunction(t)&&(n=t),f.isString(t)&&(n=o.StringConverters[t]),!n)throw new Error("No converter found named: "+t);return this._nameConverters[e]=n,this},addHook:function(e,t,n){return n=n||{},n.only&&(n.only=o.toArray(n.only)),n.except&&(n.except=o.toArray(n.except)),this._globalHooks[e].push({options:n,hook:t}),this},getHooks:function(e,t){var n=[];return f.each(this._globalHooks[e],function(e){var i=e.options;i.except&&f.include(i.except,t)||(!i.only||f.include(i.only,t))&&n.push(e.hook)}),n},map:function(e){return o.assert(f.isFunction(e),"map requires a function as the first parameter"),e.call(this),this},route:function(e,n){var i;return o.assert(f.isString(e),"name is a required parameter"),i=n instanceof t?n:new t(this,e,n),this.routes[e]=i,this.routes.push(i),i},path:function(e,t,n){var i=this.routes[e];return o.warn(i,"You called Router.path for a route named "+e+" but that route doesn't seem to exist. Are you sure you created it?"),i&&i.path(t,n)},url:function(e,t,n){var i=this.routes[e];return o.warn(i,'You called Router.url for a route named "'+e+"\" but that route doesn't seem to exist. Are you sure you created it?"),i&&i.url(t,n)},match:function(e){return f.find(this.routes,function(t){return t.test(e)})},dispatch:function(e,t,n){var i=this.match(e);if(!i)return this.onRouteNotFound(e,t);if(i.where!==(d.isClient?"client":"server"))return this.onUnhandled(e,t);var o=i.newController(e,t);this.run(o,n)},run:function(e,t){var n=this,i=d.isClient?"client":"server";if(o.assert(e,"run requires a controller"),e.where!=i)return void n.onUnhandled(e.path,e.options);var r=function(){n._currentController=e,t&&t(e),n._currentController._run()};this._currentController?this._currentController._stopController(r):r()},onUnhandled:function(){throw new Error("onUnhandled not implemented")},onRouteNotFound:function(e){throw new Error('Oh no! No route found for path: "'+e+'"')}}}.call(this),function(){function e(e){u(e.originalEvent.state,null,location.pathname+location.search+location.hash)}var t=new h.Dependency,n={path:location.pathname+location.search+location.hash,title:null};i={},i.origin=function(){return location.protocol+"//"+location.host},i.isSameOrigin=function(e){var t=i.origin();return 0===e.indexOf(t)},i.get=function(){return t.depend(),n},i.path=function(){return t.depend(),n.path},i.set=function(e,t){t=t||{};var n=t.state||{};/^http/.test(e)?c=e:("/"!==e.charAt(0)&&(e="/"+e),c=i.origin()+e),i.isSameOrigin(c)?"server"===t.where?window.location=c:t.replaceState?i.replaceState(n,t.title,e,t.skipReactive):i.pushState(n,t.title,e,t.skipReactive):window.location=c},u=function(e,i,o,r){e=f.extend({},e),e.path=o,e.title=i,r||p.equals(n,e)||t.changed(),n=e},i.pushState=function(e,t,n,i){u(e,t,n,i),history.pushState?history.pushState(e,t,n):window.location=n},i.replaceState=function(e,t,i,o){arguments.length<2&&(t=n.title),arguments.length<3&&(i=n.path),u(e,t,i,o),history.replaceState?history.replaceState(e,t,i):window.location=i},i.bindEvents=function(){g(window).on("popstate.iron-router",e)},i.unbindEvents=function(){g(window).off("popstate.iron-router")},i.start=function(){this.isStarted||(i.bindEvents(),this.isStarted=!0,history.replaceState&&history.replaceState({initial:!0},null,location.pathname+location.search+location.hash))},i.stop=function(){i.unbindEvents(),this.isStarted=!1}}.call(this),function(){var a=function(e,t){return function(){return"function"==typeof e?e.apply(t,arguments):e}};if(r=o.extend(r,{constructor:function(e){var t=this;r.__super__.constructor.apply(this,arguments),t.options.linkSelector=t.options.linkSelector||"a[href]",e=e||{},this.isRendered=!1,this._currentController=null,this._controllerDep=new h.Dependency,this._hasJustReloaded=!1,d.startup(function(){d.defer(function(){t.options.autoRender!==!1&&t.autoRender(),t.options.autoStart!==!1&&t.start()})}),this._layout=new v.Layout({template:this.options.layoutTemplate})},layout:function(e,t){var n=this._layout.template(e);return t&&f.has(t,"data")&&this._layout.data(a(t.data,this)),n},setRegion:function(e,t){return 1===arguments.length&&(t=e,e=null),this._layout.render(t,{to:e}),this},clearRegion:function(e){return this._layout.clear(e),this},current:function(e){return e&&e.reactive===!1?this._currentController:(this._controllerDep.depend(),this._currentController)},clearUnusedRegions:function(e){var t=this,n=f.keys(this._layout._regions);e=f.filter(e,function(e){return!!e});var i=f.difference(n,e);f.each(i,function(e){t.clearRegion(e)})},run:function(e){r.__super__.run.apply(this,arguments),e==this._currentController&&this._controllerDep.changed()},go:function(e,t,n){var i,r,a,s,l=this,c=/^\/|http/;if(s=function(){n=n||{},l._location.set(r,{replaceState:n.replaceState,state:n.state,skipReactive:!0})},c.test(e)){if(r=e,n=t,r===l._location.path())return void(l.options.debug&&console.log("You've navigated to the same path that you are currently at. Doing nothing"));l.dispatch(r,n,s)}else i=l.routes[e],o.assert(i,"No route found named "+e),r=i.path(t,n),a=i.newController(r,n),l.run(a,s)},render:function(){return this.isRendered=!0,this._layout.create()},autoRender:function(){this.isRendered=!0,this._layout.insert({el:document.body,parentComponent:null})},bindEvents:function(){g(document).on("click.ironRouter",this.options.linkSelector,f.bind(this.onClick,this))},unbindEvents:function(){g(document).off("click.ironRouter",this.options.linkSelector)},start:function(){var e=this;e.isStarted||(e.isStarted=!0,e._location=e.options.location||i,e._location.start(),e.bindEvents(),h.autorun(function(t){e._locationComputation=t,e.dispatch(e._location.path(),{state:history.state})}))},stop:function(){this.isStarted=!1,this.unbindEvents(),this._location.stop(),this._locationComputation&&this._locationComputation.stop()},onUnhandled:function(e){window.location=e},onRouteNotFound:function(n,i){if(this._location.path()!==n)window.location=n;else{if(!this.options.notFoundTemplate)throw new Error('Oh no! No route found for path: "'+n+'"');var o=new t(this,"__notfound__",f.extend(i||{},{path:n}));this.run(new e(this,o,{layoutTemplate:this.options.layoutTemplate,template:this.options.notFoundTemplate}))}},onClick:function(e){var t=e.currentTarget,n=f.isUndefined(e.which)?e.button:e.which,o=t.href,r=t.pathname+t.search+t.hash;r=r.replace(/(^\/?)/,"/"),e.isDefaultPrevented()||1===n&&(e.metaKey||e.ctrlKey||e.shiftKey||t.target||i.isSameOrigin(o)&&(e.preventDefault(),this.go(r)))}}),n=new r,d._reload){d._reload.onMigrate("iron-router",function(){return[!0,!0]});var s=d._reload.migrationData("iron-router");n._hasJustReloaded=s}}.call(this),function(){var e=v.utils.assert,t=function(){for(var e={},t=h.currentComputation;t;)e[String(t._id)]=!0,t=t._parent;return e},n=function(n){var i=t(),o=Object.keys(n._dependentsById);o.forEach(function(t){e(!i[t],"\n\nYou called wait() after calling ready() inside the same computation tree.\n\nYou can fix this problem in two possible ways:\n\n1) Put all of your wait() calls before any ready() calls.\n2) Put your ready() call in its own computation with Deps.autorun.")})};a=function(){this._readyDep=new h.Dependency,this._comps=[],this._notReadyCount=0},a.prototype.wait=function(e){var t=this,i=h.currentComputation;n(t._readyDep),h.nonreactive(function(){var n=null,o=h.autorun(function(i){var o=!!e(),r=t._notReadyCount;i.firstRun&&!o?t._notReadyCount++:null!==n&&o!==n&&o===!0?t._notReadyCount--:null!==n&&o!==n&&o===!1&&t._notReadyCount++,n=o,0===r&&t._notReadyCount>0?t._readyDep.changed():r>0&&0===t._notReadyCount&&t._readyDep.changed()});t._comps.push(o),i&&i.onInvalidate(function(){h.afterFlush(function(){o.stop(),t._comps.splice(f.indexOf(t._comps,o),1),n===!1&&(t._notReadyCount--,0===t._notReadyCount&&t._readyDep.changed())})})})},a.prototype.ready=function(){return this._readyDep.depend(),0===this._notReadyCount},a.prototype.stop=function(){f.each(this._comps,function(e){e.stop()}),this._comps=[]}}.call(this),function(){n.hooks={dataNotFound:function(e){var t;if(this.ready()&&this._hasData()){var n=this.data();(n===!1||null===n||"undefined"==typeof n)&&(t=this.lookupProperty("notFoundTemplate"),t&&(this.render(t),this.renderRegions(),e()))}},loading:function(e){var t;this.ready()||(t=this.lookupProperty("loadingTemplate"),t&&(this.render(t),this.renderRegions(),e()))}}}.call(this),function(){var t=!1,i=function(e){t&&console.log("%c<RouteController> "+e,"color: purple; font-size: 1.3em; font-weight: bold;")},r=function(e,t){return function(){return"function"==typeof e?e.apply(t,arguments):e}};e=o.extend(e,{constructor:function(){var t=this;e.__super__.constructor.apply(this,arguments),this._waitList=new a;var n=this.lookupProperty("data");this._hasData=function(){return"undefined"!=typeof n},this.data=r(n,this),f.each(["layout","setRegion","clearRegion"],function(e){t[e]=function(){if(!t.router)throw new Error("No router defined on RouteController");return t.router[e].apply(t.router,arguments)}})},setLayout:function(){return this.layout.apply(this,arguments)},ready:function(){return this._waitList.ready()},redirect:function(){return n.go.apply(n,arguments)},subscribe:function(){var e=this,t=d.subscribe.apply(this,arguments);return f.extend(t,{wait:function(){e.wait(this)}})},lookupLayoutTemplate:function(){return this.lookupProperty("layoutTemplate")},lookupTemplate:function(){return this.lookupProperty("template")||n.convertTemplateName(this.route.name)},lookupRegionTemplates:function(){var e;return(e=this.lookupProperty("regionTemplates"))?e:(e=this.lookupProperty("yieldTemplates"))?e:{}},lookupWaitOn:function(){var e=o.toArray,t=e(this.router.getHooks("waitOn",this.route.name)),n=e(this.router.options.waitOn),i=e(this.route.options.waitOn),r=e(this.options.waitOn),a=e(this.waitOn);return t.concat(n).concat(i).concat(r).concat(a)},render:function(e,t){var n,e;0==arguments.length?(this.setRegion(this.lookupTemplate()),this.renderRegions()):(t=t||{},n=t.to,this.setRegion(n,e))},renderRegions:function(){var e=this,t=this.lookupRegionTemplates();f.each(t,function(t,n){e.render(n,t)})},wait:function(e){var t=this;if(e)return f.isArray(e)?f.each(e,function(e){t.wait(e)}):this._waitList.wait(e.ready?function(){return e.ready()}:e),this},action:function(){this.render()},_stopController:function(t){var n=this;if(!this.isStopped){var i=function(){e.__super__._stopController.call(n,t)};this._computation?(this._computation.stop(),this._computation.onInvalidate(i)):i()}},_run:function(){var e=this,t=e.router._layout;if(e.isRunning)throw new Error("You called _run without first calling stop");e.isRunning=!0,e.isStopped=!1;var n=function(t,n){return function(){var i=e.stop;e.stop=function(){return"undefined"!=typeof console?void console.warn("You called this.stop() inside a hook or your action function but you should use pause() now instead which is the first parameter to the hook function."):void 0};try{return t.apply(n||this,arguments)}finally{e.stop=i}}};e._computation=h.autorun(n(function(r){h.autorun(n(function(t){!e.router._hasJustReloaded&&r.firstRun&&t.firstRun&&e.runHooks("onRun"),e.router._hasJustReloaded=!1})),h.autorun(function(){var t=e.lookupWaitOn(),n=f.flatten(f.map(t,function(t){return f.isFunction(t)?t.call(e):t}));i("waitOn"),e.wait(n)}),h.autorun(function(){e.router._layout.beginRendering(function(n){if(!e.isStopped){var i=t.regionKeys(),o=f.difference(i,n);f.each(o,function(e){t.clear(e)})}});var n=f.isFunction(e.action)?e.action:e[e.action];o.assert(n,"You don't have an action named \""+e.action+'" defined on your RouteController'),e.layout(e.lookupLayoutTemplate(),{data:e.lookupProperty("data")}),e.runHooks("onBeforeAction",[],function(t){e.isStopped||t||(n.call(e),e.isStopped||e.runHooks("onAfterAction"))})})}))}})}.call(this),function(){n.helpers={};var e=function(e){return e===window?{}:e},t=function(t,n){f.isObject(t)&&(n=t,t=n.route);var i=n.hash||{},o=i.params||f.omit(i,"hash","query"),r=i.hash,a=i.query;return f.isEmpty(i)&&(o=e(this)),{routeName:t,params:o,query:a,hash:r}};f.extend(n.helpers,{pathFor:function(e,i){var o=t.call(this,e,i);return n.path(o.routeName,o.params,{query:o.query,hash:o.hash})},urlFor:function(e,i){var o=t.call(this,e,i);return n.url(o.routeName,o.params,{query:o.query,hash:o.hash})}}),f.each(n.helpers,function(e,t){m.registerHelper(t,e)})}.call(this),function(){if(Package["cmather:iron-router"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:router"]={RouteController:e,Route:t,Router:n,IronLocation:i,Utils:o,IronRouter:r,WaitList:a}}(),function(){Package.meteor.Meteor;(function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css",e.appendChild(t)}).call(this),"undefined"==typeof Package&&(Package={}),Package["natestrauser:font-awesome"]={}}(),function(){var Meteor=Package.meteor.Meteor,$=Package.jquery.$,jQuery=Package.jquery.jQuery;(function(){!function(e,t){function n(t,n){var o,r,a,s=t.nodeName.toLowerCase();return"area"===s?(o=t.parentNode,r=o.name,t.href&&r&&"map"===o.nodeName.toLowerCase()?(a=e("img[usemap=#"+r+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var o=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var i=this;setTimeout(function(){e(i).focus(),n&&n.call(i)
},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,o,r=e(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(o=parseInt(r.css("zIndex"),10),!isNaN(o)&&0!==o))return o;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),o=isNaN(i);return(o||i>=0)&&n(t,!o)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function o(t,n,i,o){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,o(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,o(this,t,!0,n)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var o,r=e.ui[t].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(e,t,n){var i,o=e.plugins[t];if(o&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return t[i]>0?!0:(t[i]=1,o=t[i]>0,t[i]=0,o)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,i,o,r,a){return e.ui.isOverAxis(t,i,r)&&e.ui.isOverAxis(n,o,a)}}))}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(r){}o(t)},e.widget=function(t,n,i){var o,r,a,s,l=t.split(".")[0];t=t.split(".")[1],o=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[l]=e[l]||{},r=e[l][t],a=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,o){e.isFunction(o)&&(i[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,r=this._superApply;return this._super=e,this._superApply=i,t=o.apply(this,arguments),this._super=n,this._superApply=r,t}}())}),a.prototype=e.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix:t},i,{constructor:a,namespace:l,widgetName:t,widgetBaseClass:o,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete r._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var o,r,a=i.call(arguments,1),s=0,l=a.length;l>s;s++)for(o in a[s])r=a[s][o],a[s].hasOwnProperty(o)&&r!==t&&(n[o]=e.isPlainObject(r)?e.isPlainObject(n[o])?e.widget.extend({},n[o],r):e.widget.extend({},r):r);return n},e.widget.bridge=function(n,o){var r=o.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,this.each(s?function(){var i,o=e.data(this,r);return o?e.isFunction(o[a])&&"_"!==a.charAt(0)?(i=o[a].apply(o,l),i!==o&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}:function(){var t=e.data(this,r);t?t.option(a||{})._init():e.data(this,r,new o(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var o,r,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},o=n.split("."),n=o.shift(),o.length){for(r=s[n]=e.widget.extend({},this.options[n]),a=0;a<o.length-1;a++)r[o[a]]=r[o[a]]||{},r=r[o[a]];if(n=o.pop(),i===t)return r[n]===t?null:r[n];r[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var o,r=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=o=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),e.each(i,function(i,a){function s(){return t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,s):n.bind(c,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var o,r,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?o===!0||"number"==typeof o?n:o.effect||n:t;o=o||{},"number"==typeof o&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&e.effects&&(e.effects.effect[s]||e.uiBackCompat!==!1&&e.effects[s])?i[t](o):s!==t&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){e(this)[t](),r&&r.call(i[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,r="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return o&&!r&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){function n(e,t,n){return[parseInt(e[0],10)*(h.test(e[0])?t/100:1),parseInt(e[1],10)*(h.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var o,r=Math.max,a=Math.abs,s=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+%?/,d=/^\w+/,h=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var n,i,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return e("body").append(r),n=a.offsetWidth,r.css("overflow","scroll"),i=a.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),o=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,r="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var o,h,p,g,m,v=e(t.of),_=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(_),b=v[0],w=(t.collision||"flip").split(" "),k={};return 9===b.nodeType?(h=v.width(),p=v.height(),g={top:0,left:0}):e.isWindow(b)?(h=v.width(),p=v.height(),g={top:v.scrollTop(),left:v.scrollLeft()}):b.preventDefault?(t.at="left top",h=p=0,g={top:b.pageY,left:b.pageX}):(h=v.outerWidth(),p=v.outerHeight(),g=v.offset()),m=e.extend({},g),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",e=u.exec(i[0]),n=u.exec(i[1]),k[this]=[e?e[0]:0,n?n[0]:0],t[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?m.left+=h:"center"===t.at[0]&&(m.left+=h/2),"bottom"===t.at[1]?m.top+=p:"center"===t.at[1]&&(m.top+=p/2),o=n(k.at,h,p),m.left+=o[0],m.top+=o[1],this.each(function(){var l,c,u=e(this),d=u.outerWidth(),f=u.outerHeight(),b=i(this,"marginLeft"),T=i(this,"marginTop"),x=d+b+i(this,"marginRight")+y.width,S=f+T+i(this,"marginBottom")+y.height,C=e.extend({},m),E=n(k.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?C.left-=d:"center"===t.my[0]&&(C.left-=d/2),"bottom"===t.my[1]?C.top-=f:"center"===t.my[1]&&(C.top-=f/2),C.left+=E[0],C.top+=E[1],e.support.offsetFractions||(C.left=s(C.left),C.top=s(C.top)),l={marginLeft:b,marginTop:T},e.each(["left","top"],function(n,i){e.ui.position[w[n]]&&e.ui.position[w[n]][i](C,{targetWidth:h,targetHeight:p,elemWidth:d,elemHeight:f,collisionPosition:l,collisionWidth:x,collisionHeight:S,offset:[o[0]+E[0],o[1]+E[1]],my:t.my,at:t.at,within:_,elem:u})}),e.fn.bgiframe&&u.bgiframe(),t.using&&(c=function(e){var n=g.left-C.left,i=n+h-d,o=g.top-C.top,s=o+p-f,l={target:{element:v,left:g.left,top:g.top,width:h,height:p},element:{element:u,left:C.left,top:C.top,width:d,height:f},horizontal:0>i?"left":n>0?"right":"center",vertical:0>s?"top":o>0?"bottom":"middle"};d>h&&a(n+i)<h&&(l.horizontal="center"),f>p&&a(o+s)<p&&(l.vertical="middle"),l.important=r(a(n),a(i))>r(a(o),a(s))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(C,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=e.left-t.collisionPosition.marginLeft,l=o-s,c=s+t.collisionWidth-a-o;t.collisionWidth>a?l>0&&0>=c?(n=e.left+l+t.collisionWidth-a-o,e.left+=l-n):e.left=c>0&&0>=l?o:l>c?o+a-t.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-s,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=o-s,c=s+t.collisionHeight-a-o;t.collisionHeight>a?l>0&&0>=c?(n=e.top+l+t.collisionHeight-a-o,e.top+=l-n):e.top=c>0&&0>=l?o:l>c?o+a-t.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,o=t.within,r=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>u?(n=e.left+h+f+p+t.collisionWidth-s-r,(0>n||n<a(u))&&(e.left+=h+f+p)):d>0&&(i=e.left-t.collisionPosition.marginLeft+h+f+p-l,(i>0||a(i)<d)&&(e.left+=h+f+p))},top:function(e,t){var n,i,o=t.within,r=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,h="top"===t.my[1],f=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];0>u?(i=e.top+f+p+g+t.collisionHeight-s-r,e.top+f+p+g>u&&(0>i||i<a(u))&&(e.top+=f+p+g)):d>0&&(n=e.top-t.collisionPosition.marginTop+f+p+g-l,e.top+f+p+g>d&&(n>0||a(n)<d)&&(e.top+=f+p+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,o,r,a=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in i)t.style[r]=i[r];t.appendChild(s),n=a||document.documentElement,n.insertBefore(t,n.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",o=e(s).offset().left,e.support.offsetFractions=o>10&&11>o,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&!function(e){var n=e.fn.position;e.fn.position=function(i){if(!i||!i.offset)return n.call(this,i);var o=i.offset.split(" "),r=i.at.split(" ");return 1===o.length&&(o[1]=o[0]),/^\d/.test(o[0])&&(o[0]="+"+o[0]),/^\d/.test(o[1])&&(o[1]="+"+o[1]),1===r.length&&(/left|center|right/.test(r[0])?r[1]="center":(r[1]=r[0],r[0]="center")),n.call(this,e.extend(i,{at:r[0]+o[0]+" "+r[1]+o[1],offset:t}))}}(jQuery)}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);for(var i=this.element[0],o=!1;i&&(i=i.parentNode);)i==document&&(o=!0);if(!o&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!n||"valid"==this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var r=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=this.options.handle&&e(this.options.handle,this.element).length?!1:!0;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"==n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"==n.appendTo?this.element[0].parentNode:n.appendTo),i[0]==this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var n=e(t.containment),i=n[0];if(!i)return;var o=(n.offset(),"hidden"!=e(i).css("overflow"));this.containment=[(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0),(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0),(o?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(o?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"==t?1:-1,o=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(t){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName),r=t.pageX,a=t.pageY;if(this.originalPosition){var s;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();s=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else s=this.containment;t.pageX-this.offset.click.left<s[0]&&(r=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(a=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(r=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(a=s[3]+this.offset.click.top)}if(n.grid){var c=n.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;a=s&&(c-this.offset.click.top<s[1]||c-this.offset.click.top>s[3])?c-this.offset.click.top<s[1]?c+n.grid[1]:c-n.grid[1]:c;var u=n.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;r=s&&(u-this.offset.click.left<s[0]||u-this.offset.click.left>s[2])?u-this.offset.click.left<s[0]?u+n.grid[0]:u-n.grid[0]:u}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var i=e(this).data("draggable"),o=i.options,r=e.extend({},n,{item:i.element});i.sortables=[],e(o.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,r))})},stop:function(t,n){var i=e(this).data("draggable"),o=e.extend({},n,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,o))})},drag:function(t,n){var i=e(this).data("draggable"),o=this;e.each(i.sortables,function(){var r=!1,a=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!=a&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(a.instance.element[0],this.instance.element[0])&&(r=!1),r})),r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(o).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)
})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),o=e(this).data("draggable").options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n){var i=e(this).data("draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("draggable"),i=n.options,o=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(i.axis&&"x"==i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"==i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"==i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"==i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!=String?n.snap.items||":data(draggable)":n.snap).each(function(){var n=e(this),i=n.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(t,n){for(var i=e(this).data("draggable"),o=i.options,r=o.snapTolerance,a=n.offset.left,s=a+i.helperProportions.width,l=n.offset.top,c=l+i.helperProportions.height,u=i.snapElements.length-1;u>=0;u--){var d=i.snapElements[u].left,h=d+i.snapElements[u].width,f=i.snapElements[u].top,p=f+i.snapElements[u].height;if(a>d-r&&h+r>a&&l>f-r&&p+r>l||a>d-r&&h+r>a&&c>f-r&&p+r>c||s>d-r&&h+r>s&&l>f-r&&p+r>l||s>d-r&&h+r>s&&c>f-r&&p+r>c){if("inner"!=o.snapMode){var g=Math.abs(f-c)<=r,m=Math.abs(p-l)<=r,v=Math.abs(d-s)<=r,_=Math.abs(h-a)<=r;g&&(n.position.top=i._convertPositionTo("relative",{top:f-i.helperProportions.height,left:0}).top-i.margins.top),m&&(n.position.top=i._convertPositionTo("relative",{top:p,left:0}).top-i.margins.top),v&&(n.position.left=i._convertPositionTo("relative",{top:0,left:d-i.helperProportions.width}).left-i.margins.left),_&&(n.position.left=i._convertPositionTo("relative",{top:0,left:h}).left-i.margins.left)}var y=g||m||v||_;if("outer"!=o.snapMode){var g=Math.abs(f-l)<=r,m=Math.abs(p-c)<=r,v=Math.abs(d-a)<=r,_=Math.abs(h-s)<=r;g&&(n.position.top=i._convertPositionTo("relative",{top:f,left:0}).top-i.margins.top),m&&(n.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top-i.margins.top),v&&(n.position.left=i._convertPositionTo("relative",{top:0,left:d}).left-i.margins.left),_&&(n.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left-i.margins.left)}!i.snapElements[u].snapping&&(g||m||v||_||y)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=g||m||v||_||y}else i.snapElements[u].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options,n=e.makeArray(e(t.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(n.length){var i=parseInt(n[0].style.zIndex)||0;e(n).each(function(e){this.style.zIndex=i+e}),this[0].style.zIndex=i+n.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var i=e(n.helper),o=e(this).data("draggable").options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n){var i=e(this).data("draggable").options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})}(jQuery),function(e){e.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,n=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],n=0;n<t.length;n++)t[n]==this&&t.splice(n,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"==t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]==this.element[0])return!1;var o=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope==i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(t,n,i){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left,r=o+t.helperProportions.width,a=(t.positionAbs||t.position.absolute).top,s=a+t.helperProportions.height,l=n.offset.left,c=l+n.proportions.width,u=n.offset.top,d=u+n.proportions.height;switch(i){case"fit":return o>=l&&c>=r&&a>=u&&d>=s;case"intersect":return l<o+t.helperProportions.width/2&&r-t.helperProportions.width/2<c&&u<a+t.helperProportions.height/2&&s-t.helperProportions.height/2<d;case"pointer":var h=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,f=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,p=e.ui.isOver(f,h,u,l,n.proportions.height,n.proportions.width);return p;case"touch":return(a>=u&&d>=a||s>=u&&d>=s||u>a&&s>d)&&(o>=l&&c>=o||r>=l&&c>=r||l>o&&r>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var i=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,r=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var a=0;a<i.length;a++)if(!(i[a].options.disabled||t&&!i[a].accept.call(i[a].element[0],t.currentItem||t.element))){for(var s=0;s<r.length;s++)if(r[s]==i[a].element[0]){i[a].proportions.height=0;continue e}i[a].visible="none"!=i[a].element.css("display"),i[a].visible&&("mousedown"==o&&i[a]._activate.call(i[a],n),i[a].offset=i[a].element.offset(),i[a].proportions={width:i[a].element[0].offsetWidth,height:i[a].element[0].offsetHeight})}},drop:function(t,n){var i=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i=e.ui.intersect(t,this,this.options.tolerance),o=i||1!=this.isover?i&&0==this.isover?"isover":null:"isout";if(o){var r;if(this.options.greedy){var a=this.options.scope,s=this.element.parents(":data(droppable)").filter(function(){return e.data(this,"droppable").options.scope===a});s.length&&(r=e.data(s[0],"droppable"),r.greedyChild="isover"==o?1:0)}r&&"isover"==o&&(r.isover=0,r.isout=1,r._out.call(r,n)),this[o]=1,this["isout"==o?"isover":"isout"]=0,this["isover"==o?"_over":"_out"].call(this,n),r&&"isout"==o&&(r.isout=0,r.isover=1,r._over.call(r,n))}}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var i=this.handles.split(",");this.handles={};for(var o=0;o<i.length;o++){var r=e.trim(i[o]),a="ui-resizable-"+r,s=e('<div class="ui-resizable-handle '+a+'"></div>');s.css({zIndex:n.zIndex}),"se"==r&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(s)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){if(this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var i=e(this.handles[n],this.element),o=0;o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth();var r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(r,o),this._proportionallyResize()}e(this.handles[n]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){n.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())}).mouseleave(function(){n.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")}).insertAfter(n),n.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var i in this.handles)e(this.handles[i])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(n){var i=this.options,o=this.element.position(),r=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(r.is(".ui-draggable")||/absolute/.test(r.css("position")))&&r.css({position:"absolute",top:o.top,left:o.left}),this._renderProxy();var a=t(this.helper.css("left")),s=t(this.helper.css("top"));i.containment&&(a+=e(i.containment).scrollLeft()||0,s+=e(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:a,top:s},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:a,top:s},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==l?this.axis+"-resize":l),r.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(e){var t=this.helper,n=(this.options,this.originalMousePosition),i=this.axis,o=e.pageX-n.left||0,r=e.pageY-n.top||0,a=this._change[i];if(!a)return!1;var s=a.apply(this,[e,o,r]);return this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(s=this._updateRatio(s,e)),s=this._respectSize(s,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(s),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,i=this;if(this._helper){var o=this._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),a=r&&e.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,s=r?0:i.sizeDiff.width,l={width:i.helper.width()-s,height:i.helper.height()-a},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;n.animate||this.element.css(e.extend(l,{top:u,left:c})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,o,r,a,s=this.options;a={minWidth:n(s.minWidth)?s.minWidth:0,maxWidth:n(s.maxWidth)?s.maxWidth:1/0,minHeight:n(s.minHeight)?s.minHeight:0,maxHeight:n(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,o=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,r=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),o>a.minHeight&&(a.minHeight=o),i<a.maxWidth&&(a.maxWidth=i),r<a.maxHeight&&(a.maxHeight=r)),this._vBoundaries=a},_updateCache:function(e){this.options;this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=(this.options,this.position),i=this.size,o=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==o&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"==o&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e,t){var i=(this.helper,this._vBoundaries),o=(this._aspectRatio||t.shiftKey,this.axis),r=n(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=n(e.height)&&i.maxHeight&&i.maxHeight<e.height,s=n(e.width)&&i.minWidth&&i.minWidth>e.width,l=n(e.height)&&i.minHeight&&i.minHeight>e.height;s&&(e.width=i.minWidth),l&&(e.height=i.minHeight),r&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,d=/sw|nw|w/.test(o),h=/nw|ne|n/.test(o);s&&d&&(e.left=c-i.minWidth),r&&d&&(e.left=c-i.maxWidth),l&&h&&(e.top=u-i.minHeight),a&&h&&(e.top=u-i.maxHeight);var f=!e.width&&!e.height;return f&&!e.left&&e.top?e.top=null:f&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,n=0;n<this._proportionallyResizeElements.length;n++){var i=this._proportionallyResizeElements[n];if(!this.borderDif){var o=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],r=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(o,function(e,t){var n=parseInt(e,10)||0,i=parseInt(r[t],10)||0;return n+i})}i.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var i=e.ui.ie6?1:0,o=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+o,height:this.element.outerHeight()+o,position:"absolute",left:this.elementOffset.left-i+"px",top:this.elementOffset.top-i+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=(this.options,this.originalSize),i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=(this.options,this.originalSize),o=this.originalPosition;return{top:o.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!=t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("resizable"),n=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):e.each(n.alsoResize,function(e){i(e)})},resize:function(t,n){var i=e(this).data("resizable"),o=i.options,r=i.originalSize,a=i.originalPosition,s={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0},l=function(t,i){e(t).each(function(){var t=e(this),o=e(this).data("resizable-alsoresize"),r={},a=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var n=(o[t]||0)+(s[t]||0);n&&n>=0&&(r[t]=n||null)}),t.css(r)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):e.each(o.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("resizable"),i=n.options,o=n._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),a=r&&e.ui.hasScroll(o[0],"left")?0:n.sizeDiff.height,s=r?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n=e(this).data("resizable"),i=n.options,o=n.element,r=i.containment,a=r instanceof e?r.get(0):/parent/.test(r)?o.parent().get(0):r;if(a)if(n.containerElement=e(a),/document/.test(r)||r==document)n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var s=e(a),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,n){l[e]=t(s.css("padding"+n))}),n.containerOffset=s.offset(),n.containerPosition=s.position(),n.containerSize={height:s.innerHeight()-l[3],width:s.innerWidth()-l[1]};var c=n.containerOffset,u=n.containerSize.height,d=n.containerSize.width,h=e.ui.hasScroll(a,"left")?a.scrollWidth:d,f=e.ui.hasScroll(a)?a.scrollHeight:u;n.parentData={element:a,left:c.left,top:c.top,width:h,height:f}}},resize:function(t){var n=e(this).data("resizable"),i=n.options,o=(n.containerSize,n.containerOffset),r=(n.size,n.position),a=n._aspectRatio||t.shiftKey,s={top:0,left:0},l=n.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(s=o),r.left<(n._helper?o.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-o.left:n.position.left-s.left),a&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=i.helper?o.left:0),r.top<(n._helper?o.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-o.top:n.position.top),a&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?o.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top;var c=Math.abs((n._helper?n.offset.left-s.left:n.offset.left-s.left)+n.sizeDiff.width),u=Math.abs((n._helper?n.offset.top-s.top:n.offset.top-o.top)+n.sizeDiff.height),d=n.containerElement.get(0)==n.element.parent().get(0),h=/relative|absolute/.test(n.containerElement.css("position"));d&&h&&(c-=n.parentData.left),c+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-c,a&&(n.size.height=n.size.width/n.aspectRatio)),u+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-u,a&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(){var t=e(this).data("resizable"),n=t.options,i=(t.position,t.containerOffset),o=t.containerPosition,r=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(r.css("position"))&&e(this).css({left:s.left-o.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(r.css("position"))&&e(this).css({left:s.left-o.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("resizable"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){{var t=e(this).data("resizable");t.options}t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){{var t=e(this).data("resizable");t.options}t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t){{var n=e(this).data("resizable"),i=n.options,o=n.size,r=n.originalSize,a=n.originalPosition,s=n.axis;i._aspectRatio||t.shiftKey}i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;var l=Math.round((o.width-r.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((o.height-r.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(s)?(n.size.width=r.width+l,n.size.height=r.height+c):/^(ne)$/.test(s)?(n.size.width=r.width+l,n.size.height=r.height+c,n.position.top=a.top-c):/^(sw)$/.test(s)?(n.size.width=r.width+l,n.size.height=r.height+c,n.position.left=a.left-l):(n.size.width=r.width+l,n.size.height=r.height+c,n.position.top=a.top-c,n.position.left=a.left-l)}});var t=function(e){return parseInt(e,10)||0},n=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var n;this.refresh=function(){n=e(t.options.filter,t.element[0]),n.addClass("ui-selectee"),n.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=n.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var i=this.options;this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().andSelf().each(function(){var i=e.data(this,"selectable-item");if(i){var o=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected");return i.$element.removeClass(o?"ui-unselecting":"ui-selected").addClass(o?"ui-selecting":"ui-unselecting"),i.unselecting=!o,i.selecting=o,i.selected=o,o?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1}})}},_mouseDrag:function(t){var n=this;if(this.dragged=!0,!this.options.disabled){var i=this.options,o=this.opos[0],r=this.opos[1],a=t.pageX,s=t.pageY;if(o>a){var l=a;a=o,o=l}if(r>s){var l=s;s=r,r=l}return this.helper.css({left:o,top:r,width:a-o,height:s-r}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=n.element[0]){var c=!1;"touch"==i.tolerance?c=!(l.left>a||l.right<o||l.top>s||l.bottom<r):"fit"==i.tolerance&&(c=l.left>o&&l.right<a&&l.top>r&&l.bottom<s),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,n._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&((t.metaKey||t.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),n._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&(t.metaKey||t.ctrlKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,n._trigger("unselecting",t,{unselecting:l.element}))))}}),!1}},_mouseStop:function(t){var n=this;this.dragged=!1;this.options;return e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;
this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);{var o=null;e(t.target).parents().each(function(){return e.data(this,i.widgetName+"-item")==i?(o=e(this),!1):void 0})}if(e.data(t.target,i.widgetName+"-item")==i&&(o=e(t.target)),!o)return!1;if(this.options.handle&&!n){var r=!1;if(e(this.options.handle,o).find("*").andSelf().each(function(){this==t.target&&(r=!0)}),!r)return!1}return this.currentItem=o,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,i){var o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",o.cursor)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(var r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,i=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),i!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var o=this.items.length-1;o>=0;o--){var r=this.items[o],a=r.item[0],s=this._intersectsWithPointer(r);if(s&&r.instance===this.currentContainer&&a!=this.currentItem[0]&&this.placeholder[1==s?"next":"prev"]()[0]!=a&&!e.contains(this.placeholder[0],a)&&("semi-dynamic"==this.options.type?!e.contains(this.element[0],a):!0)){if(this.direction=1==s?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,o=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=e.left,a=r+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d=i+c>s&&l>i+c&&t+u>r&&a>t+u;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:r<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=n&&i,r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return o?this.floating?a&&"right"==a||"down"==r?2:1:r&&("down"==r?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"==r&&i||"left"==r&&!i:o&&("down"==o&&n||"up"==o&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],i=[],o=this._connectWith();if(o&&t)for(var r=o.length-1;r>=0;r--)for(var a=e(o[r]),s=a.length-1;s>=0;s--){var l=e.data(a[s],this.widgetName);l&&l!=this&&!l.options.disabled&&i.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}i.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var r=i.length-1;r>=0;r--)i[r][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,i=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],o=this._connectWith();if(o&&this.ready)for(var r=o.length-1;r>=0;r--)for(var a=e(o[r]),s=a.length-1;s>=0;s--){var l=e.data(a[s],this.widgetName);l&&l!=this&&!l.options.disabled&&(i.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var r=i.length-1;r>=0;r--)for(var c=i[r][1],u=i[r][0],s=0,d=u.length;d>s;s++){var h=e(u[s]);h.data(this.widgetName+"-item",c),n.push({item:h,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var i=this.items[n];if(i.instance==this.currentContainer||!this.currentContainer||i.item[0]==this.currentItem[0]){var o=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item;t||(i.width=o.outerWidth(),i.height=o.outerHeight());var r=o.offset();i.left=r.left,i.top=r.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var r=this.containers[n].element.offset();this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n=t.options;if(!n.placeholder||n.placeholder.constructor==String){var i=n.placeholder;n.placeholder={element:function(){var n=e(document.createElement(t.currentItem[0].nodeName)).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return i||(n.style.visibility="hidden"),n},update:function(e,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var n=null,i=null,o=this.containers.length-1;o>=0;o--)if(!e.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(n&&e.contains(this.containers[o].element[0],n.element[0]))continue;n=this.containers[o],i=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",t,this._uiHash(this)),this.containers[o].containerCache.over=0);if(n)if(1===this.containers.length)this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1;else{for(var r=1e4,a=null,s=this.containers[i].floating?"left":"top",l=this.containers[i].floating?"width":"height",c=this.positionAbs[s]+this.offset.click[s],u=this.items.length-1;u>=0;u--)if(e.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!=this.currentItem[0]){var d=this.items[u].item.offset()[s],h=!1;Math.abs(d-c)>Math.abs(d+this.items[u][l]-c)&&(h=!0,d+=this.items[u][l]),Math.abs(d-c)<r&&(r=Math.abs(d-c),a=this.items[u],this.direction=h?"up":"down")}if(!a&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[i],a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[i].element,!0),this._trigger("change",t,this._uiHash()),this.containers[i]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(""==i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],i=e(t.containment).offset(),o="hidden"!=e(n).css("overflow");this.containment=[i.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,i.left+(o?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(o?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"==t?1:-1,o=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(t){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var r=t.pageX,a=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid)){var s=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1];a=this.containment&&(s-this.offset.click.top<this.containment[1]||s-this.offset.click.top>this.containment[3])?s-this.offset.click.top<this.containment[1]?s+n.grid[1]:s-n.grid[1]:s;var l=this.originalPageX+Math.round((r-this.originalPageX)/n.grid[0])*n.grid[0];r=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+n.grid[0]:l-n.grid[0]:l}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o==this.counter&&this.refreshPositions(!i)})},_clear:function(t,n){this.reverting=!1;var i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var o in this._storedCSS)("auto"==this._storedCSS[o]||"static"==this._storedCSS[o])&&(this._storedCSS[o]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||n||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var o=this.containers.length-1;o>=0;o--)n||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[o])),this.containers[o].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[o])),this.containers[o].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var o=0;o<i.length;o++)i[o].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(var o=0;o<i.length;o++)i[o].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e){var t=0,n={},i={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var n=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t),i=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),i.collapsible||i.active!==!1&&null!=i.active||(i.active=0),i.active<0&&(i.active+=this.headers.length),this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(t){var i=e(this),o=i.attr("id"),r=i.next(),a=r.attr("id");o||(o=n+"-header-"+t,i.attr("id",o)),a||(a=n+"-panel-"+t,r.attr("id",a)),i.attr("aria-controls",a),r.attr("aria-labelledby",o)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(i.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,o=this.headers.index(t.target),r=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:r=this.headers[(o+1)%i];break;case n.LEFT:case n.UP:r=this.headers[(o-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:r=this.headers[0];break;case n.END:r=this.headers[i-1]}r&&(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t,n,i=this.options.heightStyle,o=this.element.parent();"fill"===i?(e.support.minHeight||(n=o.css("overflow"),o.css("overflow","hidden")),t=o.height(),this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))}),n&&o.css("overflow",n),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={};t&&(e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._on(this.headers,n))},_eventHandler:function(t){var n=this.options,i=this.active,o=e(t.currentTarget),r=o[0]===i[0],a=r&&n.collapsible,s=a?e():o.next(),l=i.next(),c={oldHeader:i,oldPanel:l,newHeader:a?e():o,newPanel:s};t.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",t,c)===!1||(n.active=a?!1:this.headers.index(o),this.active=r?e():o,this._toggle(c),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),r||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&o.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-expanded":"false","aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr("tabIndex",-1):n.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,o){var r,a,s,l=this,c=0,u=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},h=u&&d.down||d,f=function(){l._toggleComplete(o)};return"number"==typeof h&&(s=h),"string"==typeof h&&(a=h),a=a||h.easing||d.easing,s=s||h.duration||d.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(n,{duration:s,easing:a,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(i,{duration:s,easing:a,complete:f,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?c+=n.now:"content"!==l.options.heightStyle&&(n.now=Math.round(r-t.outerHeight()-c),c=0)}})):t.animate(n,s,a,f):e.animate(i,s,a,f)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.uiBackCompat!==!1&&(!function(e,t){e.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var n=t._create;t._create=function(){if(this.options.navigation){var t=this,i=this.element.find(this.options.header),o=i.next(),r=i.add(o).find("a").filter(this.options.navigationFilter)[0];r&&i.add(o).each(function(n){return e.contains(this,r)?(t.options.active=Math.floor(n/2),!1):void 0})}n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var n=t._create,i=t._setOption;e.extend(t,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),n.call(this)},_setOption:function(e){("autoHeight"===e||"clearStyle"===e||"fillSpace"===e)&&(this.options.heightStyle=this._mergeHeightStyle()),i.apply(this,arguments)},_mergeHeightStyle:function(){var e=this.options;return e.fillSpace?"fill":e.clearStyle?"content":e.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var n=t._createIcons;t._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){t.activate=t._activate;var n=t._findActive;t._findActive=function(e){return-1===e&&(e=!1),e&&"number"!=typeof e&&(e=this.headers.index(this.headers.filter(e)),-1===e&&(e=!1)),n.call(this,e)
}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(e,t){e.extend(t.options,{change:null,changestart:null});var n=t._trigger;t._trigger=function(e,t,i){var o=n.apply(this,arguments);return o?("beforeActivate"===e?o=n.call(this,"changestart",t,{oldHeader:i.oldHeader,oldContent:i.oldPanel,newHeader:i.newHeader,newContent:i.newPanel}):"activate"===e&&(o=n.call(this,"change",t,{oldHeader:i.oldHeader,oldContent:i.oldPanel,newHeader:i.newHeader,newContent:i.newPanel})),o):!1}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{animate:null,animated:"slide"});var n=t._create;t._create=function(){var e=this.options;null===e.animate&&(e.animate=e.animated?"slide"===e.animated?300:"bounceslide"===e.animated?{duration:200,down:{easing:"easeOutBounce",duration:1e3}}:e.animated:!1),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,i;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var r=e.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case r.UP:t=!0,this._keyEvent("previous",o);break;case r.DOWN:t=!0,this._keyEvent("next",o);break;case r.ENTER:case r.NUMPAD_ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(i){if(t)return t=!1,void i.preventDefault();if(!n){var o=e.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var i=n.item.data("ui-autocomplete-item")||n.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,o){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,n=++t;return function(i){n===t&&e.__response(i),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t,n,i,o,r="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var n=t.name,i=t.form,o=e([]);return n&&(o=i?e(i).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),o};e.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,s=this.options,u="checkbox"===this.type||"radio"===this.type,d=u?"":"ui-state-active",h="ui-state-focus";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(r).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(h)}),u&&(this.element.bind("change"+this.eventNamespace,function(){o||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){s.disabled||(o=!1,n=e.pageX,i=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){s.disabled||(n!==e.pageX||i!==e.pageY)&&(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return s.disabled||o?!1:(e(this).toggleClass("ui-state-active"),void a.buttonElement.attr("aria-pressed",a.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||o)return!1;e(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var t=a.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return s.disabled?!1:(e(this).addClass("ui-state-active"),t=this,void a.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){return s.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return s.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(r+" "+a+" "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?void(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(s),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,o=i.primary&&i.secondary,r=[];i.primary||i.secondary?(this.options.text&&r.push("ui-button-text-icon"+(o?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(r.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}}),e.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var n in t)(null==t[n]||t[n]==undefined)&&(e[n]=t[n]);return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,i){t.settings[n]=i}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n=this._get(t,"appendText"),i=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[i?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var o=this._get(t,"showOn");if(("focus"==o||"both"==o)&&e.focus(this._showDatepicker),"button"==o||"both"==o){var r=this._get(t,"buttonText"),a=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:a,alt:r,title:r}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==a?r:$("<img/>").attr({src:a,alt:r,title:r}))),e[i?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++)e[i].length>t&&(t=e[i].length,n=i);return n};t.setMonth(i(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(i(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,i){t.settings[n]=i}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,i,o){var r=this._dialogInst;if(!r){this.uuid+=1;var a="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+a+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),r=this._dialogInst=this._newInst(this._dialogInput,!1),r.settings={},$.data(this._dialogInput[0],PROP_NAME,r)}if(extendRemove(r.settings,i||{}),t=t&&t.constructor==Date?this._formatDate(r,t):t,this._dialogInput.val(t),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,!this._pos){var s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[s/2-100+c,l/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),r.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,r),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==i?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==i||"span"==i)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==i||"span"==i){var o=t.children("."+this._inlineClass);o.children().removeClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==i||"span"==i){var o=t.children("."+this._inlineClass);o.children().addClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):i?"all"==t?$.extend({},i.settings):this._get(i,t):null;var o=t||{};if("string"==typeof t&&(o={},o[t]=n),i){this._curInst==i&&this._hideDatepicker();var r=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(i,"min"),s=this._getMinMaxDate(i,"max");extendRemove(i.settings,o),null!==a&&o.dateFormat!==undefined&&o.minDate===undefined&&(i.settings.minDate=this._formatDate(i,a)),null!==s&&o.dateFormat!==undefined&&o.maxDate===undefined&&(i.settings.maxDate=this._formatDate(i,s)),this._attachments($(e),i),this._autoSize(i),this._setDate(i,r),this._updateAlternate(i),this._updateDatepicker(i)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,i=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var o=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);o[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,o[0]);var r=$.datepicker._get(t,"onSelect");if(r){var a=$.datepicker._formatDate(t);r.apply(t.input?t.input[0]:null,[a,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,i?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,i?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),i=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var n=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));n&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(i){$.datepicker.log(i)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),i=n?n.apply(e,[e,t]):{};if(i!==!1){extendRemove(t.settings,i),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var o=!1;$(e).parents().each(function(){return o|="fixed"==$(this).css("position"),!o});var r={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),r=$.datepicker._checkOffset(t,r,o),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":o?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),!t.inline){var a=$.datepicker._get(t,"showAnim"),s=$.datepicker._get(t,"duration"),l=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[a]||$.effects[a])?t.dpDiv.show(a,$.datepicker._get(t,"showOptions"),s,l):t.dpDiv[a||"show"](a?s:null,l),a&&s||l(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n=e.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i=this._getNumberOfMonths(e),o=i[1],r=17;if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",r*o+"em"),e.dpDiv[(1!=i[0]||1!=i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var a=e.yearshtml;setTimeout(function(){a===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),a=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:$(document).scrollTop());
return t.left-=this._get(e,"isRTL")?i-r:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+a?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>s&&s>i?Math.abs(t.left+i-s):0),t.top-=Math.min(t.top,t.top+o>l&&l>o?Math.abs(o+a):0),t},_findPos:function(e){for(var t=this._getInst(e),n=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];var i=$(e).offset();return[i.left,i.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var n=this._get(t,"showAnim"),i=this._get(t,"duration"),o=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[n]||$.effects[n])?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),i,o):t.dpDiv["slideDown"==n?"slideUp":"fadeIn"==n?"fadeOut":"hide"](n?i:null,o),n||o(),this._datepickerShowing=!1;var r=this._get(t,"onClose");r&&r.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,n){var i=$(e),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,t+("M"==n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var i=new Date;n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var i=$(e),o=this._getInst(i[0]);o["selected"+("M"==n?"Month":"Year")]=o["draw"+("M"==n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(e,t,n,i){var o=$(e);if(!$(i).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(o[0])){var r=this._getInst(o[0]);r.selectedDay=r.currentDay=$("a",i).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear))}},_clearDate:function(e){{var t=$(e);this._getInst(t[0])}this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),i=this._getInst(n[0]);t=null!=t?t:this._formatDate(i),i.input&&i.input.val(t),this._updateAlternate(i);var o=this._get(i,"onSelect");o?o.apply(i.input?i.input[0]:null,[t,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=typeof i.input[0]&&i.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),o=this.formatDate(n,i,this._getFormatConfig(e));$(t).each(function(){$(this).val(o)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1},parseDate:function(e,t,n){if(null==e||null==t)throw"Invalid arguments";if(t="object"==typeof t?t.toString():t+"",""==t)return null;var i=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;i="string"!=typeof i?i:(new Date).getFullYear()%100+parseInt(i,10);for(var o=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,r=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,u=-1,d=-1,h=!1,f=function(t){var n=_+1<e.length&&e.charAt(_+1)==t;return n&&_++,n},p=function(e){var n=f(e),i="@"==e?14:"!"==e?20:"y"==e&&n?4:"o"==e?3:2,o=new RegExp("^\\d{1,"+i+"}"),r=t.substring(v).match(o);if(!r)throw"Missing number at position "+v;return v+=r[0].length,parseInt(r[0],10)},g=function(e,n,i){var o=$.map(f(e)?i:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),r=-1;if($.each(o,function(e,n){var i=n[1];return t.substr(v,i.length).toLowerCase()==i.toLowerCase()?(r=n[0],v+=i.length,!1):void 0}),-1!=r)return r+1;throw"Unknown name at position "+v},m=function(){if(t.charAt(v)!=e.charAt(_))throw"Unexpected literal at position "+v;v++},v=0,_=0;_<e.length;_++)if(h)"'"!=e.charAt(_)||f("'")?m():h=!1;else switch(e.charAt(_)){case"d":u=p("d");break;case"D":g("D",o,r);break;case"o":d=p("o");break;case"m":c=p("m");break;case"M":c=g("M",a,s);break;case"y":l=p("y");break;case"@":var y=new Date(p("@"));l=y.getFullYear(),c=y.getMonth()+1,u=y.getDate();break;case"!":var y=new Date((p("!")-this._ticksTo1970)/1e4);l=y.getFullYear(),c=y.getMonth()+1,u=y.getDate();break;case"'":f("'")?m():h=!0;break;default:m()}if(v<t.length){var b=t.substr(v);if(!/^\s+/.test(b))throw"Extra/unparsed characters found in date: "+b}if(-1==l?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i>=l?0:-100)),d>-1)for(c=1,u=d;;){var w=this._getDaysInMonth(l,c-1);if(w>=u)break;c++,u-=w}var y=this._daylightSavingAdjust(new Date(l,c-1,u));if(y.getFullYear()!=l||y.getMonth()+1!=c||y.getDate()!=u)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,r=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,s=function(t){var n=h+1<e.length&&e.charAt(h+1)==t;return n&&h++,n},l=function(e,t,n){var i=""+t;if(s(e))for(;i.length<n;)i="0"+i;return i},c=function(e,t,n,i){return s(e)?i[t]:n[t]},u="",d=!1;if(t)for(var h=0;h<e.length;h++)if(d)"'"!=e.charAt(h)||s("'")?u+=e.charAt(h):d=!1;else switch(e.charAt(h)){case"d":u+=l("d",t.getDate(),2);break;case"D":u+=c("D",t.getDay(),i,o);break;case"o":u+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",t.getMonth()+1,2);break;case"M":u+=c("M",t.getMonth(),r,a);break;case"y":u+=s("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":s("'")?u+="'":d=!0;break;default:u+=e.charAt(h)}return u},_possibleChars:function(e){for(var t="",n=!1,i=function(t){var n=o+1<e.length&&e.charAt(o+1)==t;return n&&o++,n},o=0;o<e.length;o++)if(n)"'"!=e.charAt(o)||i("'")?t+=e.charAt(o):n=!1;else switch(e.charAt(o)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":i("'")?t+="'":n=!0;break;default:t+=e.charAt(o)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var n,i,o=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null;n=i=this._getDefaultDate(e);var a=this._getFormatConfig(e);try{n=this.parseDate(o,r,a)||i}catch(s){this.log(s),r=t?"":r}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=r?n.getDate():0,e.currentMonth=r?n.getMonth():0,e.currentYear=r?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}for(var i=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,o=i.getFullYear(),r=i.getMonth(),a=i.getDate(),s=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(t);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(o,r));break;case"y":case"Y":o+=parseInt(l[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(o,r))}l=s.exec(t)}return new Date(o,r,a)},r=null==t||""===t?n:"string"==typeof t?o(t):"number"==typeof t?isNaN(t)?n:i(t):new Date(t.getTime());return r=r&&"Invalid Date"==r.toString()?n:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,o=e.selectedMonth,r=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),o==e.selectedMonth&&r==e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),i=this._get(e,"showButtonPanel"),o=this._get(e,"hideIfNoPrevNext"),r=this._get(e,"navigationAsDateFormat"),a=this._getNumberOfMonths(e),s=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=a[0]||1!=a[1],u=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),f=e.drawMonth-s,p=e.drawYear;if(0>f&&(f+=12,p--),h){var g=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-a[0]*a[1]+1,h.getDate()));for(g=d&&d>g?d:g;this._daylightSavingAdjust(new Date(p,f,1))>g;)f--,0>f&&(f=11,p--)}e.drawMonth=f,e.drawYear=p;var m=this._get(e,"prevText");m=r?this.formatDate(m,this._daylightSavingAdjust(new Date(p,f-l,1)),this._getFormatConfig(e)):m;var v=this._canAdjustMonth(e,-1,p,f)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":o?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",_=this._get(e,"nextText");_=r?this.formatDate(_,this._daylightSavingAdjust(new Date(p,f+l,1)),this._getFormatConfig(e)):_;var y=this._canAdjustMonth(e,1,p,f)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+_+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+_+"</span></a>":o?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+_+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+_+"</span></a>",b=this._get(e,"currentText"),w=this._get(e,"gotoCurrent")&&e.currentDay?u:t;b=r?this.formatDate(b,w,this._getFormatConfig(e)):b;var k=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",T=i?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?k:"")+(this._isInRange(e,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+b+"</button>":"")+(n?"":k)+"</div>":"",x=parseInt(this._get(e,"firstDay"),10);x=isNaN(x)?0:x;for(var S=this._get(e,"showWeek"),C=this._get(e,"dayNames"),E=(this._get(e,"dayNamesShort"),this._get(e,"dayNamesMin")),P=this._get(e,"monthNames"),M=this._get(e,"monthNamesShort"),D=this._get(e,"beforeShowDay"),I=this._get(e,"showOtherMonths"),L=this._get(e,"selectOtherMonths"),A=(this._get(e,"calculateWeek")||this.iso8601Week,this._getDefaultDate(e)),H="",O=0;O<a[0];O++){var N="";this.maxRows=4;for(var R=0;R<a[1];R++){var j=this._daylightSavingAdjust(new Date(p,f,e.selectedDay)),B=" ui-corner-all",F="";if(c){if(F+='<div class="ui-datepicker-group',a[1]>1)switch(R){case 0:F+=" ui-datepicker-group-first",B=" ui-corner-"+(n?"right":"left");break;case a[1]-1:F+=" ui-datepicker-group-last",B=" ui-corner-"+(n?"left":"right");break;default:F+=" ui-datepicker-group-middle",B=""}F+='">'}F+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+B+'">'+(/all|left/.test(B)&&0==O?n?y:v:"")+(/all|right/.test(B)&&0==O?n?v:y:"")+this._generateMonthYearHeader(e,f,p,d,h,O>0||R>0,P,M)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var V=S?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",z=0;7>z;z++){var U=(z+x)%7;V+="<th"+((z+x+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+C[U]+'">'+E[U]+"</span></th>"}F+=V+"</tr></thead><tbody>";var W=this._getDaysInMonth(p,f);p==e.selectedYear&&f==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,W));var q=(this._getFirstDayOfMonth(p,f)-x+7)%7,Y=Math.ceil((q+W)/7),G=c&&this.maxRows>Y?this.maxRows:Y;this.maxRows=G;for(var X=this._daylightSavingAdjust(new Date(p,f,1-q)),Q=0;G>Q;Q++){F+="<tr>";for(var J=S?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(X)+"</td>":"",z=0;7>z;z++){var K=D?D.apply(e.input?e.input[0]:null,[X]):[!0,""],Z=X.getMonth()!=f,et=Z&&!L||!K[0]||d&&d>X||h&&X>h;J+='<td class="'+((z+x+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(X.getTime()==j.getTime()&&f==e.selectedMonth&&e._keyEvent||A.getTime()==X.getTime()&&A.getTime()==j.getTime()?" "+this._dayOverClass:"")+(et?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!I?"":" "+K[1]+(X.getTime()==u.getTime()?" "+this._currentClass:"")+(X.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!I||!K[2]?"":' title="'+K[2]+'"')+(et?"":' data-handler="selectDay" data-event="click" data-month="'+X.getMonth()+'" data-year="'+X.getFullYear()+'"')+">"+(Z&&!I?"&#xa0;":et?'<span class="ui-state-default">'+X.getDate()+"</span>":'<a class="ui-state-default'+(X.getTime()==t.getTime()?" ui-state-highlight":"")+(X.getTime()==u.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+X.getDate()+"</a>")+"</td>",X.setDate(X.getDate()+1),X=this._daylightSavingAdjust(X)}F+=J+"</tr>"}f++,f>11&&(f=0,p++),F+="</tbody></table>"+(c?"</div>"+(a[0]>0&&R==a[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),N+=F}H+=N}return H+=T+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,H},_generateMonthYearHeader:function(e,t,n,i,o,r,a,s){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),u=this._get(e,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',h="";if(r||!l)h+='<span class="ui-datepicker-month">'+a[t]+"</span>";else{var f=i&&i.getFullYear()==n,p=o&&o.getFullYear()==n;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;12>g;g++)(!f||g>=i.getMonth())&&(!p||g<=o.getMonth())&&(h+='<option value="'+g+'"'+(g==t?' selected="selected"':"")+">"+s[g]+"</option>");h+="</select>"}if(u||(d+=h+(!r&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!c)d+='<span class="ui-datepicker-year">'+n+"</span>";else{var m=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),_=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},y=_(m[0]),b=Math.max(y,_(m[1]||""));for(y=i?Math.max(y,i.getFullYear()):y,b=o?Math.min(b,o.getFullYear()):b,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';b>=y;y++)e.yearshtml+='<option value="'+y+'"'+(y==n?' selected="selected"':"")+">"+y+"</option>";e.yearshtml+="</select>",d+=e.yearshtml,e.yearshtml=null}return d+=this._get(e,"yearSuffix"),u&&(d+=(!r&&l&&c?"":"&#xa0;")+h),d+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"==n?t:0),o=e.drawMonth+("M"==n?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(i,o))+("D"==n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,o,r)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"==n||"Y"==n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),o=n&&n>t?n:t;return o=i&&o>i?i:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var o=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(n,i+(0>t?t:o[0]*o[1]),1));return 0>t&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!i||t.getTime()<=i.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(e,t){var n="ui-dialog ui-widget ui-widget-content ui-corner-all ",i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},o={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var t,i,o,r,a,s=this,l=this.options,c=l.title||"&#160;";t=(this.uiDialog=e("<div>")).addClass(n+l.dialogClass).css({display:"none",outline:0,zIndex:l.zIndex}).attr("tabIndex",-1).keydown(function(t){l.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE&&(s.close(t),t.preventDefault())}).mousedown(function(e){s.moveToTop(!1,e)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(t),i=(this.uiDialogTitlebar=e("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){t.focus()}).prependTo(t),o=e("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(e){e.preventDefault(),s.close(e)}).appendTo(i),(this.uiDialogTitlebarCloseText=e("<span>")).addClass("ui-icon ui-icon-closethick").text(l.closeText).appendTo(o),r=e("<span>").uniqueId().addClass("ui-dialog-title").html(c).prependTo(i),a=(this.uiDialogButtonPane=e("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=e("<div>")).addClass("ui-dialog-buttonset").appendTo(a),t.attr({role:"dialog","aria-labelledby":r.attr("id")}),i.find("*").add(i).disableSelection(),this._hoverable(o),this._focusable(o),l.draggable&&e.fn.draggable&&this._makeDraggable(),l.resizable&&e.fn.resizable&&this._makeResizable(),this._createButtons(l.buttons),this._isOpen=!1,e.fn.bgiframe&&t.bgiframe(),this._on(t,{keydown:function(n){if(l.modal&&n.keyCode===e.ui.keyCode.TAB){var i=e(":tabbable",t),o=i.filter(":first"),r=i.filter(":last");return n.target!==r[0]||n.shiftKey?n.target===o[0]&&n.shiftKey?(r.focus(1),!1):void 0:(o.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var e,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var n,i,o=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){o._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),e.ui.dialog.overlay.resize(),this.options.modal&&(n=0,e(".ui-dialog").each(function(){this!==o.uiDialog[0]&&(i=e(this).css("z-index"),isNaN(i)||(n=Math.max(n,i)))}),e.ui.dialog.maxZ=n),this},isOpen:function(){return this._isOpen},moveToTop:function(t,n){var i,o=this.options;return o.modal&&!t||!o.stack&&!o.modal?this._trigger("focus",n):(o.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=o.zIndex),this.overlay&&(e.ui.dialog.maxZ+=1,e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ,this.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ)),i={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},e.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",e.ui.dialog.maxZ),this.element.attr(i),this._trigger("focus",n),this)},open:function(){if(!this._isOpen){var t,n=this.options,i=this.uiDialog;return this._size(),this._position(n.position),i.show(n.show),this.overlay=n.modal?new e.ui.dialog.overlay(this):null,this.moveToTop(!0),t=this.element.find(":tabbable"),t.length||(t=this.uiDialogButtonPane.find(":tabbable"),t.length||(t=i)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var n=this,i=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(i=!0)}),i?(e.each(t,function(t,i){var o,r;i=e.isFunction(i)?{click:i,text:t}:i,i=e.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(n.element[0],arguments)},o=e("<button></button>",i).appendTo(n.uiButtonSet),e.fn.button&&o.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,o){e(this).addClass("ui-dialog-dragging"),n._trigger("dragStart",i,t(o))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(o,r){i.position=[r.position.left-n.document.scrollLeft(),r.position.top-n.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),n._trigger("dragStop",o,t(r)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(n){function i(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}n=n===t?this.options.resizable:n;var o=this,r=this.options,a=this.uiDialog.css("position"),s="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:s,start:function(t,n){e(this).addClass("ui-dialog-resizing"),o._trigger("resizeStart",t,i(n))},resize:function(e,t){o._trigger("resize",e,i(t))},stop:function(t,n){e(this).removeClass("ui-dialog-resizing"),r.height=e(this).height(),r.width=e(this).width(),o._trigger("resizeStop",t,i(n)),e.ui.dialog.overlay.resize()}}).css("position",a).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var n,i=[],o=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],1===i.length&&(i[1]=i[0]),e.each(["left","top"],function(e,t){+i[e]===i[e]&&(o[e]=i[e],i[e]=t)}),t={my:i[0]+(o[0]<0?o[0]:"+"+o[0])+" "+i[1]+(o[1]<0?o[1]:"+"+o[1]),at:i.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,n=this.uiDialog.is(":visible"),n||this.uiDialog.show(),this.uiDialog.position(t),n||this.uiDialog.hide()},_setOptions:function(t){var n=this,r={},a=!1;e.each(t,function(e,t){n._setOption(e,t),e in i&&(a=!0),e in o&&(r[e]=t)}),a&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,i){var o,r,a=this.uiDialog;switch(t){case"buttons":this._createButtons(i);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":a.removeClass(this.options.dialogClass).addClass(n+i);break;case"disabled":i?a.addClass("ui-dialog-disabled"):a.removeClass("ui-dialog-disabled");break;case"draggable":o=a.is(":data(draggable)"),o&&!i&&a.draggable("destroy"),!o&&i&&this._makeDraggable();break;case"position":this._position(i);break;case"resizable":r=a.is(":data(resizable)"),r&&!i&&a.resizable("destroy"),r&&"string"==typeof i&&a.resizable("option","handles",i),r||i===!1||this._makeResizable(i);break;case"title":e(".ui-dialog-title",this.uiDialogTitlebar).html(""+(i||"&#160;"))}this._super(t,i)},_size:function(){var t,n,i,o=this.options,r=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),o.minWidth>o.width&&(o.width=o.minWidth),t=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),n=Math.max(0,o.minHeight-t),"auto"===o.height?e.support.minHeight?this.element.css({minHeight:n,height:"auto"}):(this.uiDialog.show(),i=this.element.css("height","auto").height(),r||this.uiDialog.hide(),this.element.height(Math.max(i,n))):this.element.height(Math.max(o.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){return e(t.target).zIndex()<e.ui.dialog.overlay.maxZ?!1:void 0})},1),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=this.oldInstances.pop()||e("<div>").addClass("ui-widget-overlay");return e(document).bind("keydown.dialog-overlay",function(i){var o=e.ui.dialog.overlay.instances;0!==o.length&&o[o.length-1]===n&&t.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===e.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}),n.appendTo(document.body).css({width:this.width(),height:this.height()}),e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},destroy:function(t){var n=e.inArray(t,this.instances),i=0;-1!==n&&this.oldInstances.push(this.instances.splice(n,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),e.each(this.instances,function(){i=Math.max(i,this.css("z-index"))}),this.maxZ=i},height:function(){var t,n;return e.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),n>t?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,n;return e.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),n>t?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e){var t=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()
},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(n){var i=e(n.target).closest(".ui-menu-item");!t&&i.not(".ui-state-disabled").length&&(t=!0,this.select(n),i.has(".ui-menu").length?this.expand(n):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(n){e(n.target).closest(".ui-menu").length||this.collapseAll(n),t=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,o,r,a,s,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,o=this.previousFilter||"",r=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),r===o?a=!0:r=o+r,s=new RegExp("^"+n(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())}),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(t.keyCode),s=new RegExp("^"+n(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev("a"),o=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(o),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,o,r,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-n-i,r=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.height(),0>o?this.activeMenu.scrollTop(r+o):o+s>a&&this.activeMenu.scrollTop(r+o-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-o<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+o>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){"value"===e&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(e,t)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}})}(jQuery),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var n,i,o=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",s=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(o.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),o.range&&(o.range===!0&&(o.values||(o.values=[this._valueMin(),this._valueMin()]),o.values.length&&2!==o.values.length&&(o.values=[o.values[0],o.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===o.range||"max"===o.range?" ui-slider-range-"+o.range:""))),i=o.values&&o.values.length||1,n=r.length;i>n;n++)s.push(a);this.handles=r.add(e(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).mouseenter(function(){o.disabled||e(this).addClass("ui-state-hover")}).mouseleave(function(){e(this).removeClass("ui-state-hover")}).focus(function(){o.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(n){var i,o,r,a,s=e(n.target).data("ui-slider-handle-index");switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(n.target).addClass("ui-state-active"),i=this._start(n,s),i===!1))return}switch(a=this.options.step,o=r=this.options.values&&this.options.values.length?this.values(s):this.value(),n.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(o+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(o-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(o===this._valueMax())return;r=this._trimAlignValue(o+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(o===this._valueMin())return;r=this._trimAlignValue(o-a)}this._slide(n,s,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,o,r,a,s,l,c,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-u.values(t));o>n&&(o=n,r=e(this),a=t)}),d.range===!0&&this.values(1)===d.min&&(a+=1,r=e(this.handles[a])),s=this._start(t,a),s===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,r.addClass("ui-state-active").focus(),l=r.offset(),c=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-r.width()/2,top:t.pageY-l.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,o,r;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),o=this._valueMax()-this._valueMin(),r=this._valueMin()+i*o,this._trimAlignValue(r)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,o,r;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&(o=this.values(),o[t]=n,r=this._trigger("slide",e,{handle:this.handles[t],value:n,values:o}),i=this.values(t?0:1),r!==!1&&this.values(t,n,!0))):n!==this.value()&&(r=this._trigger("slide",e,{handle:this.handles[t],value:n}),r!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,o,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,o=arguments[0],r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,n){var i,o=0;switch(e.isArray(this.options.values)&&(o=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;o>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,o,r,a=this.options.range,s=this.options,l=this,c=this._animateOff?!1:s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(i=this.value(),o=this._valueMin(),r=this._valueMax(),n=r!==o?(i-o)/(r-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,i){var o=n.attr(i);void 0!==o&&o.length&&(t[i]=o)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return t=null!==i.min?i.min:0,n=e-t,n=Math.round(n/i.step)*i.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var n;""!==e&&(n=this._parse(e),null!==n&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._spin((e||1)*this.options.step)},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._spin((e||1)*-this.options.step)},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function n(){return++o}function i(e){return e.hash.length>1&&e.href.replace(r,"")===location.href.replace(r,"").replace(/\s/g,"%20")}var o=0,r=/#.*$/;e.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options,i=n.active,o=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===i&&(o&&this.tabs.each(function(t,n){return e(n).attr("aria-controls")===o?(i=t,!1):void 0}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=n.collapsible?!1:0)),n.active=i,!n.collapsible&&n.active===!1&&this.anchors.length&&(n.active=0),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(this.options.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i===this.options.active?!1:i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,o),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function i(){return t>o&&(t=0),0>t&&(t=o),t}for(var o=this.tabs.length-1;-1!==e.inArray(i(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+n()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,o){var r,a,s,l=e(o).uniqueId().attr("id"),c=e(o).closest("li"),u=c.attr("aria-controls");i(o)?(r=o.hash,a=t.element.find(t._sanitizeSelector(r))):(s=t._tabId(c),r="#"+s,a=t.element.find(r),a.length||(a=t._createPanel(s),a.insertAfter(t.panels[n-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":r.substring(1),"aria-labelledby":l}),a.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)
},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)t===!0||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i,o=this.element.parent();"fill"===t?(e.support.minHeight||(i=o.css("overflow"),o.css("overflow","hidden")),n=o.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),i&&o.css("overflow",i),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,o=e(t.currentTarget),r=o.closest("li"),a=r[0]===i[0],s=a&&n.collapsible,l=s?e():this._getPanelForTab(r),c=i.length?this._getPanelForTab(i):e(),u={oldTab:i,oldPanel:c,newTab:s?e():r,newPanel:l};t.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||this._trigger("beforeActivate",t,u)===!1||(n.active=s?!1:this.tabs.index(r),this.active=a?e():r,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(r),t),this._toggle(t,u))},_toggle:function(t,n){function i(){r.running=!1,r._trigger("activate",t,n)}function o(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&r.options.show?r._show(a,r.options.show,i):(a.show(),i())}var r=this,a=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),o()),s.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),a.length&&s.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var i=this.options.disabled;i!==!1&&(n===t?i=!1:(n=this._getIndex(n),i=e.isArray(i)?e.map(i,function(e){return e!==n?e:null}):e.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(i))},disable:function(n){var i=this.options.disabled;if(i!==!0){if(n===t)i=!0;else{if(n=this._getIndex(n),-1!==e.inArray(n,i))return;i=e.isArray(i)?e.merge([n],i).sort():[n]}this._setupDisabled(i)}},load:function(t,n){t=this._getIndex(t);var o=this,r=this.tabs.eq(t),a=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),l={tab:r,panel:s};i(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,n,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){s.html(e),o._trigger("load",n,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&o.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),e===o.xhr&&delete o.xhr},1)})))},_ajaxSettings:function(t,n,i){var o=this;return{url:t.attr("href"),beforeSend:function(t,r){return o._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:r},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.uiBackCompat!==!1&&(e.ui.tabs.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},e.widget("ui.tabs",e.ui.tabs,{url:function(e,t){this.anchors.eq(e).attr("href",t)}}),e.widget("ui.tabs",e.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var t=this;this._on({tabsbeforeload:function(n,i){return e.data(i.tab[0],"cache.tabs")?void n.preventDefault():void i.jqXHR.success(function(){t.options.cache&&e.data(i.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(t,n,i){var o=this.options.ajaxOptions;return e.extend({},o,{error:function(e,t){try{o.error(e,t,i.tab.closest("li").index(),i.tab[0])}catch(n){}}},this._superApply(arguments))},_setOption:function(e,t){"cache"===e&&t===!1&&this.anchors.removeData("cache.tabs"),this._super(e,t)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(e){this.anchors.eq(e).removeData("cache.tabs"),this._superApply(arguments)}}),e.widget("ui.tabs",e.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),e.widget("ui.tabs",e.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(e,t){if(e.target===this.element[0]&&this.options.spinner){var n=t.tab.find("span"),i=n.html();n.html(this.options.spinner),t.jqXHR.complete(function(){n.html(i)})}}})}}),e.widget("ui.tabs",e.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var n,i=this.options;(t&&i.disabled===!0||e.isArray(i.disabled)&&-1!==e.inArray(t,i.disabled))&&(n=!0),this._superApply(arguments),n&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var n,i=this.options;(t&&i.disabled===!1||e.isArray(i.disabled)&&-1===e.inArray(t,i.disabled))&&(n=!0),this._superApply(arguments),n&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),e.widget("ui.tabs",e.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(n,i,o){o===t&&(o=this.anchors.length);var r,a,s=this.options,l=e(s.tabTemplate.replace(/#\{href\}/g,n).replace(/#\{label\}/g,i)),c=n.indexOf("#")?this._tabId(l):n.replace("#","");return l.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),l.attr("aria-controls",c),r=o>=this.tabs.length,a=this.element.find("#"+c),a.length||(a=this._createPanel(c),r?o>0?a.insertAfter(this.panels.eq(-1)):a.appendTo(this.element):a.insertBefore(this.panels[o])),a.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),r?l.appendTo(this.tablist):l.insertBefore(this.tabs[o]),s.disabled=e.map(s.disabled,function(e){return e>=o?++e:e}),this.refresh(),1===this.tabs.length&&s.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[o],this.panels[o])),this},remove:function(t){t=this._getIndex(t);var n=this.options,i=this.tabs.eq(t).remove(),o=this._getPanelForTab(i).remove();return i.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(t+(t+1<this.anchors.length?1:-1)),n.disabled=e.map(e.grep(n.disabled,function(e){return e!==t}),function(e){return e>=t?--e:e}),this.refresh(),this._trigger("remove",null,this._ui(i.find("a")[0],o[0])),this}}),e.widget("ui.tabs",e.ui.tabs,{length:function(){return this.anchors.length}}),e.widget("ui.tabs",e.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var i=t.is("li")?t.find("a[href]"):t;return i=i[0],e(i).closest("li").attr("aria-controls")||i.title&&i.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+n()}}),e.widget("ui.tabs",e.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return e(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),e.widget("ui.tabs",e.ui.tabs,{_create:function(){var e=this.options;null===e.active&&e.selected!==t&&(e.active=-1===e.selected?!1:e.selected),this._super(),e.selected=e.active,e.selected===!1&&(e.selected=-1)},_setOption:function(e,t){if("selected"!==e)return this._super(e,t);var n=this.options;this._super("active",-1===t?!1:t),n.selected=n.active,n.selected===!1&&(n.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),e.widget("ui.tabs",e.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(e,t,n){var i,o,r=this._superApply(arguments);return r?("beforeActivate"===e?(i=n.newTab.length?n.newTab:n.oldTab,o=n.newPanel.length?n.newPanel:n.oldPanel,r=this._super("select",t,{tab:i.find(".ui-tabs-anchor")[0],panel:o[0],index:i.closest("li").index()})):"activate"===e&&n.newTab.length&&(r=this._super("show",t,{tab:n.newTab.find(".ui-tabs-anchor")[0],panel:n.newPanel[0],index:n.newTab.closest("li").index()})),r):!1}}),e.widget("ui.tabs",e.ui.tabs,{select:function(e){if(e=this._getIndex(e),-1===e){if(!this.options.collapsible||-1===this.options.selected)return;e=this.options.selected}this.anchors.eq(e).trigger(this.options.event+this.eventNamespace)}}),function(){var t=0;e.widget("ui.tabs",e.ui.tabs,{options:{cookie:null},_create:function(){var e,t=this.options;null==t.active&&t.cookie&&(e=parseInt(this._cookie(),10),-1===e&&(e=!1),t.active=e),this._super()},_cookie:function(n){var i=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++t)];return arguments.length&&(i.push(n===!1?-1:n),i.push(this.options.cookie)),e.cookie.apply(null,i)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),e.widget("ui.tabs",e.ui.tabs,{_trigger:function(t,n,i){var o=e.extend({},i);return"load"===t&&(o.panel=o.panel[0],o.tab=o.tab.find(".ui-tabs-anchor")[0]),this._super(t,n,o)}}),e.widget("ui.tabs",e.ui.tabs,{options:{fx:null},_getFx:function(){var t,n,i=this.options.fx;return i&&(e.isArray(i)?(t=i[0],n=i[1]):t=n=i),i?{show:n,hide:t}:null},_toggle:function(e,t){function n(){o.running=!1,o._trigger("activate",e,t)}function i(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&s.show?r.animate(s.show,s.show.duration,function(){n()}):(r.show(),n())}var o=this,r=t.newPanel,a=t.oldPanel,s=this._getFx();return s?(o.running=!0,void(a.length&&s.hide?a.animate(s.hide,s.hide.duration,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),i()))):this._super(e,t)}}))}(jQuery),function(e){function t(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))}function n(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(n,i);-1!==o&&i.splice(o,1),t.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var i=0;e.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return e(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,n){var i=this;return"disabled"===t?(this[n?"_disable":"_enable"](),void(this.options[t]=n)):(this._super(t,n),void("content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t)})))},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var o=e.Event("blur");o.target=o.currentTarget=i[0],t.close(o,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,o=this,r=t?t.type:null;return"string"==typeof i?this._open(t,e,i):(n=i.call(e[0],function(n){e.data("ui-tooltip-open")&&o._delay(function(){t&&(t.type=r),this._open(t,e,n)})}),void(n&&this._open(t,e,n)))},_open:function(n,i,o){function r(e){c.of=e,a.is(":hidden")||a.position(c)}var a,s,l,c=e.extend({},this.options.position);if(o){if(a=this._find(i),a.length)return void a.find(".ui-tooltip-content").html(o);i.is("[title]")&&(n&&"mouseover"===n.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),t(i,a.attr("id")),a.find(".ui-tooltip-content").html(o),this.options.track&&n&&/^mouse/.test(n.type)?(this._on(this.document,{mousemove:r}),r(n)):a.position(e.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(l=setInterval(function(){a.is(":visible")&&(r(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",n,{tooltip:a}),s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}},remove:function(){this._removeTooltip(a)}},n&&"mouseover"!==n.type||(s.mouseleave="close"),n&&"focusin"!==n.type||(s.focusout="close"),this._on(!0,i,s)}},close:function(t){var i=this,o=e(t?t.currentTarget:this.element),r=this._find(o);this.closing||(o.data("ui-tooltip-title")&&o.attr("title",o.data("ui-tooltip-title")),n(o),r.stop(!0),this._hide(r,this.options.hide,function(){i._removeTooltip(e(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:r}),this.closing=!1)},_tooltip:function(t){var n="ui-tooltip-"+i++,o=e("<div>").attr({id:n,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(o),o.appendTo(this.document[0].body),e.fn.bgiframe&&o.bgiframe(),this.tooltips[n]=t,o},_find:function(t){var n=t.data("ui-tooltip-id");return n?e("#"+n):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var o=e.Event("blur");o.target=o.currentTarget=i[0],t.close(o,!0),e("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))})}})}(jQuery),jQuery.effects||function(e,t){var n=e.uiBackCompat!==!1,i="ui-effects-";e.effects={effect:{}},function(t,n){function i(e,t,n){var i=h[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function o(e){var n=u(),i=n._rgba=[];return e=e.toLowerCase(),g(c,function(t,o){var r,a=o.re.exec(e),s=a&&o.parse(a),l=o.space||"rgba";return s?(r=n[l](s),n[d[l].cache]=r[d[l].cache],i=n._rgba=r._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&t.extend(i,a.transparent),n):a[e]}function r(e,t,n){return n=(n+1)%1,1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}var a,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),l=/^([\-+])=\s*(\d+\.?\d*)/,c=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=t.Color=function(e,n,i,o){return new t.Color.fn.parse(e,n,i,o)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=u.support={},p=t("<p>")[0],g=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=p.style.backgroundColor.indexOf("rgba")>-1,g(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(r,s,l,c){if(r===n)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=n);var h=this,f=t.type(r),p=this._rgba=[];return s!==n&&(r=[r,s,l,c],f="array"),"string"===f?this.parse(o(r)||a._default):"array"===f?(g(d.rgba.props,function(e,t){p[t.idx]=i(r[t.idx],t)}),this):"object"===f?(r instanceof u?g(d,function(e,t){r[t.cache]&&(h[t.cache]=r[t.cache].slice())}):g(d,function(t,n){var o=n.cache;g(n.props,function(e,t){if(!h[o]&&n.to){if("alpha"===e||null==r[e])return;h[o]=n.to(h._rgba)}h[o][t.idx]=i(r[e],t,!0)}),h[o]&&e.inArray(null,h[o].slice(0,3))<0&&(h[o][3]=1,n.from&&(h._rgba=n.from(h[o])))}),this):void 0},is:function(e){var t=u(e),n=!0,i=this;return g(d,function(e,o){var r,a=t[o.cache];return a&&(r=i[o.cache]||o.to&&o.to(i._rgba)||[],g(o.props,function(e,t){return null!=a[t.idx]?n=a[t.idx]===r[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return g(d,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=u(e),o=n._space(),r=d[o],a=0===this.alpha()?u("transparent"):this,s=a[r.cache]||r.to(a._rgba),l=s.slice();return n=n[r.cache],g(r.props,function(e,o){var r=o.idx,a=s[r],c=n[r],u=h[o.type]||{};null!==c&&(null===a?l[r]=c:(u.mod&&(c-a>u.mod/2?a+=u.mod:a-c>u.mod/2&&(a-=u.mod)),l[r]=i((c-a)*t+a,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=u(e)._rgba;return u(t.map(n,function(e,t){return(1-i)*o[t]+i*e}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,o=e[1]/255,r=e[2]/255,a=e[3],s=Math.max(i,o,r),l=Math.min(i,o,r),c=s-l,u=s+l,d=.5*u;return t=l===s?0:i===s?60*(o-r)/c+360:o===s?60*(r-i)/c+120:60*(i-o)/c+240,n=0===d||1===d?d:.5>=d?c/u:c/(2-u),[Math.round(t)%360,n,d,null==a?1:a]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},g(d,function(e,o){var r=o.props,a=o.cache,s=o.to,c=o.from;u.fn[e]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),e===n)return this[a].slice();var o,l=t.type(e),d="array"===l||"object"===l?e:arguments,h=this[a].slice();return g(r,function(e,t){var n=d["object"===l?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),c?(o=u(c(h)),o[a]=h,o):u(h)},g(r,function(n,i){u.fn[n]||(u.fn[n]=function(o){var r,a=t.type(o),s="alpha"===n?this._hsla?"hsla":"rgba":e,c=this[s](),u=c[i.idx];return"undefined"===a?u:("function"===a&&(o=o.call(this,u),a=t.type(o)),null==o&&i.empty?this:("string"===a&&(r=l.exec(o),r&&(o=u+parseFloat(r[2])*("+"===r[1]?1:-1))),c[i.idx]=o,this[s](c)))})})}),g(s,function(e,n){t.cssHooks[n]={set:function(e,i){var r,a,s="";if("string"!==t.type(i)||(r=o(i))){if(i=u(r||i),!f.rgba&&1!==i._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(c){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return g(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(){var t,n,i=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)t=i[n],"string"==typeof i[t]&&(o[e.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(o[t]=i[t]);return o}function i(t,n){var i,o,a={};for(i in n)o=n[i],t[i]!==o&&(r[i]||(e.fx.step[i]||!isNaN(parseFloat(o)))&&(a[i]=o));return a}var o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,n,e.end),e.setAttr=!0)}}),e.effects.animateClass=function(t,r,a,s){var l=e.speed(r,a,s);return this.queue(function(){var r,a=e(this),s=a.attr("class")||"",c=l.children?a.find("*").andSelf():a;c=c.map(function(){var t=e(this);return{el:t,start:n.call(this)}}),r=function(){e.each(o,function(e,n){t[n]&&a[n+"Class"](t[n])})},r(),c=c.map(function(){return this.end=n.call(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",s),c=c.map(function(){var t=this,n=e.Deferred(),i=jQuery.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){r(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,i,o){return n?e.effects.animateClass.call(this,{add:t},n,i,o):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,i,o){return n?e.effects.animateClass.call(this,{remove:t},n,i,o):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,i,o,r,a){return"boolean"==typeof i||i===t?o?e.effects.animateClass.call(this,i?{add:n}:{remove:n},o,r,a):this._toggleClass(n,i):e.effects.animateClass.call(this,{toggle:n},i,o,r)},switchClass:function(t,n,i,o,r){return e.effects.animateClass.call(this,{add:n,remove:t},i,o,r)}})}(),function(){function o(t,n,i,o){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(o=i,i=n,n={}),e.isFunction(i)&&(o=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=o||n.complete,t}function r(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?!1:n&&e.effects[t]?!1:!0}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(i+t[n],e[0].style[t[n]])},restore:function(e,n){var o,r;for(r=0;r<n.length;r++)null!==n[r]&&(o=e.data(i+n[r]),o===t&&(o=""),e.css(n[r],o))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(a){r=document.body}return t.wrap(i),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,o){return o=o||{},e.each(n,function(e,n){var r=t.cssUnit(n);r[0]>0&&(o[n]=r[0]*i+r[1])}),o}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(r)&&r.call(o[0]),e.isFunction(t)&&t()}var o=e(this),r=i.complete,a=i.mode;(o.is(":hidden")?"hide"===a:"show"===a)?n():s.call(o[0],i,n)}var i=o.apply(this,arguments),r=i.mode,a=i.queue,s=e.effects.effect[i.effect],l=!s&&n&&e.effects[i.effect];return e.fx.off||!s&&!l?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):s?a===!1?this.each(t):this.queue(a||"fx",t):l.call(this,{options:i,duration:i.duration,callback:i.complete,mode:i.mode})},_show:e.fn.show,show:function(e){if(r(e))return this._show.apply(this,arguments);var t=o.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(r(e))return this._hide.apply(this,arguments);var t=o.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(r(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=o.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}()}(jQuery),function(e){var t=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(i,o){var r,a,s,l=e(this),c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,i.mode||"hide"),d=i.direction||"up",h=t.test(d),f=h?"height":"width",p=h?"top":"left",g=n.test(d),m={},v="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),r=e.effects.createWrapper(l).css({overflow:"hidden"}),a=r[f](),s=parseFloat(r.css(p))||0,m[f]=v?a:0,g||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),m[p]=v?s:a+s),v&&(r.css(f,0),g||r.css(p,s+a)),r.animate(m,{duration:i.duration,easing:i.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),o()}})}}(jQuery),function(e){e.effects.effect.bounce=function(t,n){var i,o,r,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),c="hide"===l,u="show"===l,d=t.direction||"up",h=t.distance,f=t.times||5,p=2*f+(u||c?1:0),g=t.duration/p,m=t.easing,v="up"===d||"down"===d?"top":"left",_="up"===d||"left"===d,y=a.queue(),b=y.length;for((u||c)&&s.push("opacity"),e.effects.save(a,s),a.show(),e.effects.createWrapper(a),h||(h=a["top"===v?"outerHeight":"outerWidth"]()/3),u&&(r={opacity:1},r[v]=0,a.css("opacity",0).css(v,_?2*-h:2*h).animate(r,g,m)),c&&(h/=Math.pow(2,f-1)),r={},r[v]=0,i=0;f>i;i++)o={},o[v]=(_?"-=":"+=")+h,a.animate(o,g,m).animate(r,g,m),h=c?2*h:h/2;c&&(o={opacity:0},o[v]=(_?"-=":"+=")+h,a.animate(o,g,m)),a.queue(function(){c&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),n()}),b>1&&y.splice.apply(y,[1,0].concat(y.splice(b,p+1))),a.dequeue()}}(jQuery),function(e){e.effects.effect.clip=function(t,n){var i,o,r,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",d="vertical"===u,h=d?"height":"width",f=d?"top":"left",p={};e.effects.save(a,s),a.show(),i=e.effects.createWrapper(a).css({overflow:"hidden"}),o="IMG"===a[0].tagName?i:a,r=o[h](),c&&(o.css(h,0),o.css(f,r/2)),p[h]=c?r:0,p[f]=c?0:r/2,o.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),n()
}})}}(jQuery),function(e){e.effects.effect.drop=function(t,n){var i,o=e(this),r=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(o,t.mode||"hide"),s="show"===a,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:s?1:0};e.effects.save(o,r),o.show(),e.effects.createWrapper(o),i=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0)/2,s&&o.css("opacity",0).css(c,"pos"===u?-i:i),d[c]=(s?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+i,o.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e){e.effects.effect.explode=function(t,n){function i(){y.push(this),y.length===d*h&&o()}function o(){f.css({visibility:"visible"}),e(y).remove(),g||f.hide(),n()}var r,a,s,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,f=e(this),p=e.effects.setMode(f,t.mode||"hide"),g="show"===p,m=f.show().css("visibility","hidden").offset(),v=Math.ceil(f.outerWidth()/h),_=Math.ceil(f.outerHeight()/d),y=[];for(r=0;d>r;r++)for(l=m.top+r*_,u=r-(d-1)/2,a=0;h>a;a++)s=m.left+a*v,c=a-(h-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-r*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:s+(g?c*v:0),top:l+(g?u*_:0),opacity:g?0:1}).animate({left:s+(g?0:c*v),top:l+(g?0:u*_),opacity:g?1:0},t.duration||500,t.easing,i)}}(jQuery),function(e){e.effects.effect.fade=function(t,n){var i=e(this),o=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:o},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}}(jQuery),function(e){e.effects.effect.fold=function(t,n){var i,o,r=e(this),a=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),l="show"===s,c="hide"===s,u=t.size||15,d=/([0-9]+)%/.exec(u),h=!!t.horizFirst,f=l!==h,p=f?["width","height"]:["height","width"],g=t.duration/2,m={},v={};e.effects.save(r,a),r.show(),i=e.effects.createWrapper(r).css({overflow:"hidden"}),o=f?[i.width(),i.height()]:[i.height(),i.width()],d&&(u=parseInt(d[1],10)/100*o[c?0:1]),l&&i.css(h?{height:0,width:u}:{height:u,width:0}),m[p[0]]=l?o[0]:u,v[p[1]]=l?o[1]:0,i.animate(m,g,t.easing).animate(v,g,t.easing,function(){c&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),n()})}}(jQuery),function(e){e.effects.effect.highlight=function(t,n){var i=e(this),o=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(i,t.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"===r&&(a.opacity=0),e.effects.save(i,o),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),e.effects.restore(i,o),n()}})}}(jQuery),function(e){e.effects.effect.pulsate=function(t,n){var i,o=e(this),r=e.effects.setMode(o,t.mode||"show"),a="show"===r,s="hide"===r,l=a||"hide"===r,c=2*(t.times||5)+(l?1:0),u=t.duration/c,d=0,h=o.queue(),f=h.length;for((a||!o.is(":visible"))&&(o.css("opacity",0).show(),d=1),i=1;c>i;i++)o.animate({opacity:d},u,t.easing),d=1-d;o.animate({opacity:d},u,t.easing),o.queue(function(){s&&o.hide(),n()}),f>1&&h.splice.apply(h,[1,0].concat(h.splice(f,c+1))),o.dequeue()}}(jQuery),function(e){e.effects.effect.puff=function(t,n){var i=e(this),o=e.effects.setMode(i,t.mode||"hide"),r="hide"===o,a=parseInt(t.percent,10)||150,s=a/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:o,complete:n,percent:r?a:100,from:r?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),i.effect(t)},e.effects.effect.scale=function(t,n){var i=e(this),o=e.extend(!0,{},t),r=e.effects.setMode(i,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),s=t.direction||"both",l=t.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},u={y:"horizontal"!==s?a/100:1,x:"vertical"!==s?a/100:1};o.effect="size",o.queue=!1,o.complete=n,"effect"!==r&&(o.origin=l||["middle","center"],o.restore=!0),o.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),o.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),i.effect(o)},e.effects.effect.size=function(t,n){var i,o,r,a=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=e.effects.setMode(a,t.mode||"effect"),p=t.restore||"effect"!==f,g=t.scale||"both",m=t.origin||["middle","center"],v=a.css("position"),_=p?s:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&a.show(),i={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===f?(a.from=t.to||y,a.to=t.from||i):(a.from=t.from||("show"===f?y:i),a.to=t.to||("hide"===f?y:i)),r={from:{y:a.from.height/i.height,x:a.from.width/i.width},to:{y:a.to.height/i.height,x:a.to.width/i.width}},("box"===g||"both"===g)&&(r.from.y!==r.to.y&&(_=_.concat(d),a.from=e.effects.setTransition(a,d,r.from.y,a.from),a.to=e.effects.setTransition(a,d,r.to.y,a.to)),r.from.x!==r.to.x&&(_=_.concat(h),a.from=e.effects.setTransition(a,h,r.from.x,a.from),a.to=e.effects.setTransition(a,h,r.to.x,a.to))),("content"===g||"both"===g)&&r.from.y!==r.to.y&&(_=_.concat(u).concat(c),a.from=e.effects.setTransition(a,u,r.from.y,a.from),a.to=e.effects.setTransition(a,u,r.to.y,a.to)),e.effects.save(a,_),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),m&&(o=e.effects.getBaseline(m,i),a.from.top=(i.outerHeight-a.outerHeight())*o.y,a.from.left=(i.outerWidth-a.outerWidth())*o.x,a.to.top=(i.outerHeight-a.to.outerHeight)*o.y,a.to.left=(i.outerWidth-a.to.outerWidth)*o.x),a.css(a.from),("content"===g||"both"===g)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=s.concat(d).concat(h),a.find("*[width]").each(function(){var n=e(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};p&&e.effects.save(n,c),n.from={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},n.to={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x},r.from.y!==r.to.y&&(n.from=e.effects.setTransition(n,d,r.from.y,n.from),n.to=e.effects.setTransition(n,d,r.to.y,n.to)),r.from.x!==r.to.x&&(n.from=e.effects.setTransition(n,h,r.from.x,n.from),n.to=e.effects.setTransition(n,h,r.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){p&&e.effects.restore(n,c)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===f&&a.hide(),e.effects.restore(a,_),p||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,n){var i=parseInt(n,10),o=e?a.to.left:a.to.top;return"auto"===n?o+"px":i+o+"px"})})),e.effects.removeWrapper(a),n()}})}}(jQuery),function(e){e.effects.effect.shake=function(t,n){var i,o=e(this),r=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"effect"),s=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,d=Math.round(t.duration/u),h="up"===s||"down"===s?"top":"left",f="up"===s||"left"===s,p={},g={},m={},v=o.queue(),_=v.length;for(e.effects.save(o,r),o.show(),e.effects.createWrapper(o),p[h]=(f?"-=":"+=")+l,g[h]=(f?"+=":"-=")+2*l,m[h]=(f?"-=":"+=")+2*l,o.animate(p,d,t.easing),i=1;c>i;i++)o.animate(g,d,t.easing).animate(m,d,t.easing);o.animate(g,d,t.easing).animate(p,d/2,t.easing).queue(function(){"hide"===a&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),n()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,u+1))),o.dequeue()}}(jQuery),function(e){e.effects.effect.slide=function(t,n){var i,o=e(this),r=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(o,t.mode||"show"),s="show"===a,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(o,r),o.show(),i=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(o).css({overflow:"hidden"}),s&&o.css(c,u?isNaN(i)?"-"+i:-i:i),d[c]=(s?u?"+=":"-=":u?"-=":"+=")+i,o.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e){e.effects.effect.transfer=function(t,n){var i=e(this),o=e(t.to),r="fixed"===o.css("position"),a=e("body"),s=r?a.scrollTop():0,l=r?a.scrollLeft():0,c=o.offset(),u={top:c.top-s,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},d=i.offset(),h=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),n()})}}(jQuery)}).call(this),"undefined"==typeof Package&&(Package={}),Package["mrt:jquery-ui"]={}}(),function(){var e,t,n=(Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery);(function(){!function(n){n.fn.fullpage=function(i){function o(){n("body").append('<div id="fp-nav"><ul></ul></div>'),V=n("#fp-nav"),V.css("color",i.navigationColor),V.addClass(i.navigationPosition);for(var e=0;e<n(".fp-section").length;e++){var t="";i.anchors.length&&(t=i.anchors[e]);var o=i.navigationTooltips[e];"undefined"==typeof o&&(o=""),V.find("ul").append('<li data-tooltip="'+o+'"><a href="#'+t+'"><span></span></a></li>')}}function r(){n(".fp-section").each(function(){var e=n(this).find(".fp-slide");e.length?e.each(function(){T(n(this))}):T(n(this))}),n.isFunction(i.afterRender)&&i.afterRender.call(this)}function a(){if(!i.autoScrolling){var e=n(window).scrollTop(),t=n(".fp-section").map(function(){return n(this).offset().top<e+100?n(this):void 0}),t=t[t.length-1];if(!t.hasClass("active")){Q=!0;var o=n(".fp-section.active").index(".fp-section")+1,r=k(t),a=t.data("anchor");t.addClass("active").siblings().removeClass("active"),n.isFunction(i.onLeave)&&i.onLeave.call(this,o,t.index(".fp-section")+1,r),n.isFunction(i.afterLoad)&&i.afterLoad.call(this,a,t.index(".fp-section")+1),w(a),b(a,0),i.anchors.length&&!Y&&(B=a,location.hash=a),clearTimeout(X),X=setTimeout(function(){Q=!1},100)}}}function s(t){return e=t.find(".fp-slides").length?t.find(".fp-slide.active").find(".fp-scrollable"):t.find(".fp-scrollable")}function l(e,t){if("down"==e)var i="bottom",o=n.fn.fullpage.moveSectionDown;else i="top",o=n.fn.fullpage.moveSectionUp;if(0<t.length){if(!(i="top"===i?!t.scrollTop():"bottom"===i?t.scrollTop()+1+t.innerHeight()>=t[0].scrollHeight:void 0))return!0;o()}else o()}function c(e){var t=e.originalEvent;if(i.autoScrolling&&e.preventDefault(),!u(e.target)){e=n(".fp-section.active");var o=s(e);Y||z||(t=H(t),Z=t.y,et=t.x,e.find(".fp-slides").length&&Math.abs(K-et)>Math.abs(J-Z)?Math.abs(K-et)>n(window).width()/100*i.touchSensitivity&&(K>et?n.fn.fullpage.moveSlideRight():n.fn.fullpage.moveSlideLeft()):i.autoScrolling&&Math.abs(J-Z)>n(window).height()/100*i.touchSensitivity&&(J>Z?l("down",o):Z>J&&l("up",o)))}}function u(e,t){t=t||0;var o=n(e).parent();return t<i.normalScrollElementTouchThreshold&&o.is(i.normalScrollElements)?!0:t==i.normalScrollElementTouchThreshold?!1:u(o,++t)}function d(e){e=H(e.originalEvent),J=e.y,K=e.x}function h(e){if(i.autoScrolling){e=window.event||e,e=Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY||-e.detail));var t=n(".fp-section.active"),t=s(t);return Y||(0>e?l("down",t):l("up",t)),!1}}function f(e){var t=n(".fp-section.active").find(".fp-slides");if(t.length&&!z){var o=t.find(".fp-slide.active"),r=null,r="prev"===e?o.prev(".fp-slide"):o.next(".fp-slide");if(!r.length){if(!i.loopHorizontal)return;r=o.siblings("prev"===e?":last":":first")}z=!0,v(t,r)}}function p(){n(".fp-slide.active").each(function(){O(n(this))})}function g(e,t,o){var r={},a=e.position();if("undefined"!=typeof a){var a=a.top,s=k(e),l=e.data("anchor"),c=e.index(".fp-section"),u=e.find(".fp-slide.active"),d=n(".fp-section.active"),h=d.index(".fp-section")+1,f=G;if(u.length)var g=u.data("anchor"),m=u.index();if(i.autoScrolling&&i.continuousVertical&&"undefined"!=typeof o&&(!o&&"up"==s||o&&"down"==s)){o?n(".fp-section.active").before(d.nextAll(".fp-section")):n(".fp-section.active").after(d.prevAll(".fp-section").get().reverse()),N(n(".fp-section.active").position().top),p();var v=d,a=e.position(),a=a.top,s=k(e)}e.addClass("active").siblings().removeClass("active"),Y=!0,"undefined"!=typeof l&&I(m,g,l),i.autoScrolling?(r.top=-a,e=".fullpage-wrapper"):(r.scrollTop=a,e="html, body");var _=function(){v&&v.length&&(o?n(".fp-section:first").before(v):n(".fp-section:last").after(v),N(n(".fp-section.active").position().top),p()),n.isFunction(i.afterLoad)&&!f&&i.afterLoad.call(this,l,c+1),setTimeout(function(){Y=!1,n.isFunction(t)&&t.call(this)},600)};n.isFunction(i.onLeave)&&!f&&i.onLeave.call(this,h,c+1,s),i.css3&&i.autoScrolling?(E("translate3d(0px, -"+a+"px, 0px)",!0),setTimeout(function(){_()},i.scrollingSpeed)):n(e).animate(r,i.scrollingSpeed,i.easing,function(){_()}),B=l,i.autoScrolling&&(w(l),b(l,c))}}function m(){if(!Q){var e=window.location.hash.replace("#","").split("/"),t=e[0],e=e[1];if(t.length){var n="undefined"==typeof B,i="undefined"==typeof B&&"undefined"==typeof e&&!z;(t&&t!==B&&!n||i||!z&&F!=e)&&P(t,e)}}}function v(e,t){var o=t.position(),r=e.find(".fp-slidesContainer").parent(),a=t.index(),s=e.closest(".fp-section"),l=s.index(".fp-section"),c=s.data("anchor"),u=s.find(".fp-slidesNav"),d=t.data("anchor"),h=G;if(i.onSlideLeave){var f,p=s.find(".fp-slide.active").index();f=p==a?"none":p>a?"left":"right",h||n.isFunction(i.onSlideLeave)&&i.onSlideLeave.call(this,c,l+1,p,f)}t.addClass("active").siblings().removeClass("active"),"undefined"==typeof d&&(d=a),i.loopHorizontal||(s.find(".fp-controlArrow.fp-prev").toggle(0!=a),s.find(".fp-controlArrow.fp-next").toggle(!t.is(":last-child"))),s.hasClass("active")&&I(a,d,c);var g=function(){h||n.isFunction(i.afterSlideLoad)&&i.afterSlideLoad.call(this,c,l+1,d,a),z=!1};i.css3?(o="translate3d(-"+o.left+"px, 0px, 0px)",e.find(".fp-slidesContainer").toggleClass("fp-easing",0<i.scrollingSpeed).css(R(o)),setTimeout(function(){g()},i.scrollingSpeed,i.easing)):r.animate({scrollLeft:o.left},i.scrollingSpeed,i.easing,function(){g()}),u.find(".active").removeClass("active"),u.find("li").eq(a).find("a").addClass("active")}function _(){$?n.fn.fullpage.reBuild():(clearTimeout(tt),tt=setTimeout(n.fn.fullpage.reBuild,500))}function y(e,t){if(825>e||900>t){var i=Math.min(100*e/825,100*t/900).toFixed(2);n("body").css("font-size",i+"%")}else n("body").css("font-size","100%")}function b(e,t){i.navigation&&(n("#fp-nav").find(".active").removeClass("active"),e?n("#fp-nav").find('a[href="#'+e+'"]').addClass("active"):n("#fp-nav").find("li").eq(t).find("a").addClass("active"))}function w(e){i.menu&&(n(i.menu).find(".active").removeClass("active"),n(i.menu).find('[data-menuanchor="'+e+'"]').addClass("active"))}function k(e){var t=n(".fp-section.active").index(".fp-section");return e=e.index(".fp-section"),t>e?"up":"down"}function T(e){e.css("overflow","hidden");var t=e.closest(".fp-section"),n=e.find(".fp-scrollable");if(n.length)var o=n.get(0).scrollHeight;else o=e.get(0).scrollHeight,i.verticalCentered&&(o=e.find(".fp-tableCell").get(0).scrollHeight);t=q-parseInt(t.css("padding-bottom"))-parseInt(t.css("padding-top")),o>t?n.length?n.css("height",t+"px").parent().css("height",t+"px"):(i.verticalCentered?e.find(".fp-tableCell").wrapInner('<div class="fp-scrollable" />'):e.wrapInner('<div class="fp-scrollable" />'),e.find(".fp-scrollable").slimScroll({allowPageScroll:!0,height:t+"px",size:"10px",alwaysVisible:!0})):x(e),e.css("overflow","")}function x(e){e.find(".fp-scrollable").children().first().unwrap().unwrap(),e.find(".slimScrollBar").remove(),e.find(".slimScrollRail").remove()}function S(e){e.addClass("fp-table").wrapInner('<div class="fp-tableCell" style="height:'+C(e)+'px;" />')}function C(e){var t=q;return(i.paddingTop||i.paddingBottom)&&(t=e,t.hasClass("fp-section")||(t=e.closest(".fp-section")),e=parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom")),t=q-e),t}function E(e,t){W.toggleClass("fp-easing",t),W.css(R(e))}function P(e,t){"undefined"==typeof t&&(t=0);var i=isNaN(e)?n('[data-anchor="'+e+'"]'):n(".fp-section").eq(e-1);e===B||i.hasClass("active")?M(i,t):g(i,function(){M(i,t)})}function M(e,t){if("undefined"!=typeof t){var n=e.find(".fp-slides"),i=n.find('[data-anchor="'+t+'"]');i.length||(i=n.find(".fp-slide").eq(t)),i.length&&v(n,i)}}function D(e,t){e.append('<div class="fp-slidesNav"><ul></ul></div>');var n=e.find(".fp-slidesNav");n.addClass(i.slidesNavPosition);for(var o=0;t>o;o++)n.find("ul").append('<li><a href="#"><span></span></a></li>');n.css("margin-left","-"+n.width()/2+"px"),n.find("li").first().find("a").addClass("active")}function I(e,t,n){var o="";i.anchors.length&&(e?("undefined"!=typeof n&&(o=n),"undefined"==typeof t&&(t=e),F=t,location.hash=o+"/"+t):("undefined"!=typeof e&&(F=t),location.hash=n))}function L(){var e,t=document.createElement("p"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(t,null);for(var i in n)void 0!==t.style[i]&&(t.style[i]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(n[i]));return document.body.removeChild(t),void 0!==e&&0<e.length&&"none"!==e}function A(){return window.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function H(e){var t=[];return window.navigator.msPointerEnabled?(t.y=e.pageY,t.x=e.pageX):(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t}function O(e){var t=i.scrollingSpeed;n.fn.fullpage.setScrollingSpeed(0),v(e.closest(".fp-slides"),e),n.fn.fullpage.setScrollingSpeed(t)}function N(e){i.css3?E("translate3d(0px, -"+e+"px, 0px)",!1):W.css("top",-e)}function R(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}}function j(){N(0),n("#fp-nav, .fp-slidesNav, .fp-controlArrow").remove(),n(".fp-section").css({height:"","background-color":"",padding:""}),n(".fp-slide").css({width:""}),W.css({height:"",position:"","-ms-touch-action":"","touch-action":""}),n(".fp-section, .fp-slide").each(function(){x(n(this)),n(this).removeClass("fp-table active")}),W.find(".fp-easing").removeClass("fp-easing"),W.find(".fp-tableCell, .fp-slidesContainer, .fp-slides").each(function(){n(this).replaceWith(this.childNodes)}),n("html, body").scrollTop(0),W.addClass("fullpage-used")}i=n.extend({verticalCentered:!0,resize:!0,sectionsColor:[],anchors:[],scrollingSpeed:700,easing:"easeInQuart",menu:!1,navigation:!1,navigationPosition:"right",navigationColor:"#000",navigationTooltips:[],slidesNavigation:!1,slidesNavPosition:"bottom",controlArrowColor:"#fff",loopBottom:!1,loopTop:!1,loopHorizontal:!0,autoScrolling:!0,scrollOverflow:!1,css3:!1,paddingTop:0,paddingBottom:0,fixedElements:null,normalScrollElements:null,keyboardScrolling:!0,touchSensitivity:5,continuousVertical:!1,animateAnchor:!0,normalScrollElementTouchThreshold:5,sectionSelector:".section",slideSelector:".slide",afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterSlideLoad:null,onSlideLeave:null},i),i.continuousVertical&&(i.loopTop||i.loopBottom)&&(i.continuousVertical=!1,console&&console.log&&console.log("Option loopTop/loopBottom is mutually exclusive with continuousVertical; continuousVertical disabled")),n.fn.fullpage.setAutoScrolling=function(e){i.autoScrolling=e,e=n(".fp-section.active"),i.autoScrolling?(n("html, body").css({overflow:"hidden",height:"100%"}),W.css({"-ms-touch-action":"none","touch-action":"none"}),e.length&&N(e.position().top)):(n("html, body").css({overflow:"visible",height:"initial"}),W.css({"-ms-touch-action":"","touch-action":""}),N(0),n("html, body").scrollTop(e.position().top))},n.fn.fullpage.setScrollingSpeed=function(e){i.scrollingSpeed=e},n.fn.fullpage.setMouseWheelScrolling=function(e){e?document.addEventListener?(document.addEventListener("mousewheel",h,!1),document.addEventListener("wheel",h,!1)):document.attachEvent("onmousewheel",h):document.addEventListener?(document.removeEventListener("mousewheel",h,!1),document.removeEventListener("wheel",h,!1)):document.detachEvent("onmousewheel",h)},n.fn.fullpage.setAllowScrolling=function(e){e?(n.fn.fullpage.setMouseWheelScrolling(!0),($||U)&&(t=A(),n(document).off("touchstart "+t.down).on("touchstart "+t.down,d),n(document).off("touchmove "+t.move).on("touchmove "+t.move,c))):(n.fn.fullpage.setMouseWheelScrolling(!1),($||U)&&(t=A(),n(document).off("touchstart "+t.down),n(document).off("touchmove "+t.move)))},n.fn.fullpage.setKeyboardScrolling=function(e){i.keyboardScrolling=e};var B,F,V,z=!1,$=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|Windows Phone|Tizen|Bada)/),U="ontouchstart"in window||0<navigator.msMaxTouchPoints,W=n(this),q=n(window).height(),Y=!1,G=!1;n.fn.fullpage.setAllowScrolling(!0),i.css3&&(i.css3=L()),n(this).length?(W.css({height:"100%",position:"relative"}),W.addClass("fullpage-wrapper")):console.error("Error! Fullpage.js needs to be initialized with a selector. For example: $('#myContainer').fullpage();"),n(i.sectionSelector).each(function(){n(this).addClass("fp-section")}),n(i.slideSelector).each(function(){n(this).addClass("fp-slide")}),i.navigation&&o(),n(".fp-section").each(function(e){var t=n(this),o=n(this).find(".fp-slide"),r=o.length;if(e||0!==n(".fp-section.active").length||n(this).addClass("active"),n(this).css("height",q+"px"),(i.paddingTop||i.paddingBottom)&&n(this).css("padding",i.paddingTop+" 0 "+i.paddingBottom+" 0"),"undefined"!=typeof i.sectionsColor[e]&&n(this).css("background-color",i.sectionsColor[e]),"undefined"!=typeof i.anchors[e]&&n(this).attr("data-anchor",i.anchors[e]),r>1){e=100*r;var a=100/r;o.wrapAll('<div class="fp-slidesContainer" />'),o.parent().wrap('<div class="fp-slides" />'),n(this).find(".fp-slidesContainer").css("width",e+"%"),n(this).find(".fp-slides").after('<div class="fp-controlArrow fp-prev"></div><div class="fp-controlArrow fp-next"></div>'),"#fff"!=i.controlArrowColor&&(n(this).find(".fp-controlArrow.fp-next").css("border-color","transparent transparent transparent "+i.controlArrowColor),n(this).find(".fp-controlArrow.fp-prev").css("border-color","transparent "+i.controlArrowColor+" transparent transparent")),i.loopHorizontal||n(this).find(".fp-controlArrow.fp-prev").hide(),i.slidesNavigation&&D(n(this),r),o.each(function(){n(this).css("width",a+"%"),i.verticalCentered&&S(n(this))}),t=t.find(".fp-slide.active"),0==t.length?o.eq(0).addClass("active"):O(t)}else i.verticalCentered&&S(n(this))}).promise().done(function(){n.fn.fullpage.setAutoScrolling(i.autoScrolling);var e=n(".fp-section.active").find(".fp-slide.active");if(e.length&&(0!=n(".fp-section.active").index(".fp-section")||0==n(".fp-section.active").index(".fp-section")&&0!=e.index())&&O(e),i.fixedElements&&i.css3&&n(i.fixedElements).appendTo("body"),i.navigation&&(V.css("margin-top","-"+V.height()/2+"px"),V.find("li").eq(n(".fp-section.active").index(".fp-section")).find("a").addClass("active")),i.menu&&i.css3&&n(i.menu).closest(".fullpage-wrapper").length&&n(i.menu).appendTo("body"),i.scrollOverflow?(W.hasClass("fullpage-used")&&r(),n(window).on("load",r)):n.isFunction(i.afterRender)&&i.afterRender.call(this),e=window.location.hash.replace("#","").split("/")[0],e.length){var t=n('[data-anchor="'+e+'"]');!i.animateAnchor&&t.length&&(i.autoScrolling?N(t.position().top):(N(0),n("html, body").scrollTop(t.position().top)),w(e),b(e,null),n.isFunction(i.afterLoad)&&i.afterLoad.call(this,e,t.index(".fp-section")+1),t.addClass("active").siblings().removeClass("active"))}n(window).on("load",function(){var e=window.location.hash.replace("#","").split("/"),t=e[0],e=e[1];t&&P(t,e)})});var X,Q=!1;n(window).on("scroll",a);var J=0,K=0,Z=0,et=0;n.fn.fullpage.moveSectionUp=function(){var e=n(".fp-section.active").prev(".fp-section");e.length||!i.loopTop&&!i.continuousVertical||(e=n(".fp-section").last()),e.length&&g(e,null,!0)},n.fn.fullpage.moveSectionDown=function(){var e=n(".fp-section.active").next(".fp-section");e.length||!i.loopBottom&&!i.continuousVertical||(e=n(".fp-section").first()),e.length&&g(e,null,!1)},n.fn.fullpage.moveTo=function(e,t){var i="",i=isNaN(e)?n('[data-anchor="'+e+'"]'):n(".fp-section").eq(e-1);"undefined"!=typeof t?P(e,t):0<i.length&&g(i)},n.fn.fullpage.moveSlideRight=function(){f("next")},n.fn.fullpage.moveSlideLeft=function(){f("prev")},n(window).on("hashchange",m),n(document).keydown(function(e){if(i.keyboardScrolling&&!Y)switch(e.which){case 38:case 33:n.fn.fullpage.moveSectionUp();break;case 40:case 34:n.fn.fullpage.moveSectionDown();break;case 36:n.fn.fullpage.moveTo(1);break;case 35:n.fn.fullpage.moveTo(n(".fp-section").length);break;case 37:n.fn.fullpage.moveSlideLeft();break;case 39:n.fn.fullpage.moveSlideRight()}}),n(document).on("click touchstart","#fp-nav a",function(e){e.preventDefault(),e=n(this).parent().index(),g(n(".fp-section").eq(e))}),n(document).on("click touchstart",".fp-slidesNav a",function(e){e.preventDefault(),e=n(this).closest(".fp-section").find(".fp-slides");var t=e.find(".fp-slide").eq(n(this).closest("li").index());v(e,t)}),n(document).on({mouseenter:function(){var e=n(this).data("tooltip");n('<div class="fp-tooltip '+i.navigationPosition+'">'+e+"</div>").hide().appendTo(n(this)).fadeIn(200)},mouseleave:function(){n(this).find(".fp-tooltip").fadeOut(200,function(){n(this).remove()})}},"#fp-nav li"),i.normalScrollElements&&(n(document).on("mouseenter",i.normalScrollElements,function(){n.fn.fullpage.setMouseWheelScrolling(!1)}),n(document).on("mouseleave",i.normalScrollElements,function(){n.fn.fullpage.setMouseWheelScrolling(!0)})),n(".fp-section").on("click",".fp-controlArrow",function(){n(this).hasClass("fp-prev")?n.fn.fullpage.moveSlideLeft():n.fn.fullpage.moveSlideRight()}),n(".fp-section").on("click",".toSlide",function(e){e.preventDefault(),e=n(this).closest(".fp-section").find(".fp-slides"),e.find(".fp-slide.active");var t=null,t=e.find(".fp-slide").eq(n(this).data("index")-1);0<t.length&&v(e,t)}),n(window).resize(_);var tt;n.fn.fullpage.reBuild=function(){G=!0;var e=n(window).width();q=n(window).height(),i.resize&&y(q,e),n(".fp-section").each(function(){if(parseInt(n(this).css("padding-bottom")),parseInt(n(this).css("padding-top")),i.verticalCentered&&n(this).find(".fp-tableCell").css("height",C(n(this))+"px"),n(this).css("height",q+"px"),i.scrollOverflow){var e=n(this).find(".fp-slide");e.length?e.each(function(){T(n(this))}):T(n(this))}e=n(this).find(".fp-slides"),e.length&&v(e,e.find(".fp-slide.active"))}),n(".fp-section.active").position(),e=n(".fp-section.active"),e.index(".fp-section")&&g(e),G=!1,n.isFunction(i.afterResize)&&i.afterResize.call(this)},n.fn.fullpage.destroy=function(e){n.fn.fullpage.setAutoScrolling(!1),n.fn.fullpage.setAllowScrolling(!1),n.fn.fullpage.setKeyboardScrolling(!1),n(window).off("scroll",a).off("hashchange",m).off("resize",_),n(document).off("click","#fp-nav a").off("mouseenter","#fp-nav li").off("mouseleave","#fp-nav li").off("click",".fp-slidesNav a").off("mouseover",i.normalScrollElements).off("mouseout",i.normalScrollElements),n(".fp-section").off("click",".fp-controlArrow").off("click",".toSlide"),e&&j()}}}(n)}).call(this),"undefined"==typeof Package&&(Package={}),Package["lawshe:full-page"]={}}(),function(){Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery;(function(){!function(e){var t,n,i,o,r,a,s,l="Close",c="BeforeClose",u="AfterClose",d="BeforeAppend",h="MarkupParse",f="Open",p="Change",g="mfp",m="."+g,v="mfp-ready",_="mfp-removing",y="mfp-prevent-close",b=function(){},w=!!window.jQuery,k=e(window),T=function(e,n){t.ev.on(g+e+m,n)},x=function(t,n,i,o){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),o?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r},S=function(n,i){t.ev.triggerHandler(g+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},C=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},E=function(){e.magnificPopup.instance||(t=new b,t.init(),e.magnificPopup.instance=t)},P=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};b.prototype={constructor:b,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=P(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),o=e(document),t.popupsCache={}},open:function(n){i||(i=e(document.body));var r;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var s,l=n.items;for(r=0;r<l.length;r++)if(s=l[r],s.parsed&&(s=s.el[0]),s===n.el[0]){t.index=r;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],a="",t.ev=n.mainEl&&n.mainEl.length?n.mainEl.eq(0):o,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=x("bg").on("click"+m,function(){t.close()}),t.wrap=x("wrap").attr("tabindex",-1).on("click"+m,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=x("container",t.wrap)),t.contentContainer=x("content"),t.st.preloader&&(t.preloader=x("preloader",t.container,t.st.tLoading));var c=e.magnificPopup.modules;for(r=0;r<c.length;r++){var u=c[r];u=u.charAt(0).toUpperCase()+u.slice(1),t["init"+u].call(t)}S("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(T(h,function(e,t,n,i){n.close_replaceWith=C(i.type)}),a+=" mfp-close-btn-in"):t.wrap.append(C())),t.st.alignTop&&(a+=" mfp-align-top"),t.wrap.css(t.fixedContentPos?{overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}:{top:k.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:o.height(),position:"absolute"}),t.st.enableEscapeKey&&o.on("keyup"+m,function(e){27===e.keyCode&&t.close()}),k.on("resize"+m,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var d=t.wH=k.height(),p={};if(t.fixedContentPos&&t._hasScrollBar(d)){var g=t._getScrollbarSize();g&&(p.marginRight=g)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):p.overflow="hidden");var _=t.st.mainClass;return t.isIE7&&(_+=" mfp-ie7"),_&&t._addClassToMFP(_),t.updateItemHTML(),S("BuildControls"),e("html").css(p),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||i),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),o.on("focusin"+m,t._onFocusIn)
},16),t.isOpen=!0,t.updateSize(d),S(f),n},close:function(){t.isOpen&&(S(c),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(_),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){S(l);var n=_+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var i={marginRight:""};t.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}o.off("keyup"+m+" focusin"+m),t.ev.off(m),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,S(u)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||k.height();t.fixedContentPos||t.wrap.css("height",t.wH),S("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(S("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var o=t.st[i]?t.st[i].markup:!1;S("FirstMarkupParse",o),t.currTemplate[i]=o?e(o):!0}r&&r!==n.type&&t.container.removeClass("mfp-"+r+"-holder");var a=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(a,i),n.preloaded=!0,S(p,n),r=n.type,t.container.prepend(t.contentContainer),S("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(C()):t.content=e:t.content="",S(d),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,o=t.items[n];if(o.tagName?o={el:e(o)}:(i=o.type,o={data:o,src:o.src}),o.el){for(var r=t.types,a=0;a<r.length;a++)if(o.el.hasClass("mfp-"+r[a])){i=r[a];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=i||t.st.type||"inline",o.index=n,o.parsed=!0,t.items[n]=o,S("ElementParse",o),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var o="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(o).on(o,i)):(n.isObj=!1,n.delegate?e.off(o).on(o,n.delegate,i):(n.items=e,e.off(o).on(o,i)))},_openClick:function(n,i,o){var r=void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick;if(r||2!==n.which&&!n.ctrlKey&&!n.metaKey){var a=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(k.width()<a)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),o.el=e(n.mfpEl),o.delegate&&(o.items=i.find(o.delegate)),t.open(o)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var o={status:e,text:i};S("UpdateStatus",o),e=o.status,i=o.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(y)){var i=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(i&&o)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(o&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?o.height():document.body.scrollHeight)>(e||k.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,i){var o;i.data&&(n=e.extend(i.data,n)),S(h,[t,n,i]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(o=e.split("_"),o.length>1){var i=t.find(m+"-"+o[0]);if(i.length>0){var r=o[1];"replaceWith"===r?i[0]!==n[0]&&i.replaceWith(n):"img"===r?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(o[1],n)}}else t.find(m+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:b.prototype,modules:[],open:function(t,n){return E(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){E();var i=e(this);if("string"==typeof n)if("open"===n){var o,r=w?i.data("magnificPopup"):i[0].magnificPopup,a=parseInt(arguments[1],10)||0;r.items?o=r.items[a]:(o=i,r.delegate&&(o=o.find(r.delegate)),o=o.eq(a)),t._openClick({mfpEl:o},i,r)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),w?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var M,D,I,L="inline",A=function(){I&&(D.after(I.addClass(M)).detach(),I=null)};e.magnificPopup.registerModule(L,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(L),T(l+"."+L,function(){A()})},getInline:function(n,i){if(A(),n.src){var o=t.st.inline,r=e(n.src);if(r.length){var a=r[0].parentNode;a&&a.tagName&&(D||(M=o.hiddenClass,D=x(M),M="mfp-"+M),I=r.after(D).detach().removeClass(M)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),r=e("<div>");return n.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var H,O="ajax",N=function(){H&&i.removeClass(H)},R=function(){N(),t.req&&t.req.abort()};e.magnificPopup.registerModule(O,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(O),H=t.st.ajax.cursor,T(l+"."+O,R),T("BeforeChange."+O,R)},getAjax:function(n){H&&i.addClass(H),t.updateStatus("loading");var o=e.extend({url:n.src,success:function(i,o,r){var a={data:i,xhr:r};S("ParseAjax",a),t.appendContent(e(a.data),O),n.finished=!0,N(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),S("AjaxContentAdded")},error:function(){N(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(o),""}}});var j,B=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,n=".image";t.types.push("image"),T(f+n,function(){"image"===t.currItem.type&&e.cursor&&i.addClass(e.cursor)}),T(l+n,function(){e.cursor&&i.removeClass(e.cursor),k.off("resize"+m)}),T("Resize"+n,t.resizeImage),t.isLowIE&&T("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,j&&clearInterval(j),e.isCheckingImgSize=!1,S("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(r){j&&clearInterval(j),j=setInterval(function(){return i.naturalWidth>0?void t._onImageHasSize(e):(n>200&&clearInterval(j),n++,void(3===n?o(10):40===n?o(50):100===n&&o(500)))},r)};o(1)},getImage:function(n,i){var o=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,S("ImageLoadComplete")):(o++,200>o?setTimeout(r,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.img=e(c).on("load.mfploader",r).on("error.mfploader",a),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),c=n.img[0],c.naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:B(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(j&&clearInterval(j),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var F,V=function(){return void 0===F&&(F=void 0!==document.createElement("p").style.MozTransform),F};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var o,r,a=n.duration,s=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=i,t.css(o),t},u=function(){t.content.css("visibility","visible")};T("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void u();r=s(e),r.css(t._getOffset()),t.wrap.append(r),o=setTimeout(function(){r.css(t._getOffset(!0)),o=setTimeout(function(){u(),setTimeout(function(){r.remove(),e=r=null,S("ZoomAnimationEnded")},16)},a)},16)}}),T(c+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=a,!e){if(e=t._getItemToZoom(),!e)return;r=s(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout(function(){r.css(t._getOffset())},16)}}),T(l+i,function(){t._allowZoom()&&(u(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var o=i.offset(),r=parseInt(i.css("padding-top"),10),a=parseInt(i.css("padding-bottom"),10);o.top-=e(window).scrollTop()-r;var s={width:i.width(),height:(w?i.innerHeight():i[0].offsetHeight)-a-r};return V()?s["-moz-transform"]=s.transform="translate("+o.left+"px,"+o.top+"px)":(s.left=o.left,s.top=o.top),s}}});var z="iframe",$="//about:blank",U=function(e){if(t.currTemplate[z]){var n=t.currTemplate[z].find("iframe");n.length&&(e||(n[0].src=$),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(z),T("BeforeChange",function(e,t,n){t!==n&&(t===z?U():n===z&&U(!0))}),T(l+"."+z,function(){U()})},getIframe:function(n,i){var o=n.src,r=t.st.iframe;e.each(r.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var a={};return r.srcAction&&(a[r.srcAction]=o),t._parseMarkup(i,a,n),t.updateStatus("ready"),i}}});var W=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},q=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,i=".mfp-gallery",r=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(a+=" mfp-gallery",T(f+i,function(){n.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),o.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),T("UpdateStatus"+i,function(e,n){n.text&&(n.text=q(n.text,t.currItem.index,t.items.length))}),T(h+i,function(e,i,o,r){var a=t.items.length;o.counter=a>1?q(n.tCounter,r.index,a):""}),T("BuildControls"+i,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,o=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(y),a=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(y),s=r?"mfpFastClick":"click";o[s](function(){t.prev()}),a[s](function(){t.next()}),t.isIE7&&(x("b",o[0],!1,!0),x("a",o[0],!1,!0),x("b",a[0],!1,!0),x("a",a[0],!1,!0)),t.container.append(o.add(a))}}),T(p+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void T(l+i,function(){o.off(i),t.wrap.off("click"+i),t.arrowLeft&&r&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=W(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=W(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),o=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?o:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:o);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=W(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),S("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,S("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var Y="retina";e.magnificPopup.registerModule(Y,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(T("ImageHasSize."+Y,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),T("ElementParse."+Y,function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),function(){var t=1e3,n="ontouchstart"in window,i=function(){k.off("touchmove"+r+" touchend"+r)},o="mfpFastClick",r="."+o;e.fn.mfpFastClick=function(o){return e(this).each(function(){var a,s=e(this);if(n){var l,c,u,d,h,f;s.on("touchstart"+r,function(e){d=!1,f=1,h=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=h.clientX,u=h.clientY,k.on("touchmove"+r,function(e){h=e.originalEvent?e.originalEvent.touches:e.touches,f=h.length,h=h[0],(Math.abs(h.clientX-c)>10||Math.abs(h.clientY-u)>10)&&(d=!0,i())}).on("touchend"+r,function(e){i(),d||f>1||(a=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){a=!1},t),o())})})}s.on("click"+r,function(){a||o()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+r+" click"+r),n&&k.off("touchmove"+r+" touchend"+r)}}(),E()}(window.jQuery||window.Zepto)}).call(this),"undefined"==typeof Package&&(Package={}),Package["gabrielengel:konecty-magnific-popup"]={}}(),function(){var e,t=Package.meteor.Meteor,n=Package["accounts-base"].Accounts,i=Package.mongo.Mongo;(function(){"undefined"==typeof e&&(e={}),e.configurations=new i.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:t.isClient?n.connection:t.connection}),e.ConfigError=function(e){this.message=t.isClient&&!n.loginServicesConfigured()?"Login service configuration not yet loaded":e?"Service "+e+" not configured":"Service not configured"},e.ConfigError.prototype=new Error,e.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),Package["service-configuration"]={ServiceConfiguration:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package.underscore._,Package["reactive-dict"].ReactiveDict);Package.ejson.EJSON}(function(){e=new t("session")}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:e}}(),function(){var e,t,n,i,o,r,a,s,l=Package.meteor.Meteor,c=(Package.tracker.Tracker,Package.tracker.Deps),u=Package["service-configuration"].ServiceConfiguration,d=Package["accounts-base"].Accounts,h=Package.underscore._,f=Package.templating.Template,p=Package.session.Session,g=Package.blaze.Blaze,m=Package.blaze.UI,v=(Package.blaze.Handlebars,Package.htmljs.HTML);(function(){d.ui={},d.ui._options={requestPermissions:{},requestOfflineToken:{}},d.ui.config=function(e){var t=["passwordSignupFields","requestPermissions","requestOfflineToken"];if(h.each(h.keys(e),function(e){if(!h.contains(t,e))throw new Error("Accounts.ui.config: Invalid key: "+e)}),e.passwordSignupFields){if(!h.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY","EMAIL_ONLY"],e.passwordSignupFields))throw new Error("Accounts.ui.config: Invalid option for `passwordSignupFields`: "+e.passwordSignupFields);if(d.ui._options.passwordSignupFields)throw new Error("Accounts.ui.config: Can't set `passwordSignupFields` more than once");d.ui._options.passwordSignupFields=e.passwordSignupFields}e.requestPermissions&&h.each(e.requestPermissions,function(e,t){if(d.ui._options.requestPermissions[t])throw new Error("Accounts.ui.config: Can't set `requestPermissions` more than once for "+t);if(!(e instanceof Array))throw new Error("Accounts.ui.config: Value for `requestPermissions` must be an array");d.ui._options.requestPermissions[t]=e}),e.requestOfflineToken&&h.each(e.requestOfflineToken,function(e,t){if("google"!==t)throw new Error("Accounts.ui.config: `requestOfflineToken` only supported for Google login at the moment.");if(d.ui._options.requestOfflineToken[t])throw new Error("Accounts.ui.config: Can't set `requestOfflineToken` more than once for "+t);d.ui._options.requestOfflineToken[t]=e})},e=function(){return d.ui._options.passwordSignupFields||"EMAIL_ONLY"}}).call(this),function(){f.__define__("loginButtons",function(){var e=this;return Spacebars.include(e.lookupTemplate("_loginButtons"))}),f.__define__("_loginButtons",function(){var e=this;return v.DIV({id:"login-buttons","class":function(){return["login-buttons-dropdown-align-",Spacebars.mustache(e.lookup("align"))]}},"\n    ",g.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return["\n      ",g.If(function(){return Spacebars.call(e.lookup("loggingIn"))},function(){return["\n        \n        ",g.If(function(){return Spacebars.call(e.lookup("dropdown"))},function(){return["\n          ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]},function(){return["\n          ",v.DIV({"class":"login-buttons-with-only-one-button"},"\n            ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n          "),"\n        "]}),"\n      "]},function(){return["\n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedIn")),"\n      "]}),"\n    "]},function(){return["\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOut")),"\n    "]}),"\n  ")}),f.__define__("_loginButtonsLoggedIn",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("dropdown"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedInDropdown")),"\n  "]},function(){return["\n    ",v.DIV({"class":"login-buttons-with-only-one-button"},"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedInSingleLogoutButton")),"\n    "),"\n  "]})}),f.__define__("_loginButtonsLoggedOut",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("services"))},function(){return[" \n    ",g.If(function(){return Spacebars.call(e.lookup("configurationLoaded"))},function(){return["\n      ",g.If(function(){return Spacebars.call(e.lookup("dropdown"))},function(){return[" \n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutDropdown")),"\n      "]},function(){return["\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("singleService"))},function(){return[" \n          ",v.DIV({"class":"login-buttons-with-only-one-button"},"\n            ",g.If(function(){return Spacebars.call(e.lookup("loggingIn"))},function(){return["\n              ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n            "]},function(){return["\n              ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n            "]}),"\n          "),"\n        "]}),"\n      "]}),"\n    "]}),"\n  "]},function(){return["\n    ",v.DIV({"class":"no-services"},"No login services configured"),"\n  "]})}),f.__define__("_loginButtonsMessages",function(){var e=this;return[g.If(function(){return Spacebars.call(e.lookup("errorMessage"))},function(){return["\n    ",v.DIV({"class":"alert alert-error"},g.View(function(){return Spacebars.mustache(e.lookup("errorMessage"))})),"\n  "]}),"\n  ",g.If(function(){return Spacebars.call(e.lookup("infoMessage"))},function(){return["\n    ",v.DIV({"class":"alert alert-success no-margin"},g.View(function(){return Spacebars.mustache(e.lookup("infoMessage"))})),"\n  "]})]}),f.__define__("_loginButtonsLoggingIn",function(){var e=this;return[Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInPadding")),v.Raw('\n  <div class="loading">&nbsp;</div>\n  '),Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInPadding"))]}),f.__define__("_loginButtonsLoggingInPadding",function(){var e=this;return g.Unless(function(){return Spacebars.call(e.lookup("dropdown"))},function(){return["\n    \n    ",v.DIV({"class":"login-buttons-padding"},"\n      ",v.DIV({"class":"login-button single-login-button",style:"visibility: hidden;",id:"login-buttons-logout"},v.CharRef({html:"&nbsp;",str:" "})),"\n    "),"\n  "]},function(){return["\n    \n    ",v.DIV({"class":"login-buttons-padding"}),"\n  "]})})}.call(this),function(){f.__define__("_loginButtonsLoggedOutSingleLoginButton",function(){var e=this;return v.DIV({"class":"login-text-and-button"},"\n    ",v.DIV({"class":function(){return["login-button single-login-button ",g.Unless(function(){return Spacebars.call(e.lookup("configured"))},function(){return"configure-button"})]},id:function(){return["login-buttons-",Spacebars.mustache(e.lookup("name"))]}},"\n      ",v.DIV({"class":"login-image",id:function(){return["login-buttons-image-",Spacebars.mustache(e.lookup("name"))]}}),"\n      ",g.If(function(){return Spacebars.call(e.lookup("configured"))},function(){return["\n        ",v.SPAN({"class":function(){return["text-besides-image sign-in-text-",Spacebars.mustache(e.lookup("name"))]}},"Sign in with ",g.View(function(){return Spacebars.mustache(e.lookup("capitalizedName"))})),"\n      "]},function(){return["\n        ",v.SPAN({"class":function(){return["text-besides-image configure-text-",Spacebars.mustache(e.lookup("name"))]}},"Configure ",g.View(function(){return Spacebars.mustache(e.lookup("capitalizedName"))})," Login"),"\n      "]}),"\n    "),"\n  ")}),f.__define__("_loginButtonsLoggingInSingleLoginButton",function(){var e=this;return v.DIV({"class":"login-text-and-button"},"\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingIn")),"\n  ")}),f.__define__("_loginButtonsLoggedInSingleLogoutButton",function(){var e=this;return v.DIV({"class":"login-text-and-button"},"\n    ",v.DIV({"class":"login-display-name"},"\n      ",g.View(function(){return Spacebars.mustache(e.lookup("displayName"))}),"\n    "),v.Raw('\n    <div class="login-button single-login-button" id="login-buttons-logout">Sign Out</div>\n  '))})}.call(this),function(){f.__define__("_loginButtonsLoggedInDropdown",function(){var e=this;return v.DIV({"class":"dropdown"},"\n    ",v.UL({"class":"nav pull-right"},"\n      ",v.LI({id:"login-dropdown-list"},"\n        ",v.A({"class":"dropdown-toggle",href:"#","data-toggle":"dropdown"},g.View(function(){return Spacebars.mustache(e.lookup("displayName"))}),v.Raw('<strong class="caret"></strong>')),"\n        ",v.DIV({"class":"dropdown-menu",style:"padding: 20px; padding-bottom: 20px;"},"   \n          ",g.If(function(){return Spacebars.call(e.lookup("inMessageOnlyFlow"))},function(){return["\n            ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n          "]},function(){return["\n            ",g.If(function(){return Spacebars.call(e.lookup("inChangePasswordFlow"))},function(){return["\n              ",Spacebars.include(e.lookupTemplate("_loginButtonsChangePassword")),"\n            "]},function(){return["\n              ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedInDropdownActions")),"\n            "]}),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  ")}),f.__define__("_loginButtonsLoggedInDropdownActions",function(){var e=this;return[v.Raw('<button class="btn btn-block btn-primary" id="login-buttons-logout">Sign out</button>\n  '),g.If(function(){return Spacebars.call(e.lookup("allowChangingPassword"))},function(){return["\n    ",v.BUTTON({"class":"btn btn-block",id:"login-buttons-open-change-password"},"Change password"),"\n  "]})]}),f.__define__("_loginButtonsLoggedOutDropdown",function(){var e=this;return v.DIV({"class":"nav-collapse collapse"},"\n    ",v.UL({"class":"nav pull-right"},"\n      ",v.LI({id:"login-dropdown-list","class":"dropdown"},"\n        ",v.Raw('<a class="dropdown-toggle" href="#" data-toggle="dropdown">Sign In / Up <strong class="caret"></strong></a>'),"\n        ",v.DIV({"class":"dropdown-menu",style:"padding: 20px; padding-bottom: 20px;"},"   \n          ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutAllServices")),"\n        "),"\n      "),"\n    "),"\n  ")}),f.__define__("_loginButtonsLoggedOutAllServices",function(){var e=this;return[g.Each(function(){return Spacebars.call(e.lookup("services"))},function(){return["\n    ",g.If(function(){return Spacebars.call(e.lookup("isPasswordService"))},function(){return["\n      ",g.If(function(){return Spacebars.call(e.lookup("hasOtherServices"))},function(){return[" \n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutPasswordServiceSeparator")),"\n      "]}),"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutPasswordService")),"\n    "]},function(){return["\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n    "]}),"\n  "]}),"\n  ",g.Unless(function(){return Spacebars.call(e.lookup("hasPasswordService"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n  "]})]}),f.__define__("_loginButtonsLoggedOutPasswordServiceSeparator",function(){return v.Raw('<div class="or">\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n    <span class="or-text">or</span>\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n  </div>')}),f.__define__("_loginButtonsLoggedOutPasswordService",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("inForgotPasswordFlow"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("_forgotPasswordForm")),"\n  "]},function(){return["\n    ",g.Each(function(){return Spacebars.call(e.lookup("fields"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsFormField")),"\n    "]}),"\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n    ",v.BUTTON({"class":"btn btn-primary",id:"login-buttons-password",type:"button"},"\n      ",g.If(function(){return Spacebars.call(e.lookup("inSignupFlow"))},function(){return"\n        Create\n      "},function(){return"\n        Sign in\n      "}),"\n    "),"\n    ",g.If(function(){return Spacebars.call(e.lookup("inLoginFlow"))},function(){return["\n      ",g.If(function(){return Spacebars.call(e.lookup("showCreateAccountLink"))},function(){return["\n        ",v.BUTTON({id:"signup-link","class":"btn",type:"button"},"Create account"),"\n      "]}),"\n      ",g.If(function(){return Spacebars.call(e.lookup("showForgotPasswordLink"))},function(){return["\n      ",v.DIV("\n        ",v.A({id:"forgot-password-link"},"Forgot password"),"\n      "),"\n      "]}),"\n    "]}),"\n    ",g.If(function(){return Spacebars.call(e.lookup("inSignupFlow"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsBackToLoginLink")),"\n    "]}),"\n  "]})}),f.__define__("_forgotPasswordForm",function(){var e=this;return v.DIV({"class":"login-form"},v.Raw('\n    <div id="forgot-password-email-label-and-input"> \n      <label id="forgot-password-email-label" for="forgot-password-email">Email</label>\n      <input id="forgot-password-email" type="email">\n    </div>\n    '),Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),v.Raw('\n    <button class="btn btn-primary login-button-form-submit" id="login-buttons-forgot-password">Reset password</button>\n    '),Spacebars.include(e.lookupTemplate("_loginButtonsBackToLoginLink")),"\n  ")}),f.__define__("_loginButtonsBackToLoginLink",function(){return v.Raw('<button id="back-to-login-link" class="btn">Cancel</button>')}),f.__define__("_loginButtonsFormField",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("visible"))},function(){return["\n    ",v.LABEL({id:function(){return["login-",Spacebars.mustache(e.lookup("fieldName")),"-label"]},"for":function(){return["login-",Spacebars.mustache(e.lookup("fieldName"))]}},g.View(function(){return Spacebars.mustache(e.lookup("fieldLabel"))})),"\n    ",v.INPUT({id:function(){return["login-",Spacebars.mustache(e.lookup("fieldName"))]},type:function(){return Spacebars.mustache(e.lookup("inputType"))}}),"\n  "]})}),f.__define__("_loginButtonsChangePassword",function(){var e=this;return[g.Each(function(){return Spacebars.call(e.lookup("fields"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsFormField")),"\n  "]}),"\n  ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),v.Raw('\n  <div>\n    <button class="btn btn-primary" id="login-buttons-do-change-password">Change password</button>\n    <button class="btn login-close">Close</button>\n  </div>')]
})}.call(this),function(){f.__body__.__contentParts.push(g.View("body_content_"+f.__body__.__contentParts.length,function(){var e=this;return[Spacebars.include(e.lookupTemplate("_resetPasswordDialog")),"\n  ",Spacebars.include(e.lookupTemplate("_enrollAccountDialog")),"\n  ",Spacebars.include(e.lookupTemplate("_justVerifiedEmailDialog")),"\n  ",Spacebars.include(e.lookupTemplate("_configureLoginServiceDialog")),v.Raw("\n\n  <!-- if we're not showing a dropdown, we need some other place to show messages -->\n  "),Spacebars.include(e.lookupTemplate("_loginButtonsMessagesDialog"))]})),l.startup(f.__body__.__instantiate),f.__define__("_resetPasswordDialog",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("inResetPasswordFlow"))},function(){return["\n    ",v.DIV({"class":"hide-background"}),"\n\n    ",v.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      ",v.LABEL({id:"reset-password-new-password-label","for":"reset-password-new-password"},"\n        New password\n      "),"\n      ",v.INPUT({id:"reset-password-new-password",type:"password"}),"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n      ",v.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-reset-password-button"},"\n        Set password\n      "),"\n      ",v.A({"class":"accounts-close",id:"login-buttons-cancel-reset-password"},v.CharRef({html:"&times;",str:"×"})),"\n    "),"\n  "]})}),f.__define__("_enrollAccountDialog",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("inEnrollAccountFlow"))},function(){return["\n    ",v.DIV({"class":"hide-background"}),"\n    ",v.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      ",v.LABEL({id:"enroll-account-password-label","for":"enroll-account-password"},"\n        Choose a password\n      "),"\n      ",v.INPUT({id:"enroll-account-password",type:"password"}),"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n      ",v.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-enroll-account-button"},"\n        Create account\n      "),"\n      ",v.A({"class":"accounts-close",id:"login-buttons-cancel-enroll-account"},v.CharRef({html:"&times;",str:"×"})),"\n    "),"\n  "]})}),f.__define__("_justVerifiedEmailDialog",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("visible"))},function(){return["\n    ",v.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      Email verified\n      ",v.DIV({"class":"login-button",id:"just-verified-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})}),f.__define__("_configureLoginServiceDialog",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("visible"))},function(){return["\n    ",v.DIV({id:"configure-login-service-dialog","class":"accounts-dialog accounts-centered-dialog"},"\n      ",g.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("configurationSteps")))}),"\n      ",v.P("\n        Now, copy over some details.\n      "),"\n      ",v.P("\n        ",v.TABLE("\n          ",v.COLGROUP("\n            ",v.COL({span:"1","class":"configuration_labels"}),"\n            ",v.COL({span:"1","class":"configuration_inputs"}),"\n          "),"\n          ",g.Each(function(){return Spacebars.call(e.lookup("configurationFields"))},function(){return["\n            ",v.TR("\n              ",v.TD("\n                ",v.LABEL({"for":function(){return["configure-login-service-dialog-",Spacebars.mustache(e.lookup("property"))]}},g.View(function(){return Spacebars.mustache(e.lookup("label"))})),"\n              "),"\n              ",v.TD("\n                ",v.INPUT({id:function(){return["configure-login-service-dialog-",Spacebars.mustache(e.lookup("property"))]},type:"text"}),"\n              "),"\n            "),"\n          "]}),"\n        "),"\n      "),"\n      ",v.DIV({"class":"new-section"},"\n        ",v.DIV({"class":"login-button configure-login-service-dismiss-button"},"\n          I'll do this later\n        "),"\n        ",v.A({"class":"accounts-close configure-login-service-dismiss-button"},v.CharRef({html:"&times;",str:"×"})),"\n\n        ",v.DIV({"class":function(){return["login-button login-button-configure ",g.If(function(){return Spacebars.call(e.lookup("saveDisabled"))},function(){return"login-button-disabled"})]},id:"configure-login-service-dialog-save-configuration"},"\n          Save Configuration\n        "),"\n      "),"\n    "),"\n  "]})}),f.__define__("_loginButtonsMessagesDialog",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("visible"))},function(){return["\n    ",v.DIV({"class":"accounts-dialog accounts-centered-dialog",id:"login-buttons-message-dialog"},"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n      ",v.DIV({"class":"login-button",id:"messages-dialog-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})})}.call(this),function(){var e=["dropdownVisible","inSignupFlow","inForgotPasswordFlow","inChangePasswordFlow","inMessageOnlyFlow","errorMessage","infoMessage","resetPasswordToken","enrollAccountToken","justVerifiedEmail","configureLoginServiceDialogVisible","configureLoginServiceDialogServiceName","configureLoginServiceDialogSaveDisabled"],t=function(t){if(!h.contains(e,t))throw new Error("Invalid key in loginButtonsSession: "+t)},n="Meteor.loginButtons.";d._loginButtonsSession={set:function(e,n){if(t(e),h.contains(["errorMessage","infoMessage"],e))throw new Error("Don't set errorMessage or infoMessage directly. Instead, use errorMessage() or infoMessage().");this._set(e,n)},_set:function(e,t){p.set(n+e,t)},get:function(e){return t(e),p.get(n+e)},closeDropdown:function(){this.set("inSignupFlow",!1),this.set("inForgotPasswordFlow",!1),this.set("inChangePasswordFlow",!1),this.set("inMessageOnlyFlow",!1),this.set("dropdownVisible",!1),this.resetMessages()},infoMessage:function(e){this._set("errorMessage",null),this._set("infoMessage",e),this.ensureMessageVisible()},errorMessage:function(e){this._set("errorMessage",e),this._set("infoMessage",null),this.ensureMessageVisible()},isMessageDialogVisible:function(){return this.get("resetPasswordToken")||this.get("enrollAccountToken")||this.get("justVerifiedEmail")},ensureMessageVisible:function(){this.isMessageDialogVisible()||this.set("dropdownVisible",!0)},resetMessages:function(){this._set("errorMessage",null),this._set("infoMessage",null)},configureService:function(e){this.set("configureLoginServiceDialogVisible",!0),this.set("configureLoginServiceDialogServiceName",e),this.set("configureLoginServiceDialogSaveDisabled",!0)}}}.call(this),function(){var c=d._loginButtonsSession;f._loginButtons.events({"click #login-buttons-logout":function(){l.logout(function(){c.closeDropdown()})}}),m.registerHelper("loginButtons",function(){throw new Error("Use {{> loginButtons}} instead of {{loginButtons}}")}),t=function(){var e=l.user();return e?e.profile&&e.profile.name?e.profile.name:e.username?e.username:e.emails&&e.emails[0]&&e.emails[0].address?e.emails[0].address:"":""},n=function(){var e=Package["accounts-oauth"]?d.oauth.serviceNames():[];return e.sort(),i()&&e.push("password"),h.map(e,function(e){return{name:e}})},i=function(){return!!Package["accounts-password"]},o=function(){return i()||n().length>1},r=function(e){return e.length>=3?!0:(c.errorMessage("Username must be at least 3 characters long"),!1)},a=function(t){return"USERNAME_AND_OPTIONAL_EMAIL"===e()&&""===t?!0:-1!==t.indexOf("@")?!0:(c.errorMessage("Invalid email"),!1)},s=function(e){return e.length>=6?!0:(c.errorMessage("Password must be at least 6 characters long"),!1)},f._loginButtonsLoggedOut.dropdown=o,f._loginButtonsLoggedOut.services=n,f._loginButtonsLoggedOut.singleService=function(){var e=n();if(1!==e.length)throw new Error("Shouldn't be rendering this template with more than one configured service");return e[0]},f._loginButtonsLoggedOut.configurationLoaded=function(){return d.loginServicesConfigured()},f._loginButtonsLoggedIn.dropdown=o,f._loginButtonsLoggedInSingleLogoutButton.displayName=t,f._loginButtonsMessages.errorMessage=function(){return c.get("errorMessage")},f._loginButtonsMessages.infoMessage=function(){return c.get("infoMessage")},f._loginButtonsLoggingInPadding.dropdown=o}.call(this),function(){var e=d._loginButtonsSession;f._loginButtonsLoggedOutSingleLoginButton.events({"click .login-button":function(){var n=this.name;e.resetMessages();var i=function(t){t?t instanceof d.LoginCancelledError||(t instanceof u.ConfigError?e.configureService(n):e.errorMessage(t.reason||"Unknown error")):e.closeDropdown()},o=l["loginWith"+("meteor-developer"===n?"MeteorDeveloperAccount":t(n))],r={};d.ui._options.requestPermissions[n]&&(r.requestPermissions=d.ui._options.requestPermissions[n]),d.ui._options.requestOfflineToken[n]&&(r.requestOfflineToken=d.ui._options.requestOfflineToken[n]),o(r,i)}}),f._loginButtonsLoggedOutSingleLoginButton.configured=function(){return!!u.configurations.findOne({service:this.name})},f._loginButtonsLoggedOutSingleLoginButton.capitalizedName=function(){return"github"===this.name?"GitHub":"meteor-developer"===this.name?"Meteor":t(this.name)};var t=function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),function(){var o=d._loginButtonsSession;f._loginButtons.events({"click input, click label, click button, click .dropdown-menu, click .alert":function(e){e.stopPropagation()},"click #login-name-link, click #login-sign-in-link":function(){event.stopPropagation(),o.set("dropdownVisible",!0),c.flush()},"click .login-close":function(){o.closeDropdown()}}),f._loginButtonsLoggedInDropdown.events({"click #login-buttons-open-change-password":function(e){e.stopPropagation(),o.resetMessages(),o.set("inChangePasswordFlow",!0),c.flush(),v()}}),f._loginButtonsLoggedInDropdown.displayName=t,f._loginButtonsLoggedInDropdown.inChangePasswordFlow=function(){return o.get("inChangePasswordFlow")},f._loginButtonsLoggedInDropdown.inMessageOnlyFlow=function(){return o.get("inMessageOnlyFlow")},f._loginButtonsLoggedInDropdown.dropdownVisible=function(){return o.get("dropdownVisible")},f._loginButtonsLoggedInDropdownActions.allowChangingPassword=function(){var e=l.user();return e.username||e.emails&&e.emails[0]&&e.emails[0].address},f._loginButtonsLoggedOutDropdown.events({"click #login-buttons-password":function(){g()},"keypress #forgot-password-email":function(e){13===e.keyCode&&y()},"click #login-buttons-forgot-password":function(e){e.stopPropagation(),y()},"click #signup-link":function(e){e.stopPropagation(),o.resetMessages();{var t=p("login-username"),n=p("login-email"),i=p("login-username-or-email");u("login-password")}o.set("inSignupFlow",!0),o.set("inForgotPasswordFlow",!1),c.flush(),null!==t?document.getElementById("login-username").value=t:null!==n?document.getElementById("login-email").value=n:null!==i&&(-1===i.indexOf("@")?document.getElementById("login-username").value=i:document.getElementById("login-email").value=i)},"click #forgot-password-link":function(e){e.stopPropagation(),o.resetMessages();var t=p("login-email"),n=p("login-username-or-email");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!0),c.flush(),null!==t?document.getElementById("forgot-password-email").value=t:null!==n&&-1!==n.indexOf("@")&&(document.getElementById("forgot-password-email").value=n)},"click #back-to-login-link":function(){o.resetMessages();var e=p("login-username"),t=p("login-email")||p("forgot-password-email");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!1),c.flush(),document.getElementById("login-username")&&(document.getElementById("login-username").value=e),document.getElementById("login-email")&&(document.getElementById("login-email").value=t),document.getElementById("login-username-or-email")&&(document.getElementById("login-username-or-email").value=t||e)},"keypress #login-username, keypress #login-email, keypress #login-username-or-email, keypress #login-password, keypress #login-password-again":function(e){13===e.keyCode&&g()}}),f._loginButtonsLoggedOutDropdown.additionalClasses=function(){return i()?o.get("inSignupFlow")?"login-form-create-account":o.get("inForgotPasswordFlow")?"login-form-forgot-password":"login-form-sign-in":!1},f._loginButtonsLoggedOutDropdown.dropdownVisible=function(){return o.get("dropdownVisible")},f._loginButtonsLoggedOutDropdown.hasPasswordService=i,f._loginButtonsLoggedOutAllServices.services=n,f._loginButtonsLoggedOutAllServices.isPasswordService=function(){return"password"===this.name},f._loginButtonsLoggedOutAllServices.hasOtherServices=function(){return n().length>1},f._loginButtonsLoggedOutAllServices.hasPasswordService=i,f._loginButtonsLoggedOutPasswordService.fields=function(){var t=[{fieldName:"username-or-email",fieldLabel:"Username or Email",visible:function(){return h.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"],e())}},{fieldName:"username",fieldLabel:"Username",visible:function(){return"USERNAME_ONLY"===e()}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return"EMAIL_ONLY"===e()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}}],n=[{fieldName:"username",fieldLabel:"Username",visible:function(){return h.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return h.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],e())}},{fieldName:"email",fieldLabel:"Email (optional)",inputType:"email",visible:function(){return"USERNAME_AND_OPTIONAL_EMAIL"===e()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"Password (again)",inputType:"password",visible:function(){return h.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}}];return o.get("inSignupFlow")?n:t},f._loginButtonsLoggedOutPasswordService.inForgotPasswordFlow=function(){return o.get("inForgotPasswordFlow")},f._loginButtonsLoggedOutPasswordService.inLoginFlow=function(){return!o.get("inSignupFlow")&&!o.get("inForgotPasswordFlow")},f._loginButtonsLoggedOutPasswordService.inSignupFlow=function(){return o.get("inSignupFlow")},f._loginButtonsLoggedOutPasswordService.showCreateAccountLink=function(){return!d._options.forbidClientAccountCreation},f._loginButtonsLoggedOutPasswordService.showForgotPasswordLink=function(){return h.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"],e())},f._loginButtonsFormField.inputType=function(){return this.inputType||"text"},f._loginButtonsChangePassword.events({"keypress #login-old-password, keypress #login-password, keypress #login-password-again":function(e){13===e.keyCode&&b()},"click #login-buttons-do-change-password":function(e){e.stopPropagation(),b()}}),f._loginButtonsChangePassword.fields=function(){return[{fieldName:"old-password",fieldLabel:"Current Password",inputType:"password",visible:function(){return!0}},{fieldName:"password",fieldLabel:"New Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"New Password (again)",inputType:"password",visible:function(){return h.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}}]};var u=function(e){var t=document.getElementById(e);return t?t.value:null},p=function(e){var t=document.getElementById(e);return t?t.value.replace(/^\s*|\s*$/g,""):null},g=function(){o.get("inSignupFlow")?_():m()},m=function(){o.resetMessages();var e,t=p("login-username"),n=p("login-email"),i=p("login-username-or-email"),s=u("login-password");if(null!==t){if(!r(t))return;e={username:t}}else if(null!==n){if(!a(n))return;e={email:n}}else{if(null===i)throw new Error("Unexpected -- no element to use as a login user selector");if(!r(i))return;e=i}l.loginWithPassword(e,s,function(e){e?o.errorMessage(e.reason||"Unknown error"):o.closeDropdown()})},v=function(){$("#login-dropdown-list .dropdown-menu").dropdown("toggle")},_=function(){o.resetMessages();var e={},t=p("login-username");if(null!==t){if(!r(t))return;e.username=t}var n=p("login-email");if(null!==n){if(!a(n))return;e.email=n}var i=u("login-password");s(i)&&(e.password=i,w()&&d.createUser(e,function(e){e?o.errorMessage(e.reason||"Unknown error"):o.closeDropdown()}))},y=function(){o.resetMessages();var e=p("forgot-password-email");-1!==e.indexOf("@")?d.forgotPassword({email:e},function(e){e?o.errorMessage(e.reason||"Unknown error"):o.infoMessage("Email sent")}):o.infoMessage("Email sent")},b=function(){o.resetMessages();var e=u("login-old-password"),t=u("login-password");s(t)&&w()&&d.changePassword(e,t,function(e){e?o.errorMessage(e.reason||"Unknown error"):(o.infoMessage("Password changed"),l.setTimeout(function(){o.resetMessages()},3e3))})},w=function(){var e=u("login-password-again");if(null!==e){var t=u("login-password");if(t!==e)return o.errorMessage("Passwords don't match"),!1}return!0}}.call(this),function(){var e=d._loginButtonsSession;d._resetPasswordToken&&e.set("resetPasswordToken",d._resetPasswordToken),d._enrollAccountToken&&e.set("enrollAccountToken",d._enrollAccountToken),l.startup(function(){d._verifyEmailToken&&d.verifyEmail(d._verifyEmailToken,function(t){d._enableAutoLogin(),t||e.set("justVerifiedEmail",!0)})}),f._resetPasswordDialog.events({"click #login-buttons-reset-password-button":function(){t()},"keypress #reset-password-new-password":function(e){13===e.keyCode&&t()},"click #login-buttons-cancel-reset-password":function(){e.set("resetPasswordToken",null),d._enableAutoLogin()}});var t=function(){e.resetMessages();var t=document.getElementById("reset-password-new-password").value;s(t)&&d.resetPassword(e.get("resetPasswordToken"),t,function(t){t?e.errorMessage(t.reason||"Unknown error"):(e.set("resetPasswordToken",null),d._enableAutoLogin())})};f._resetPasswordDialog.inResetPasswordFlow=function(){return e.get("resetPasswordToken")},f._enrollAccountDialog.events({"click #login-buttons-enroll-account-button":function(){n()},"keypress #enroll-account-password":function(e){13===e.keyCode&&n()},"click #login-buttons-cancel-enroll-account":function(){e.set("enrollAccountToken",null),d._enableAutoLogin()}});var n=function(){e.resetMessages();var t=document.getElementById("enroll-account-password").value;s(t)&&d.resetPassword(e.get("enrollAccountToken"),t,function(t){t?e.errorMessage(t.reason||"Unknown error"):(e.set("enrollAccountToken",null),d._enableAutoLogin())})};f._enrollAccountDialog.inEnrollAccountFlow=function(){return e.get("enrollAccountToken")},f._justVerifiedEmailDialog.events({"click #just-verified-dismiss-button":function(){e.set("justVerifiedEmail",!1)}}),f._justVerifiedEmailDialog.visible=function(){return e.get("justVerifiedEmail")},f._loginButtonsMessagesDialog.events({"click #messages-dialog-dismiss-button":function(){e.resetMessages()}}),f._loginButtonsMessagesDialog.visible=function(){var t=e.get("infoMessage")||e.get("errorMessage");return!o()&&t},f._configureLoginServiceDialog.events({"click .configure-login-service-dismiss-button":function(){e.set("configureLoginServiceDialogVisible",!1)},"click #configure-login-service-dialog-save-configuration":function(){if(e.get("configureLoginServiceDialogVisible")&&!e.get("configureLoginServiceDialogSaveDisabled")){var t=e.get("configureLoginServiceDialogServiceName"),n={service:t};h.each(a(),function(e){n[e.property]=document.getElementById("configure-login-service-dialog-"+e.property).value.replace(/^\s*|\s*$/g,"")}),d.connection.call("configureLoginService",n,function(n){n?l._debug("Error configuring login service "+t,n):e.set("configureLoginServiceDialogVisible",!1)})}},"input, keyup input":function(e){0===e.target.id.indexOf("configure-login-service-dialog")&&i()}});var i=function(){var t=h.any(a(),function(e){return""===document.getElementById("configure-login-service-dialog-"+e.property).value});e.set("configureLoginServiceDialogSaveDisabled",t)},r=function(){var t=e.get("configureLoginServiceDialogServiceName");return f["configureLoginServiceDialogFor"+("meteor-developer"===t?"MeteorDeveloper":c(t))]},a=function(){var e=r();return e.fields()};f._configureLoginServiceDialog.configurationFields=function(){return a()},f._configureLoginServiceDialog.visible=function(){return e.get("configureLoginServiceDialogVisible")},f._configureLoginServiceDialog.configurationSteps=function(){return r()()},f._configureLoginServiceDialog.saveDisabled=function(){return e.get("configureLoginServiceDialogSaveDisabled")};var c=function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["mrt:accounts-ui-bootstrap-dropdown"]={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["cfs:standard-packages"]={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.coffeescript={}}(),function(){{var e;Package.meteor.Meteor}(function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],n=!(null==window.mozInnerScreenX),i=function(e,i){var o=document.createElement("div");o.id="input-textarea-caret-position-mirror-div",document.body.appendChild(o);var r=o.style,a=window.getComputedStyle?getComputedStyle(e):e.currentStyle;r.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(r.wordWrap="break-word"),r.position="absolute",r.visibility="hidden",t.forEach(function(e){r[e]=a[e]}),n?(r.width=parseInt(a.width)-2+"px",e.scrollHeight>parseInt(a.height)&&(r.overflowY="scroll")):r.overflow="hidden",o.textContent=e.value.substring(0,i),"INPUT"===e.nodeName&&(o.textContent=o.textContent.replace(/\s/g," "));var s=document.createElement("span");s.textContent=e.value.substring(i)||".",o.appendChild(s);var l={top:s.offsetTop+parseInt(a.borderTopWidth),left:s.offsetLeft+parseInt(a.borderLeftWidth)};return document.body.removeChild(o),l};"undefined"!=typeof Package?e=i:module.exports=i}).call(this),"undefined"==typeof Package&&(Package={}),Package["dandv:caret-position"]={getCaretCoordinates:e}}(),function(){var e,t,n=Package.meteor.Meteor,i=Package.blaze.Blaze,o=(Package.blaze.UI,Package.blaze.Handlebars,Package.templating.Template),r=Package.jquery.$,a=(Package.jquery.jQuery,Package.underscore._),s=(Package.mongo.Mongo,Package.ddp.DDP,Package["dandv:caret-position"].getCaretCoordinates),l=Package.htmljs.HTML;(function(){o.__checkName("inputAutocomplete"),o.inputAutocomplete=new o("Template.inputAutocomplete",function(){var e=this;return[l.INPUT(l.Attrs({type:"text"},function(){return Spacebars.attrMustache(e.lookup("attributes"))})),"\n    ",Spacebars.include(e.lookupTemplate("autocompleteContainer"))]}),o.__checkName("textareaAutocomplete"),o.textareaAutocomplete=new o("Template.textareaAutocomplete",function(){var e=this;return[l.TEXTAREA(l.Attrs(function(){return Spacebars.attrMustache(e.lookup("attributes"))},{value:function(){return i._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})})}})),"\n    ",Spacebars.include(e.lookupTemplate("autocompleteContainer"))]}),o.__checkName("_autocompleteContainer"),o._autocompleteContainer=new o("Template._autocompleteContainer",function(){var e=this;return i.If(function(){return Spacebars.call(e.lookup("isShowing"))},function(){return["\n    ",l.DIV({"class":"-autocomplete-container"},"\n        ",i.If(function(){return Spacebars.call(e.lookup("isLoaded"))},function(){return["\n            ",i.Unless(function(){return Spacebars.call(e.lookup("empty"))},function(){return["\n            ",l.UL({"class":"-autocomplete-list"},"\n                ",i.Each(function(){return Spacebars.call(e.lookup("filteredList"))},function(){return["\n                ",l.LI({"class":"-autocomplete-item"},"\n                    ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"currentTemplate"))},function(){return["\n                        ",Spacebars.With(function(){return Spacebars.call(e.lookup(".."))},function(){return["  \n                            ",Spacebars.include(e.lookupTemplate("..")),"  \n                        "]}),"\n                    "]}),"\n                "),"\n                "]}),"\n            "),"\n            "]},function(){return["\n                ",Spacebars.include(e.lookupTemplate("noMatchTemplate")),"\n            "]}),"\n        "]},function(){return["\n            ",l.I("loading..."),"\n        "]}),"\n    "),"\n    "]})}),o.__checkName("_noMatch"),o._noMatch=new o("Template._noMatch",function(){return l.Raw("(<i>no matches</i>)")})}).call(this),function(){t="object"==typeof t?t:{};var o,l,c,u,d,h,f=function(e,t){return function(){return e.apply(t,arguments)}};o=new n.Collection("autocompleteRecords"),d=function(e){return a.isString(e.collection)},h=function(e){if(null!=e.subscription&&!Match.test(e.collection,String))throw new Error("Collection name must be specified as string for server-side search")},u=function(e){return new RegExp(e.token?"(^|\\b|\\s)"+e.token+"([\\w.]*)$":"(^)(.*)$")},c=function(e,t,n){var i,o,r;return o=a.extend({},e.filter||{}),i={limit:n},t?(e.sort&&e.field&&(r={},r[e.field]=1,i.sort=r),a.isFunction(e.selector)?a.extend(o,e.selector(t)):o[e.field]={$regex:e.matchAll?t:"^"+t,$options:"undefined"==typeof e.options?"i":e.options},[o,i]):[o,i]},l=function(e,t){var n,i,o,r;for(r=t.split("."),i=0,o=r.length;o>i;i++)n=r[i],e=e[n];return e},this.AutoComplete=function(){function e(e){this.onItemClick=f(this.onItemClick,this);var t,i,o,r;for(this.limit=e.limit||5,this.position=e.position||"bottom",this.rules=e.rules,r=this.rules,i=0,o=r.length;o>i;i++)t=r[i],h(t);this.expressions=function(){var e,n,i,o;for(i=this.rules,o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(u(t));return o}.call(this),this.matched=-1,this.loaded=!0,this.ruleDep=new Deps.Dependency,this.filterDep=new Deps.Dependency,this.loadingDep=new Deps.Dependency,this.sub=null,this.comp=Deps.autorun(function(e){return function(){var i,o,r,a,s,l;return null!=(s=e.sub)&&s.stop(),(t=e.matchedRule())&&null!==(i=e.getFilter())?d(t)?(l=c(t,i,e.limit),r=l[0],o=l[1],e.setLoaded(!1),a=t.subscription||"autocomplete-recordset",e.sub=n.subscribe(a,r,o,t.collection,function(){return e.setLoaded(!0)})):void e.setLoaded(!0):void 0}}(this))}return e.KEYS=[40,38,13,27,9],e.prototype.teardown=function(){return this.comp.stop()},e.prototype.matchedRule=function(){return this.ruleDep.depend(),this.matched>=0?this.rules[this.matched]:null},e.prototype.setMatchedRule=function(e){return this.matched=e,this.ruleDep.changed()},e.prototype.getFilter=function(){return this.filterDep.depend(),this.filter},e.prototype.setFilter=function(e){return this.filter=e,this.filterDep.changed(),this.filter},e.prototype.isLoaded=function(){return this.loadingDep.depend(),this.loaded},e.prototype.setLoaded=function(e){return e!==this.loaded?(this.loaded=e,this.loadingDep.changed()):void 0},e.prototype.onKeyUp=function(){var e,t,n,i,o,r;if(this.$element){for(i=this.element.selectionStart,o=this.getText().substring(0,i),t=0,e=!1,r=[];t<this.expressions.length&&(n=o.match(this.expressions[t]),n||this.matched!==t||(this.setMatchedRule(-1),e=!0),n&&-1===this.matched&&(this.setMatchedRule(t),e=!0),n&&this.filter!==n[2]&&(this.setFilter(n[2]),e=!0),!e);)r.push(t++);return r}},e.prototype.onKeyDown=function(e){if(!(-1===this.matched||this.constructor.KEYS.indexOf(e.keyCode)<0))switch(e.preventDefault(),e.keyCode){case 9:case 13:this.select()&&e.stopPropagation();break;case 40:this.next();break;case 38:this.prev();break;case 27:this.$element.blur(),this.hideList()}},e.prototype.onFocus=function(){return n.defer(function(e){return function(){return e.onKeyUp()}}(this))},e.prototype.onBlur=function(){return n.setTimeout(function(e){return function(){return e.hideList()}}(this),500)},e.prototype.onItemClick=function(e){return this.processSelection(e,this.rules[this.matched])},e.prototype.onItemHover=function(e,t){return this.tmplInst.$(".-autocomplete-item").removeClass("selected"),r(t.target).closest(".-autocomplete-item").addClass("selected")},e.prototype.filteredList=function(){var e,t,i,r,a;return e=this.getFilter(),-1===this.matched?null:(i=this.rules[this.matched],i.token||e?(a=c(i,e,this.limit),r=a[0],t=a[1],n.defer(function(e){return function(){return e.ensureSelection()}}(this)),d(i)?o.find({},t):i.collection.find(r,t)):null)},e.prototype.isShowing=function(){var e,t;return e=this.matchedRule(),t=null!==e&&(e.token||this.getFilter()),t&&n.defer(function(e){return function(){return e.positionContainer(),e.ensureSelection()}}(this)),t},e.prototype.select=function(){var e,t;return t=this.tmplInst.find(".-autocomplete-item.selected"),null==t?!1:(e=i.getData(t))?(this.processSelection(e,this.rules[this.matched]),!0):!1},e.prototype.processSelection=function(e,t){var n;n=l(e,t.field),t.token?this.replace(n,t):(this.setText(n),this.$element.blur()),"function"==typeof t.callback&&t.callback(e,this.$element),this.hideList()},e.prototype.replace=function(e){var t,n,i,o,r,a,s;a=this.element.selectionStart,n=this.getText(),s=n.substring(0,a),s=s.replace(this.expressions[this.matched],"$1"+this.rules[this.matched].token+e),o=n.substring(a,n.length),r=o.match(/^\s/)?"":" ",t=s+r+o,this.setText(t),i=s.length+1,this.element.setSelectionRange(i,i)},e.prototype.hideList=function(){return this.setMatchedRule(-1),this.setFilter(null)},e.prototype.getText=function(){return this.$element.val()||this.$element.text()},e.prototype.setText=function(e){return this.$element.is("input,textarea")?this.$element.val(e):this.$element.html(e)},e.prototype.positionContainer=function(){var e,t,n;return n=this.$element.position(),e=s(this.element,this.element.selectionStart),t={left:n.left+e.left},"top"===this.position?t.bottom=this.$element.offsetParent().height()-n.top-e.top:t.top=n.top+e.top+parseInt(this.$element.css("font-size")),this.tmplInst.$(".-autocomplete-container").css(t)},e.prototype.ensureSelection=function(){var e;return e=this.tmplInst.$(".-autocomplete-item.selected"),e.length?void 0:this.tmplInst.$(".-autocomplete-item:first-child").addClass("selected")},e.prototype.next=function(){var e,t;return e=this.tmplInst.$(".-autocomplete-item.selected"),e.length?(e.removeClass("selected"),t=e.next(),t.length?t.addClass("selected"):this.tmplInst.$(".-autocomplete-item:first-child").addClass("selected")):void 0},e.prototype.prev=function(){var e,t;return e=this.tmplInst.$(".-autocomplete-item.selected"),e.length?(e.removeClass("selected"),t=e.prev(),t.length?t.addClass("selected"):this.tmplInst.$(".-autocomplete-item:last-child").addClass("selected")):void 0},e.prototype.currentTemplate=function(){return this.rules[this.matched].template},e}(),e={records:o,getRegExp:u,getFindParams:c}}.call(this),function(){t="object"==typeof t?t:{};var e,n;e={keydown:function(e,t){return t.ac.onKeyDown(e)},keyup:function(e,t){return t.ac.onKeyUp(e)},focus:function(e,t){return t.ac.onFocus(e)},blur:function(e,t){return t.ac.onBlur(e)}},o.inputAutocomplete.events(e),o.textareaAutocomplete.events(e),n=function(){return a.omit(this,"settings")},o.inputAutocomplete.attributes=o.textareaAutocomplete.attributes=n,o.inputAutocomplete.autocompleteContainer=o.textareaAutocomplete.autocompleteContainer=new o("AutocompleteContainer",function(){var e;return e=new AutoComplete(i.getData().settings),this.parentView.templateInstance().ac=e,this.onViewReady(function(){return e.element=this.parentView.firstNode(),e.$element=r(e.element)}),i.With(e,function(){return o._autocompleteContainer})}),o._autocompleteContainer.rendered=function(){return this.data.tmplInst=this},o._autocompleteContainer.destroyed=function(){return this.data.teardown()
},o._autocompleteContainer.events({"click .-autocomplete-item":function(e,t){return t.data.onItemClick(this,e)},"mouseenter .-autocomplete-item":function(e,t){return t.data.onItemHover(this,e)}}),o._autocompleteContainer.empty=function(){return 0===this.filteredList().count()},o._autocompleteContainer.noMatchTemplate=function(){return this.matchedRule().noMatchTemplate||o._noMatch}}.call(this),"undefined"==typeof Package&&(Package={}),Package["mizzao:autocomplete"]={AutocompleteTest:e}}(),function(){{var e,t,n=Package.meteor.Meteor,i=(Package.tracker.Tracker,Package.tracker.Deps),o=Package.underscore._;Package.ejson.EJSON}(function(){e={},e.Store={GridFS:function(){throw new Error('To use FS.Store.GridFS, you must add the "cfs-gridfs" package.')},FileSystem:function(){throw new Error('To use FS.Store.FileSystem, you must add the "cfs-filesystem" package.')},S3:function(){throw new Error('To use FS.Store.S3, you must add the "cfs-s3" package.')}},e.AccessPoint={},e.Utility={},e.config={},e._collections={},t={},t.defaultZero=function(e){return+(e||0)},e.Utility.cloneFileRecord=function(e,t){t=t||{};var n={},i=t.full?[]:["collectionName","collection","data","createdByTransform"];for(var r in e)e.hasOwnProperty(r)&&!o.contains(i,r)&&(n[r]=e[r]);return n},e.Utility.defaultCallback=function(e){if(e){if(!(e instanceof n.Error))throw e;console.error(e.message)}},e.Utility.handleError=function(t,n,i){var o="function"==typeof t?t:e.Utility.defaultCallback,r=n===""+n?new Error(n):n;return o(r,i)},e.Utility.noop=function(){},e.Utility.validateAction=function(e,t,i){var r=e.deny,a=e.allow;if("object"!=typeof Package||!Package.insecure||r.length+a.length!==0){if(!t.isMounted())throw new n.Error(400,"Bad Request");if(t.getFileRecord(),o.any(r,function(e){return e(i,t)}))throw new n.Error(403,"Access denied");if(o.all(a,function(e){return!e(i,t)}))throw new n.Error(403,"Access denied")}},e.Utility.getFileName=function(e){e=e.split("?")[0];var t=e.lastIndexOf("/");return-1!==t&&(e=e.slice(t+1)),e},e.Utility.getFileExtension=function(t){t=e.Utility.getFileName(t);var n=t.lastIndexOf(".");return n>0?t.slice(n+1).toLowerCase():""},e.Utility.setFileExtension=function(t,n){if(!t||!t.length)return t;var i=e.Utility.getFileExtension(t);return t=i.length?t.slice(0,-1*i.length)+n:t+"."+n},e.Utility.encodeParams=function(t){var n=[];return o.each(t,function(t,i){n.length&&n.push("&"),n.push(e.Utility.encodeString(i),"=",e.Utility.encodeString(t))}),n.join("").replace(/%20/g,"+")},e.Utility.encodeString=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},e.Utility._btoa=function(e){var t;return t=e instanceof Buffer?e:new Buffer(e.toString(),"binary"),t.toString("base64")},e.Utility.btoa=function(t){if("function"==typeof btoa)return btoa(t);if("undefined"!=typeof Buffer)return e.Utility._btoa(t);throw new Error("FS.Utility.btoa: Cannot base64 encode on your system")},e.Utility._atob=function(e){return new Buffer(e,"base64").toString("binary")},e.Utility.atob=function(t){if("function"==typeof atob)return atob(t);if("undefined"!=typeof Buffer)return e.Utility._atob(t);throw new Error("FS.Utility.atob: Cannot base64 encode on your system")},e.Utility.extend=o.extend,e.Utility.each=o.each,e.Utility.isEmpty=o.isEmpty,e.Utility.indexOf=o.indexOf,e.Utility.isArray=o.isArray,e.Utility.map=o.map,e.Utility.once=o.once,e.Utility.include=o.include,e.Utility.size=o.size}).call(this),function(){e.Utility.connectionLogin=function(e){"undefined"!=typeof Accounts&&n.startup(function(){i.autorun(function(){var t=n.userId();t?e.onReconnect=function(){var t=Accounts._storedLoginToken();e.apply("login",[{resume:t}],function(t,n){!t&&n&&e.setUserId(n.id)})}:(e.onReconnect=null,e.setUserId(null))})})},e.Utility.eachFile=function(e,t){var n=e.originalEvent||e,i=n.target.files;i&&0!=i.length||(i=n.dataTransfer?n.dataTransfer.files:[]);for(var o=0;o<i.length;o++)t(i[o],o)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:base-package"]={FS:e,_Utility:t}}(),function(){var e,t,e=(Package.meteor.Meteor,Package.ddp.DDP);"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:e,LivedataTest:t}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["mongo-livedata"]={}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._;(function(){e=function(t){var n=this;if(!(n instanceof e))throw new Error('use "new" to construct an EventEmitter');t=t||{},n._eventEmitter={onListeners:{},onceListeners:{},maxListeners:t.maxListeners||10}};var i=function(e,t){var n=this;return n._eventEmitter.maxListeners&&t>n._eventEmitter.maxListeners?"warning: possible EventEmitter memory leak detected. "+t+' listeners added on event "'+e+'". Use emitter.setMaxListeners() to increase limit. ('+n._eventEmitter.maxListeners+")":void 0};e.prototype.setMaxListeners=function(e){this._eventEmitter.maxListeners=e};var o=function(e,t,n){return"undefined"==typeof e[t]&&(e[t]=[]),i.apply(this,[t,e[t].push(n)])};e.prototype.on=function(e,t){var n=o.apply(this,[this._eventEmitter.onListeners,e,t]);return n&&console.warn(new Error(n).stack),self},e.prototype.once=function(e,t){var n=o.apply(this,[this._eventEmitter.onceListeners,e,t]);return n&&console.warn(new Error(n).stack),self};var r=function(e,i){var o=0;return"undefined"!=typeof e&&n.each(e,function(e){o++,t.setTimeout(function(){e.apply(window,i)},0)}),o};e.prototype.emit=function(e){var t=this,i=n.rest(arguments),o=0,a=t._eventEmitter.onceListeners[e];return t._eventEmitter.onceListeners[e]=[],o+=r(t._eventEmitter.onListeners[e],i),o+=r(a,i),o>0};var a=function(e,t){for(var n=!1,i=[],o=0;o<e.length;o++)n||e[o]!==t?i.push(e[o]):n=!0;return i};e.prototype.off=function(e,t){var n=this;e?"function"==typeof t?("undefined"!=typeof n._eventEmitter.onListeners[e]&&(n._eventEmitter.onListeners[e]=a(n._eventEmitter.onListeners[e],t)),"undefined"!=typeof n._eventEmitter.onceListeners[e]&&(n._eventEmitter.onceListeners[e]=a(n._eventEmitter.onceListeners[e],t))):(n._eventEmitter.onListeners[e]=[],n._eventEmitter.onceListeners[e]=[]):(n._eventEmitter.onListeners={},n._eventEmitter.onceListeners={})},e.prototype.addListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.one=e.prototype.once,e.prototype.trigger=e.prototype.emit}).call(this),"undefined"==typeof Package&&(Package={}),Package["raix:eventemitter"]={EventEmitter:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package["cfs:base-package"].FS),n=(Package.tracker.Tracker,Package.tracker.Deps,Package.check.check,Package.check.Match,Package.ddp.DDP,Package.ejson.EJSON,Package["raix:eventemitter"].EventEmitter);Package.mongo.Mongo}(function(){e={},t.StorageAdapter=function(n,i,o){var r=this;if("undefined"==typeof o)throw new Error("FS.StorageAdapter please define an api");if("undefined"!=typeof e[n])throw new Error('Storage name already exists: "'+n+'"');e[n]=r,t.Utility.extend(this,i||{},{name:n})},t.StorageAdapter.prototype=new n}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:storage-adapter"]={}}(),function(){var e=(Package.meteor.Meteor,Package["cfs:base-package"].FS);(function(){e.Store.GridFS=function(t,n){var i=this;if(!(i instanceof e.Store.GridFS))throw new Error('FS.Store.GridFS missing keyword "new"');return new e.StorageAdapter(t,n,{typeName:"storage.gridfs"})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:gridfs"]={}}(),function(){{var e=(Package.meteor.Meteor,Package.templating.Template);Package.blaze.Blaze,Package.blaze.UI,Package.blaze.Handlebars,Package.htmljs.HTML}(function(){e.__define__("slideMenu",function(){var e=this;return Spacebars.include(e.lookupTemplate("menuItems"))})}).call(this),function(){e.slideMenu.rendered=function(){$(document).ready(function(){$(".slideout-menu-toggle").off("click"),$(".slideout-menu-toggle").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(".slideout-menu"),n=$(".slideout-menu").width();t.toggleClass("open"),t.hasClass("open")?(t.animate({left:"0px"}),$(document).one("touchstart click",function(){t.toggleClass("open"),t.animate({left:-n},250)})):t.animate({left:-n},250)})})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["sunkay:easy-side-menu"]={}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){e={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.htmljs.HTML),n=Package.blaze.Blaze,i=(Package.blaze.UI,Package.blaze.Handlebars),o=(Package["observe-sequence"].ObserveSequence,Package.templating.Template);(function(){e={};var o=function(e,t){return e===t};e.include=function(e,t,i){if(!e)return null;if("function"!=typeof e){var r=e;if(!n.isTemplate(r))throw new Error("Expected template or null, found: "+r);return e.constructView(t,i)}var a=n.ReactiveVar(null,o),s=n.View("Spacebars.include",function(){var e=a.get();if(null===e)return null;if(!n.isTemplate(e))throw new Error("Expected template or null, found: "+e);return e.constructView(t,i)});return s.__templateVar=a,s.onViewCreated(function(){this.autorun(function(){a.set(e())})}),s},e.mustacheImpl=function(){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof e.kw){var i={};for(var o in n.hash){var r=n.hash[o];i[o]="function"==typeof r?r():r}t[t.length-1]=e.kw(i)}else n=e.kw(),t=Array.prototype.slice.call(arguments),t.push(n)}return e.call.apply(null,t)},e.mustache=function(){var n=e.mustacheImpl.apply(null,arguments);return n instanceof e.SafeString?t.Raw(n.toString()):null==n||n===!1?null:String(n)},e.attrMustache=function(){var n=e.mustacheImpl.apply(null,arguments);if(null==n||""===n)return null;if("object"==typeof n)return n;if("string"==typeof n&&t.isValidAttributeName(n)){var i={};return i[n]="",i}throw new Error("Expected valid attribute name, '', null, or object")},e.dataMustache=function(){var t=e.mustacheImpl.apply(null,arguments);return t},e.makeRaw=function(e){return null==e?null:e instanceof t.Raw?e:t.Raw(e)},e.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var i=arguments[n];t[n-1]="function"==typeof i?i():i}return e.apply(null,t)}if(arguments.length>1)throw new Error("Can't call non-function: "+e);return e},e.kw=function(t){return this instanceof e.kw?void(this.hash=t||{}):new e.kw(t)},e.SafeString=function(t){return this instanceof e.SafeString?new i.SafeString(t):new e.SafeString(t)},e.SafeString.prototype=i.SafeString.prototype,e.dot=function(t,n){if(arguments.length>2){var i=[];return i.push(e.dot(t,n)),i.push.apply(i,Array.prototype.slice.call(arguments,2)),e.dot.apply(null,i)}if("function"==typeof t&&(t=t()),!t)return t;var o=t[n];return"function"!=typeof o?o:function(){return o.apply(t,arguments)}},e.With=function(e,t,i){var o=new n.ReactiveVar,r=n.View("Spacebars_with",function(){return n.If(function(){return o.get()},function(){return n.With(function(){return o.get()},t)},i)});return r.onViewCreated(function(){this.autorun(function(){o.set(e()),Tracker.onInvalidate(function(){o.dep.changed()})})}),r},e.TemplateWith=n._TemplateWith}).call(this),function(){o.__checkName("__dynamic"),o.__dynamic=new o("Template.__dynamic",function(){var t=this;return[n.View(function(){return e.mustache(t.lookup("checkContext"))}),"\n  ",n.If(function(){return e.call(t.lookup("dataContextPresent"))},function(){return["\n    ",e.include(t.lookupTemplate("__dynamicWithDataContext")),"\n  "]},function(){return["\n    \n    ",n._TemplateWith(function(){return{template:e.call(t.lookup("template")),data:e.call(t.lookup(".."))}},function(){return e.include(t.lookupTemplate("__dynamicWithDataContext"))}),"\n  "]})]}),o.__checkName("__dynamicWithDataContext"),o.__dynamicWithDataContext=new o("Template.__dynamicWithDataContext",function(){var t=this;return e.With(function(){return e.dataMustache(t.lookup("chooseTemplate"),t.lookup("template"))},function(){return["\n    ",n._TemplateWith(function(){return e.call(e.dot(t.lookup(".."),"data"))},function(){return e.include(t.lookupTemplate(".."))}),"    \n  "]})})}.call(this),function(){o.__dynamicWithDataContext.chooseTemplate=function(e){return o[e]||null},o.__dynamic.dataContextPresent=function(){return _.has(this,"data")},o.__dynamic.checkContext=function(){if(!_.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> UI.dynamic}}.");_.each(this,function(e,t){if("template"!==t&&"data"!==t)throw new Error("Invalid argument to {{> UI.dynamic}}: "+t)})}}.call(this),"undefined"==typeof Package&&(Package={}),Package.spacebars={Spacebars:e}}(),function(){{var e,t;Package.meteor.Meteor}(function(){e={};var n=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};e._encodeParams=function(e){var t=[];return _.each(e,function(e,i){t.length&&t.push("&"),t.push(n(i),"=",n(e))}),t.join("").replace(/%20/g,"+")},t=function(t,n,i,o){var r=t,a=n?n.slice(1):null;if("string"==typeof i&&(a=String(i)),o){a=a||"";var s=e._encodeParams(o);a&&s&&(a+="&"),a+=s}var l=r;return null!==a&&(l+="?"+a),l}}).call(this),function(){e._constructUrl=function(e,n,i){var o=/^(.*?)(\?.*)?$/.exec(e);return t(o[1],o[2],n,i)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.url={URL:e}}(),function(){var e,t,n,i=Package.meteor.Meteor,o=Package.underscore._,r=Package.url.URL;(function(){t=function(e,t){var n=500,i=function(e,t){return e.length>t?e.slice(0,t)+"...":e},o="failed ["+e+"]";return t&&(o+=" "+i(t.replace(/\n/g," "),n)),new Error(o)},n=function(e){var t=(e.headers["content-type"]||";").split(";")[0];if(o.include(["application/json","text/javascript"],t))try{e.data=JSON.parse(e.content)}catch(n){e.data=null}else e.data=null},e={},e.get=function(){return e.call.apply(this,["GET"].concat(o.toArray(arguments)))},e.post=function(){return e.call.apply(this,["POST"].concat(o.toArray(arguments)))},e.put=function(){return e.call.apply(this,["PUT"].concat(o.toArray(arguments)))},e.del=function(){return e.call.apply(this,["DELETE"].concat(o.toArray(arguments)))}}).call(this),function(){e.call=function(e,a,s,l){if(l||"function"!=typeof s||(l=s,s=null),s=s||{},"function"!=typeof l)throw new Error("Can't make a blocking HTTP call from the client; callback required.");e=(e||"").toUpperCase();var c={},u=s.content;s.data&&(u=JSON.stringify(s.data),c["Content-Type"]="application/json");var d,h;if(u||"GET"===e||"HEAD"===e?d=s.params:h=s.params,a=r._constructUrl(a,s.query,d),s.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");var f,p;if(s.auth){var g=s.auth.indexOf(":");if(0>g)throw new Error('auth option should be of the form "username:password"');f=s.auth.substring(0,g),p=s.auth.substring(g+1)}h&&(u=r._encodeParams(h)),o.extend(c,s.headers||{}),l=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(l),l=o.once(l);try{var m;if("undefined"!=typeof XMLHttpRequest)m=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");m=new ActiveXObject("Microsoft.XMLHttp")}m.open(e,a,!0,f,p);for(var v in c)m.setRequestHeader(v,c[v]);var _,y=!1;s.timeout&&(_=i.setTimeout(function(){y=!0,m.abort()},s.timeout)),m.onreadystatechange=function(){if(4===m.readyState)if(_&&i.clearTimeout(_),y)l(new Error("timeout"));else if(m.status){var e={};e.statusCode=m.status,e.content=m.responseText,e.headers={};var r=m.getAllResponseHeaders();""===r&&m.getResponseHeader("content-type")&&(r="content-type: "+m.getResponseHeader("content-type"));var a=r.split(/\r?\n/);o.each(a,function(t){var n=/^(.*?):(?:\s+)(.*)$/.exec(t);n&&3===n.length&&(e.headers[n[1].toLowerCase()]=n[2])}),n(e);var s=null;e.statusCode>=400&&(s=t(e.statusCode,e.content)),l(s,e)}else l(new Error("network"))},m.send(u)}catch(b){l(b)}}}.call(this),function(){i.http=e}.call(this),"undefined"==typeof Package&&(Package={}),Package.http={HTTP:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.ejson.EJSON;(function(){if("function"!=typeof e&&"object"!=typeof e||"undefined"==typeof URL)if("function"!=typeof e&&"object"!=typeof e||"undefined"==typeof webkitURL)var e=function(e){"use strict";var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},o=n.prototype,r=i.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=e.URL||e.webkitURL||e,d=u.createObjectURL,h=u.revokeObjectURL,f=u,p=e.btoa,g=e.atob,m=e.ArrayBuffer,v=e.Uint8Array;for(i.fake=r.fake=!0;c--;)s.prototype[l[c]]=c+1;return u.createObjectURL||(f=e.URL={}),f.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof i?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):p?t+";base64,"+p(e.data):t+","+encodeURIComponent(e.data)):d?d.call(u,e):void 0},f.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&h&&h.call(u,e)},o.append=function(e){var n=this.data;if(v&&(e instanceof m||e instanceof v)){for(var o="",r=new v(e),l=0,c=r.length;c>l;l++)o+=String.fromCharCode(r[l]);n.push(o)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var u=new a;n.push(u.readAsBinaryString(e))}else e instanceof i?"base64"===e.encoding&&g?n.push(g(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},o.getBlob=function(e){return arguments.length||(e=null),new i(this.data.join(""),e,"raw")},o.toString=function(){return"[object BlobBuilder]"},r.slice=function(e,t,n){var o=arguments.length;return 3>o&&(n=null),new i(this.data.slice(e,o>1?t:this.data.length),n,this.encoding)},r.toString=function(){return"[object Blob]"},n}(e);return function(e,n){var i=n?n.type||"":"",o=new t;if(e)for(var r=0,a=e.length;a>r;r++)o.append(e[r]);return o.getBlob(i)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);else self.URL=webkitURL}).call(this),function(){function i(e,t){for(var n=atob(e.split(",")[1]),i=[],o=0;o<n.length;o++)i.push(n.charCodeAt(o));return new Blob([new Uint8Array(i)],{type:t})}function o(e){if(e){if(!(e instanceof t.Error))throw e;console.error(e.message)}}e=function(e,t){var o=this;if(!e)throw new Error("DataMan constructor requires a data argument");if("undefined"!=typeof File&&e instanceof File)o.blob=e,o._type=e.type;else if("undefined"!=typeof Blob&&e instanceof Blob)o.blob=e,o._type=e.type;else if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||n.isBinary(e)){if("undefined"==typeof Blob)throw new Error("Browser must support Blobs to handle an ArrayBuffer or Uint8Array");if(!t)throw new Error("DataMan constructor requires a type argument when passed an ArrayBuffer or Uint8Array");o.blob=new Blob([e],{type:t}),o._type=t}else{if("string"!=typeof e)throw new Error("DataMan constructor received data that it doesn't support");if("data:"===e.slice(0,5))o._type=e.slice(5,e.indexOf(";")),o.blob=i(e,o._type);else{if("http:"!==e.slice(0,5)&&"https:"!==e.slice(0,6))throw new Error("DataMan constructor received unrecognized data string");if(!t)throw new Error("DataMan constructor requires a type argument when passed a URL");o.url=e,o._type=t}}},e.prototype.getBlob=function(e){var t=this;if(!e){if(t.url)throw new Error("DataMan.getBlob requires a callback when managing a URL");return t.blob}if(t.blob)e(null,t.blob);else if(t.url){var n=new XMLHttpRequest;n.open("GET",t.url,!0),n.responseType="blob",n.onload=function(){t.blob=n.response,e(null,t.blob)},n.onerror=function(t){e(t)},n.send()}},e.prototype.getBinary=function(e,t,n){function i(e){if("undefined"==typeof FileReader)return void n(new Error("Browser does not support FileReader"));var t=new FileReader;t.onload=function(e){n(null,new Uint8Array(e.target.result))},t.onerror=function(e){n(e)},t.readAsArrayBuffer(e)}var r=this;"function"==typeof e&&(n=e),n=n||o,r.getBlob(function(o,a){if(o)n(o);else if("number"==typeof e&&"number"==typeof t){var s=a.size;if(e>=s)return void n(new Error("DataMan.getBinary: start position beyond end of data ("+s+")"));t=Math.min(s,t);var l=a.slice||a.webkitSlice||a.mozSlice;if("undefined"==typeof l)return void n(new Error("Browser does not support File.slice"));i(l.call(a,e,t,r._type))}else i(a)})},e.prototype.saveAs=function(e){var t=this;if("undefined"==typeof window)throw new Error("window must be defined to use saveLocal");return window.saveAs?void t.getBlob(function(t,n){if(t)throw t;window.saveAs(n,e)}):void console.warn("DataMan.saveAs: window.saveAs not supported by this browser - add cfs-filesaver package")},e.prototype.getDataUri=function(e){var t=this;if("function"!=typeof e)throw new Error("getDataUri requires callback function");if("undefined"==typeof FileReader)return void e(new Error("Browser does not support FileReader"));var n=new FileReader;n.onload=function(t){var n=t.target.result;e(null,n)},n.onerror=function(t){e(t)},t.getBlob(function(t,i){t?e(t):n.readAsDataURL(i)})},e.prototype.size=function(e){var t=this;if(!e){if(t.url)throw new Error("On the client, DataMan.size requires a callback when getting size for a URL on the client");if("number"==typeof t._size)return t._size;var n=t.getBlob();return t._size=n.size,t._size}"number"==typeof t._size?e(null,t._size):t.getBlob(function(n,i){n?e(n):(t._size=i.size,e(null,t._size))})},e.prototype.type=function(){return this._type}}.call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:data-man"]={DataMan:e}}(),function(){{var e=Package.meteor.Meteor,t=Package["cfs:base-package"].FS,n=(Package.tracker.Tracker,Package.tracker.Deps),i=(Package.check.check,Package.check.Match,Package.ddp.DDP,Package.http.HTTP,Package["cfs:data-man"].DataMan),o=Package["raix:eventemitter"].EventEmitter;Package.mongo.Mongo}(function(){function r(e,t,n){var i;return i=t&&e.hasStored(t)?e.type({store:t}):e.type(),"string"==typeof i?0===i.indexOf(n):!1}function a(e){return e===Object(e)&&Object.getPrototypeOf(e)===Object.prototype}t.File=function(e,n){var i=this;i.createdByTransform=!!n,e instanceof t.File||a(e)?t.Utility.extend(i,t.Utility.cloneFileRecord(e,{full:!0})):e&&i.attachData(e)},t.File.prototype=new o,t.File.prototype.attachData=function(n,o,r){function a(e){l.data=new i(n,e,c),l.type(l.data.type()),l.size()?s():r?l.data.size(function(e,t){e?r&&r(e):(l.size(t),s())}):(l.size(l.data.size()),s())}function s(){l.name()||"string"!=typeof n||("http:"===n.slice(0,5)||"https:"===n.slice(0,6)?t.Utility.getFileExtension(n).length&&l.name(t.Utility.getFileName(n)):"data:"!==n.slice(0,5)&&l.name(t.Utility.getFileName(n))),r&&r()}var l=this;if(r||"function"!=typeof o||(r=o,o={}),o=o||{},!n)throw new Error("FS.File.attachData requires a data argument with some data");var c;if("undefined"!=typeof File&&n instanceof File)l.name(n.name),l.updatedAt(n.lastModifiedDate),l.size(n.size),a(n.type);else if("undefined"!=typeof Blob&&n instanceof Blob)l.updatedAt(new Date),l.size(n.size),a(n.type);else if("string"!=typeof n||"http:"!==n.slice(0,5)&&"https:"!==n.slice(0,6))a(o.type);else if(c=t.Utility.extend({},o),c.type&&delete c.type,r)e.call("_cfs_getUrlInfo",n,c,function(e,n){t.debug&&console.log("URL HEAD RESULT:",n),e?r(e):(t.Utility.extend(l,{original:n}),a(n.type))});else{if(e.isClient)throw new Error("FS.File.attachData requires a callback when attaching a URL on the client");var u=e.call("_cfs_getUrlInfo",n,c);t.Utility.extend(l,{original:u}),a(u.type)}return l},t.File.prototype.uploadProgress=function(){var e=this;return e.getFileRecord(),e.uploadedAt?100:Math.round((e.chunkCount||0)/(e.chunkSum||1)*100)},t.File.prototype.controlledByDeps=function(){var e=this;return e.createdByTransform&&n.active},t.File.prototype.getCollection=function(){var e=this;if(e.collection)return e.collection;if(e.collectionName)return e.collection=t._collections[e.collectionName],e.collection},t.File.prototype.isMounted=t.File.prototype.getCollection,t.File.prototype.getFileRecord=function(){var e=this;if(e.controlledByDeps())return e;if(e.isMounted()){t.debug&&console.log("GET FILERECORD: "+e._id);var n=e.collection.files.findOne({_id:e._id})||{};return t.Utility.extend(e,n),n}return{}},t.File.prototype.update=function(n,i,o){var r=this;return t.debug&&console.log("UPDATE: "+JSON.stringify(n)),o||"function"!=typeof i||(o=i,i={}),o=o||t.Utility.defaultCallback,r.isMounted()?r.collection.files.update({_id:r._id},n,i,function(t,n){n>0&&e.isClient&&r.getFileRecord(),o(t,n)}):void o(new Error("Cannot update a file that is not associated with a collection"))},t.File.prototype._saveChanges=function(e){var n=this;if(n.isMounted()){t.debug&&console.log("FS.File._saveChanges:",e||"all");var i={$set:{}};if("_original"===e)i.$set.original=n.original;else if("string"==typeof e){var o=n.copies[e];o&&(i.$set["copies."+e]=o)}else i.$set.original=n.original,i.$set.copies=n.copies;n.update(i)}},t.File.prototype.remove=function(e){var n=this;return t.debug&&console.log("REMOVE: "+n._id),e=e||t.Utility.defaultCallback,n.isMounted()?n.collection.files.remove({_id:n._id},function(t,i){t||(delete n._id,delete n.collection,delete n.collectionName),e(t,i)}):void e(new Error("Cannot remove a file that is not associated with a collection"))},t.File.prototype.getExtension=function(e){var t=this;return t.extension(e)},t.File.prototype.isImage=function(e){return r(this,(e||{}).store,"image/")},t.File.prototype.isVideo=function(e){return r(this,(e||{}).store,"video/")},t.File.prototype.isAudio=function(e){return r(this,(e||{}).store,"audio/")},t.File.prototype.formattedSize=function(e){var t=this;if("function"!=typeof numeral)throw new Error("You must add the numeral package if you call FS.File.formattedSize");e=e||{},e=e.hash||e;var n=t.size(e)||0;return numeral(n).format(e.formatString||"0.00 b")},t.File.prototype.isUploaded=function(){var e=this;return e.getFileRecord(),!!e.uploadedAt},t.File.prototype.hasStored=function(e,n){var i=this;return i.getFileRecord(),t.Utility.isEmpty(i.copies)?!!n:"string"==typeof e?!!(i.copies&&i.copies[e]&&i.copies[e].key):!1},t.File.prototype.hasCopy=t.File.prototype.hasStored,t.File.prototype.getCopyInfo=function(e){var t=this;return t.getFileRecord(),t.copies&&t.copies[e]||null},t.File.prototype._getInfo=function(e,t){var n=this;return t=t||{},t.updateFileRecordFirst&&n.getFileRecord(),e?n.copies&&n.copies[e]||{}:n.original||{}},t.File.prototype._setInfo=function(e,t,n,i){var o=this;"string"==typeof e?(o.copies=o.copies||{},o.copies[e]=o.copies[e]||{},o.copies[e][t]=n,i&&o._saveChanges(e)):(o.original=o.original||{},o.original[t]=n,i&&o._saveChanges("_original"))},t.File.prototype.name=function(e,t){var n=this;return t||("object"!=typeof e||null===e)&&"undefined"!=typeof e?(t=t||{},n._setInfo(t.store,"name",e,"boolean"==typeof t.save?t.save:!0)):(t=e||{},t=t.hash||t,n._getInfo(t.store,t).name)},t.File.prototype.extension=function(e,n){var i=this;if(n||("object"!=typeof e||null===e)&&"undefined"!=typeof e){n=n||{};var o=t.Utility.setFileExtension(i.name(n)||"",e);return i._setInfo(n.store,"name",o,"boolean"==typeof n.save?n.save:!0)}return n=e||{},t.Utility.getFileExtension(i.name(n)||"")},t.File.prototype.size=function(e,t){var n=this;return t||("object"!=typeof e||null===e)&&"undefined"!=typeof e?(t=t||{},n._setInfo(t.store,"size",e,"boolean"==typeof t.save?t.save:!0)):(t=e||{},t=t.hash||t,n._getInfo(t.store,t).size)},t.File.prototype.type=function(e,t){var n=this;return t||("object"!=typeof e||null===e)&&"undefined"!=typeof e?(t=t||{},n._setInfo(t.store,"type",e,"boolean"==typeof t.save?t.save:!0)):(t=e||{},t=t.hash||t,n._getInfo(t.store,t).type)},t.File.prototype.updatedAt=function(e,t){var n=this;return t||("object"!=typeof e||null===e||e instanceof Date)&&"undefined"!=typeof e?(t=t||{},n._setInfo(t.store,"updatedAt",e,"boolean"==typeof t.save?t.save:!0)):(t=e||{},t=t.hash||t,n._getInfo(t.store,t).updatedAt)},"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype})}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:file"]={}}(),function(){Package.meteor.Meteor,Package["cfs:base-package"].FS;"undefined"==typeof Package&&(Package={}),Package["cfs:tempstore"]={}}(),function(){{var e,t;Package.meteor.Meteor}(function(){e=Package.http&&Package.http.HTTP||{},e.methods=function(){throw new Error("HTTP.methods not implemented on client-side")}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:http-methods"]={HTTP:e,_methodHTTP:t}}(),function(){var e,t=(Package.meteor.Meteor,Package["cfs:http-methods"].HTTP);(function(){t.publish=function(){throw new Error("HTTP.publish not implemented on client-side")},t.publishFormats=function(){throw new Error("HTTP.publishFormats not implemented on client-side")},t.unpublish=function(){throw new Error("HTTP.unpublish not implemented on client-side")}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:http-publish"]={_publishHTTP:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package["cfs:base-package"].FS,i=(Package.check.check,Package.check.Match,Package.ejson.EJSON,Package["cfs:http-methods"].HTTP);(function(){e="/cfs",n.HTTP=n.HTTP||{},n.HTTP.uploadUrl=e+"/files",n.HTTP.setBaseUrl=function(i){"/"!==i.slice(0,1)&&(i="/"+i),"/"===i.slice(-1)&&(i=i.slice(0,-1)),e=i,n.HTTP.uploadUrl=e+"/files",t.isServer&&!n.Utility.isEmpty(_existingMountPoints)&&mountUrls()},n.File.prototype.url=function(i){var o=this;if(i=i||{},i=n.Utility.extend({store:null,auth:null,download:!1,metadata:!1,brokenIsFine:!1,uploading:null,storing:null,filename:null},i.hash||i),i.uploading&&!o.isUploaded())return i.uploading;if(o.isMounted()){var r=i.store||o.collection.primaryStore.name;if(!o.hasStored(r)){if(i.storing)return i.storing;if(!i.brokenIsFine)return null}var a=i.filename||o.name({store:r});a="string"==typeof a&&a.length?"/"+a:"";var s="";if(t.isClient&&"undefined"!=typeof Accounts&&"function"==typeof Accounts._storedLoginToken){if(i.auth!==!1){t.userId();var l={authToken:Accounts._storedLoginToken()||""};i.auth===+i.auth&&(l.expiration=n.HTTP.now()+1e3*i.auth);var c=JSON.stringify(l);s=n.Utility.btoa(c)}}else"string"==typeof i.auth&&(s=i.auth);var u={};""!==s&&(u.token=s),i.download&&(u.download=!0),i.store&&(u.store=i.store);var d=n.Utility.encodeParams(u);d.length&&(d="?"+d);var h;return h=i.metadata?"/record":"/files",e+h+"/"+o.collection.name+"/"+o._id+a+d}}}).call(this),function(){n.HTTP.setHeadersForGet=function(){},n.HTTP.now=function(){return Date.now()+n.HTTP._serverTimeDiff},n.HTTP._storage=function(){var e,t,n;try{n="test",(e=window.localStorage).setItem(n,n),t=e.getItem(n)!==n,e.removeItem(n),t&&(e=!1)}catch(i){console.log("Error initializing storage for FS.HTTP"),console.log(i)}return e},n.HTTP.storage=n.HTTP._storage(),n.HTTP._prefix="fsHTTP.",n.HTTP._serverTimeDiff=0,n.HTTP.storage&&(n.HTTP._serverTimeDiff=1*n.HTTP.storage.getItem(n.HTTP._prefix+"timeDiff")||0,t.startup(function(){i.get("/cfs/servertime",function(e,t){if(e)console.log(e.message);else{var i=new Date(+t.content);n.HTTP._serverTimeDiff=i-Date.now(),n.HTTP.storage.setItem(n.HTTP._prefix+"timeDiff",n.HTTP._serverTimeDiff)}})}))}.call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:access-point"]={}}(),function(){var e,t,n,i=(Package.meteor.Meteor,Package.tracker.Tracker,Package.tracker.Deps);
(function(){t=function(){},n={changed:t,depend:t},e=function(e,t){var o=this,r=t===!1?n:new i.Dependency;o.value=e,o.onChange=function(){},o.changed=function(){r.changed(),o.onChange(o.value)},o.get=function(){return r.depend(),o.value},o.set=function(e){o.value!==e&&(o.value=e,o.changed())},o.dec=function(e){o.value-=e||1,o.changed()},o.inc=function(e){o.value+=e||1,o.changed()},o.getset=function(e){return"undefined"==typeof e?o.get():void o.set(e)},o.toString=function(){var e=o.get();return e?e.toString():""},o.toText=o.toString}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:reactive-property"]={ReactiveProperty:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.tracker.Tracker,Package.tracker.Deps);(function(){var n=function(){},i={changed:n,depend:n};e=function(e){var n=this;n.lookup={},n._length=0,n.first,n.last,n.sort=e&&e.sort||function(e,t){return e.key<t.key},n.isReactive=e?e.reactive!==!1:!0,(e===!0||e&&e.sort===!0)&&(n.sort=function(e,t){return e.key>t.key}),n._listDeps=n.isReactive?new t.Dependency:i,n._lengthDeps=n.isReactive?new t.Dependency:i},e.prototype.length=function(){var e=this;return e._lengthDeps.depend(),e._length},e.prototype.reset=function(){var e=this;e.first=void 0,e.last=void 0,e.lookup={},e._length=0,e._lengthDeps.changed(),e._listDeps.changed()},e.prototype.update=function(e,t){var n=this;if("undefined"==typeof n.lookup[e])throw new Error('Reactive list cannot update, key "'+e+'" not found');n.lookup[e].value=t,n._listDeps.changed()},e.prototype.insert=function(e,t){var n=this;if("undefined"!=typeof n.lookup[e])throw new Error('Reactive list could not insert: key "'+e+'" allready found');for(var i={key:e,value:t},o=n.first,r=!1;"undefined"!=typeof o&&!r;)n.sort(i,o)&&("undefined"==typeof o.prev&&(n.first=i),i.prev=o.prev,i.next=o,o.prev&&(o.prev.next=i),o.prev=i,r=!0),o=o.next;r||(i.prev=n.last,n.last&&(n.last.next=i),n.last=i,0===n._length&&(n.first=i)),n.lookup[e]=i,n._length++,n._lengthDeps.changed(),n._listDeps.changed()},e.prototype.remove=function(e){var t=this,n=t.lookup[e];if("undefined"!=typeof n){var i=n.prev,o=n.next;"undefined"!=typeof i?i.next=o:t.first=o,"undefined"!=typeof o?o.prev=i:t.last=i,t.lookup[e].last=null,t.lookup[e].prev=null,t.lookup[e]=null,i=null,delete t.lookup[e],t._length--,t._lengthDeps.changed(),t._listDeps.changed()}},e.prototype.getLastItem=function(e){var t=this,n=e?t.first:t.last;return"undefined"!=typeof n?(t.remove(n.key),n.value):void 0},e.prototype.getFirstItem=function(){return this.getLastItem(!0)},e.prototype.forEach=function(e,t,n){var i=this;if("function"!=typeof e)throw new Error("ReactiveList forEach requires a function");t||i._listDeps.depend();for(var o=n?i.last:i.first;o;)e(o.value,o.key),o=n?o.prev:o.next},e.prototype.forEachReverse=function(e,t){this.forEach(e,t,!0)},e.prototype.fetch=function(e){var t=this,n=[];return t.forEach(function(e){n.push(e)},e),n}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:reactive-list"]={ReactiveList:e}}(),function(){var e,t,n,i=Package.meteor.Meteor,o=(Package.tracker.Tracker,Package.tracker.Deps,Package["cfs:reactive-property"].ReactiveProperty);(function(){"undefined"==typeof t&&Package["micro-queue"]&&(t=Package["micro-queue"].MicroQueue),"undefined"==typeof n&&Package["reactive-list"]&&(n=Package["reactive-list"].ReactiveList),"undefined"==typeof t&&Package["cfs:micro-queue"]&&(t=Package["cfs:micro-queue"].MicroQueue),"undefined"==typeof n&&Package["cfs:reactive-list"]&&(n=Package["cfs:reactive-list"].ReactiveList),e=function(e){var i=this;i.reactive=e&&e.reactive===!1?!1:!0;var r="undefined"!=typeof t&&t||void 0;if(r="undefined"!=typeof n&&n||r,e&&"undefined"!=typeof e.spinalQueue&&(r=e.spinalQueue),"undefined"==typeof r)throw console.log("Error: You need to add a spinal queue to the project"),console.log('Please add "micro-queue", "reactive-list" to the project'),new Error('Please add "micro-queue", "reactive-list" or other spinalQueue compatible packages');i.invocations=new r({sort:e&&(e.filo||e.lifo),reactive:i.reactive}),i._processList=new r({reactive:i.reactive}),i._maxProcessing=new o(e&&e.maxProcessing||1,i.reactive),i._isProcessing=new o(0,i.reactive),i._paused=new o(e&&e.isPaused||!1,i.reactive),i._running=new o(!1,i.reactive),i._errors=new o(0,i.reactive),i._failures=new o(0,i.reactive),i._jumpOnFailure=e&&e.jumpOnFailure===!1?!1:!0,i._maxLength=new o(0,i.reactive),i._autostart=new o(e&&e.autostart===!1?!1:!0,i.reactive),i._maxFailures=new o(e&&e.maxFailures||5,i.reactive),i.title=e&&e.name||"Queue",i.debug=!(!e||!e.debug),i.total=i._maxLength.get,i.isPaused=i._paused.get,i.processing=i._isProcessing.get,i.errors=i._errors.get,i.failures=i._failures.get,i.isRunning=i._running.get,i.maxProcessing=i._maxProcessing.getset,i._maxProcessing.onChange=function(){i.updateThrottleUp(),i.updateThrottleDown()},i.autostart=i._autostart.getset,i.maxFailures=i._maxFailures.getset,i.onPaused=e&&e.onPaused||function(){i.debug&&console.log(i.title+" ENDED")},i.onEnded=e&&e.onEnded||function(){i.debug&&console.log(i.title+" ENDED")},i.onRelease=e&&e.onRelease||function(){i.debug&&console.log(i.title+" RELEASED")},i.onAutostart=e&&e.onAutostart||function(){i.debug&&console.log(i.title+" Autostart")}},e.prototype.processingList=function(){var e=this;return e._processList.fetch()},e.prototype.isHalted=function(){var e=this;return!e._running.get()||e._paused.get()},e.prototype.length=function(){var e=this;return e.invocations.length()},e.prototype.progress=function(){var e=this,t=e._maxLength.get()-e.invocations.length()-e._isProcessing.get();return e._maxLength.value>0?Math.round(t/e._maxLength.value*100):0},e.prototype.usage=function(){var e=this;return Math.round(e._isProcessing.get()/e._maxProcessing.get()*100)},e.prototype.reset=function(){var e=this;e.debug&&console.log(e.title+" RESET"),e._running.set(!1),e._paused.set(!1),e.invocations.reset(),e._processList.reset(),e._maxLength.set(0),e._failures.set(0),e._errors.set(0)},e.prototype._autoStartTasks=function(){var e=this;e._paused.value||(!e._running.value&&e._autostart.value&&(e.onAutostart(),e._running.set(!0)),e._running.value&&e.next(null))},e.prototype.add=function(e,t,n){var i=this,o=i._jumpOnFailure||"undefined"==typeof n,r=o?i._maxLength.value+1:n;i.invocations.insert(r,{_id:r,data:e,failures:t||0}),o&&i._maxLength.inc(),i._autoStartTasks()},e.prototype.updateThrottleUp=function(){var e=this,t=e._maxProcessing.value-e._isProcessing.value;!e._paused.value&&e._running.value&&t>0&&e.invocations._length>0&&(e._isProcessing.inc(),e.runTask(e.invocations.getFirstItem()),e.updateThrottleUp())},e.prototype.updateThrottleDown=function(){var t=this,n=t._isProcessing.value-t._maxProcessing.value;n>0&&t._processList.forEachReverse(function(t){n>0&&t.queue instanceof e&&(n--,t.queue.pause())},!0)},e.prototype.next=function(e){var t=this;t.updateThrottleUp(),t._running.value&&0===t._isProcessing.value&&null!==e&&(t.onRelease(t.invocations._length),t.invocations._length||(t._running.set(!1),t.onEnded()))},e.prototype.runTaskDone=function(e,t){var n=this;if(e instanceof i.Error)n._maxFailures.value>0&&t.failures++,n._failures.inc(),console.error('Error: "'+n.title+'" '+e.message+", "+e.stack),t.failures<n._maxFailures.value?n.add(t.data,t.failures,t._id):(n._errors.inc(),n.errorHandler(t.data,n.add,t.failures));else if(e instanceof Error)throw e;if(e&&null===e&&n.invocations.insert(t._id,{data:t.data,failures:t.failures,_id:t._id}),e===""+e){var o={pause:function(){n.pause()},stop:function(){n.stop()},reset:function(){n.reset()},cancel:function(){n.cancel()}};if("function"!=typeof o[e])throw new Error('Unknown queue command "'+e+'"');o[e]()}n._isProcessing.value>0&&n._isProcessing.dec(),n._processList.remove(t._id),t.data=null,t.failures=null,t._id=null,t=null,delete t,i.setTimeout(function(){n.next()},0)},e.prototype.runTask=function(t){var n=this;try{t.data instanceof e?(n._processList.insert(t._id,{id:t._id,queue:t.data}),n.queueTaskHandler(t.data,function(e){n.runTaskDone(e,t)},t.failures)):(n._processList.insert(t._id,t.data),n.taskHandler(t.data,function(e){n.runTaskDone(e,t)},t.failures))}catch(i){throw new Error("Error while running taskHandler for queue, Error: "+i.message)}},e.prototype.queueTaskHandler=function(e,t){e.onRelease=function(e){e>0?t(null):t()},e.run()},e.prototype.taskHandler=function(e,t,n){if("function"!=typeof e)throw new Error("Default task handler expects a function");try{e(t,n)}catch(i){t(i)}},e.prototype.errorHandler=function(e,t,n){var i=this;i.debug&&console.log("Terminate at "+n+" failures")},e.prototype.pause=function(){var t=this;t._paused.value||(t._paused.set(!0),t._processList.forEach(function(t){t.queue instanceof e&&t.queue.pause()},!0),t.onPaused())},e.prototype.resume=function(){var e=this;e.run()},e.prototype.run=function(){var e=this;!e._paused.value&&e._running.value||!e.invocations._length||(e._paused.set(!1),e._running.set(!0),e.next(null))},e.prototype.stop=function(){var e=this;e._running.set(!1)},e.prototype.cancel=function(){var e=this;e.reset()}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:power-queue"]={PowerQueue:e}}(),function(){var e,t,n,i,o,r,a,s=Package.meteor.Meteor,l=Package["cfs:base-package"].FS,c=Package["cfs:power-queue"].PowerQueue,u=Package["cfs:reactive-list"].ReactiveList;(function(){e=function(e,i,a,c){if(c||"function"!=typeof a||(c=a,a=null),a=a||{},"function"!=typeof c)throw new Error("Can't make a blocking HTTP call from the client; callback required.");e=(e||"").toUpperCase();var u={},d=a.content;a.data&&(d=JSON.stringify(a.data),u["Content-Type"]="application/json");var h,f;d||"GET"===e||"HEAD"===e?h=a.params:f=a.params;var p=/^(.*?)(\?.*)?$/.exec(i);if(i=t(p[1],p[2],a.query,h),a.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");var g,m;if(a.auth){var v=a.auth.indexOf(":");if(0>v)throw new Error('auth option should be of the form "username:password"');g=a.auth.substring(0,v),m=a.auth.substring(v+1)}f&&(d=n(f)),l.Utility.extend(u,a.headers||{}),c=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(c),c=l.Utility.once(c);try{var _;if("undefined"!=typeof XMLHttpRequest)_=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");_=new ActiveXObject("Microsoft.XMLHttp")}_.open(e,i,!0,g,m);var y;"ejson-binary"===a.responseType?(_.responseType="arraybuffer",y=!0):_.responseType=a.responseType;for(var b in u)_.setRequestHeader(b,u[b]);var w,k=!1;a.timeout&&(w=s.setTimeout(function(){k=!0,_.abort()},a.timeout)),_.onreadystatechange=function(){if(4===_.readyState)if(w&&s.clearTimeout(w),k)c(new Error("timeout"));else if(_.status){var e={};e.statusCode=_.status;var t=_.response||_.responseText;if("json"===a.responseType&&"string"==typeof t)try{t=JSON.parse(t)}catch(n){t=null}if(y&&"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&t instanceof ArrayBuffer){for(var i=new Uint8Array(t),u=t.byteLength,d=EJSON.newBinary(u),h=0;u>h;h++)d[h]=i[h];t=d}e.content=t,e.headers={};var f=_.getAllResponseHeaders();""===f&&_.getResponseHeader("content-type")&&(f="content-type: "+_.getResponseHeader("content-type"));var p=f.split(/\r?\n/);l.Utility.each(p,function(t){var n=/^(.*?):(?:\s+)(.*)$/.exec(t);n&&3===n.length&&(e.headers[n[1].toLowerCase()]=n[2])}),r(e);var g=null;e.statusCode>=400&&(g=o(e.statusCode,e.content)),c(g,e)}else c(new Error("network"))},_.send(d)}catch(T){c(T)}},t=function(e,t,i,o){var r=e,a=t?t.slice(1):null;if("string"==typeof i&&(a=String(i)),o){a=a||"";var s=n(o);a&&s&&(a+="&"),a+=s}var l=r;return null!==a&&(l+="?"+a),l},n=function(e){var t=[];return l.Utility.each(e,function(e,n){t.length&&t.push("&"),t.push(i(n),"=",i(e))}),t.join("").replace(/%20/g,"+")},i=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},o=function(e,t){var n=160,i=function(e,t){return e.length>t?e.slice(0,t)+"...":e},o="failed ["+e+"]";return t&&(o+=" "+i(t.replace(/\n/g," "),n)),new Error(o)},r=function(e){var t=(e.headers["content-type"]||";").split(";")[0];if(l.Utility.include(["application/json","text/javascript"],t))try{e.data=JSON.parse(e.content)}catch(n){e.data=null}else e.data=null}}).call(this),function(){l.HTTP=l.HTTP||{}}.call(this),function(){var t=2097152,n=function(t,n){l.debug&&console.log("uploading chunk "+t.chunk+", bytes "+t.start+" to "+Math.min(t.end,t.fileObj.size())+" of "+t.fileObj.size()),t.fileObj.data.getBinary(t.start,t.end,function(i,o){i?n(new s.Error(i.error,i.message)):(l.debug&&console.log("PUT to URL",t.url,t.urlParams),e("PUT",t.url,{params:l.Utility.extend({chunk:t.chunk},t.urlParams),content:o,headers:{"Content-Type":t.fileObj.type()}},function(e){t=null,e?n(new s.Error(e.error,e.message)):n()}))})},i=function(){};a=function(e){e=e||{};var o=new c({name:"HTTPUploadTransferQueue",maxProcessing:1,maxFailures:5,jumpOnFailure:!0,autostart:!0,isPaused:!1,filo:!1,debug:l.debug});return o.files={},o.cancel=o.reset,o.isUploadingFile=function(e){return!!(e&&e._id&&e.collectionName&&(o.files[e.collectionName]||{})[e._id])},o.resumeUploadingFile=function(e){if(!(e instanceof l.File))throw new Error("Transfer queue expects a FS.File");e.isMounted()&&(o.files[e.collectionName]=o.files[e.collectionName]||{},o.files[e.collectionName][e._id]=!1,o.uploadFile(e))},o.uploadFile=function(e){if(l.debug&&console.log("HTTP uploadFile"),!(e instanceof l.File))throw new Error("Transfer queue expects a FS.File");if("number"!=typeof e.size())throw new Error("TransferQueue upload failed: fileObj size not set");if(!o.isUploadingFile(e)&&!e.isUploaded()&&e.isMounted()){var r=e.collectionName,a=e._id;if(e.chunkSize=e.collection.options.chunkSize||l.config.uploadChunkSize||t,e.chunkCount=0,e.chunkSum=Math.ceil(e.size()/e.chunkSize),0===e.chunkSum)return;e.update({$set:{chunkSize:e.chunkSize,chunkCount:e.chunkCount,chunkSum:e.chunkSum}});var s=new c({onEnded:function(){o.files[r][a]=!1,e.emit("uploaded")},spinalQueue:u,maxProcessing:1,maxFailures:5,jumpOnFailure:!0,autostart:!1,isPaused:!1,filo:!1});s.taskHandler=n,s.errorHandler=i,o.files[r]=o.files[r]||{},o.files[r][a]=!0;var d=l.HTTP.uploadUrl+"/"+r;a&&(d+="/"+a);var h="";if("undefined"!=typeof Accounts){var f={authToken:Accounts._storedLoginToken()||""},p=JSON.stringify(f);h=l.Utility.btoa(p)}var g={filename:e.name()};""!==h&&(g.token=h);for(var m,v=0;v<e.chunkSum;v++)m=v*e.chunkSize,s.add({chunk:v,name:e.name(),url:d,urlParams:g,fileObj:e,start:m,end:(v+1)*e.chunkSize});o.add(s)}},o},l.HTTP.uploadQueue=new a,l.File.prototype.resume=function(){var e=this;l.uploadQueue.resumeUploadingFile(e)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:upload-http"]={}}(),function(){{var e=Package.meteor.Meteor,t=Package["cfs:base-package"].FS,n=(Package.tracker.Tracker,Package.tracker.Deps,Package.check.check,Package.check.Match,Package.ddp.DDP,Package["raix:eventemitter"].EventEmitter);Package.mongo.Mongo}(function(){t.Collection=function(n,i){var o=this;if(o.storesLookup={},o.primaryStore={},o.options={filter:null,stores:[],chunkSize:null},t.HTTP&&t.HTTP.uploadQueue?o.options.uploader=t.HTTP.uploadQueue.uploadFile:t.DDP&&t.DDP.uploadQueue&&(o.options.uploader=t.DDP.uploadQueue.uploadFile),t.Utility.extend(o.options,i||{}),o.name=n,t.Utility.isEmpty(o.options.stores))throw new Error("You must specify at least one store. Please consult the documentation.");t.Utility.each(o.options.stores,function(i,r){if(0===r&&(o.primaryStore=i),"undefined"!=typeof o.storesLookup[i.name])throw new Error("FS.Collection store names must be uniq, duplicate found: "+i.name);o.storesLookup[i.name]=i,e.isServer&&(i.on("stored",function(e,r){if(e===i.name){if(r.collectionName===n){var a=o.emit("stored",r,i.name);t.debug&&!a&&console.log(r.name({store:i.name})+" was successfully saved to the "+i.name+' store. You are seeing this informational message because you enabled debugging and you have not defined any listeners for the "stored" event on the '+n+" collection.")}r.emit("stored",i.name)}}),i.on("error",function(e,r,a){if(e===i.name){if(a.collectionName===n){r=new Error("Error storing file to the "+i.name+" store: "+r.message);var s=o.emit("error",r,a,i.name);t.debug&&!s&&console.log(r.message)}a.emit("error",i.name)}}))});var r={transform:function(e){var i=new t.File(e,!0);return i.collectionName=n,i}},a="cfs."+n+".filerecord";if(o.files=new e.Collection(a,r),o._validators={download:{allow:[],deny:[]}},o.filters&&o.filters(o.options.filter),t._collections[n]=this,e.isServer&&t.FileWorker&&t.FileWorker.observe(this),t.TempStore)t.TempStore.on("stored",function(e){if(e.collectionName===n){var i=o.emit("uploaded",e);t.debug&&!i&&console.log(e.name()+' was successfully uploaded. You are seeing this informational message because you enabled debugging and you have not defined any listeners for the "uploaded" event on the '+n+" collection.")}}),t.TempStore.on("error",function(e,t){t.collectionName===n&&o.emit("error",new Error("Error storing uploaded file to TempStore: "+e.message),t)});else if(e.isServer)throw new Error("FS.Collection constructor: FS.TempStore must be defined before constructing any FS.Collections.")},t.Collection.prototype=new n}).call(this),function(){t.Collection.prototype.insert=function(n,i){function o(n){e.isClient?a.options.uploader&&a.options.uploader(n):e.isServer&&n.createReadStream().pipe(t.TempStore.createWriteStream(n))}function r(e){return a.allowsFile(e)?(e.collectionName=a.name,i?e._id=a.files.insert(t.Utility.cloneFileRecord(e),function(t,n){t?e._id&&delete e._id:(e._id=n,o(e)),i(t,t?void 0:e)}):(e._id=a.files.insert(t.Utility.cloneFileRecord(e)),o(e)),e):t.Utility.handleError(i,"FS.Collection insert: file does not pass collection filters")}var a=this;if(e.isClient&&!i&&(i=t.Utility.defaultCallback),n instanceof t.File)return r(n);var s=new t.File(n);return i?s.attachData(n,function(e){e?i(e):r(s)}):(s.attachData(n),r(s)),s},t.Collection.prototype.update=function(e,n,i,o){var r=this;if(e instanceof t.File){if(e.collectionName===r.files._name)return e.update(n,i,o);throw new Error('FS.Collection cannot update file belongs to: "'+e.collectionName+'" not: "'+r.files._name+'"')}return r.files.update(e,n,i,o)},t.Collection.prototype.remove=function(e,n){var i=this;if(e instanceof t.File){if(e.collectionName===i.files._name)return e.remove(n);throw new Error('FS.Collection cannot remove file belongs to: "'+e.collectionName+'" not: "'+i.files._name+'"')}return n=n||t.Utility.defaultCallback,i.files.remove(e,n)},t.Collection.prototype.findOne=function(){var e=this;return e.files.findOne.apply(e.files,arguments)},t.Collection.prototype.find=function(){var e=this;return e.files.find.apply(e.files,arguments)},t.Collection.prototype.allow=function(e){var t=this;if(e.download){if(!(e.download instanceof Function))throw new Error("allow: Value for `download` must be a function");t._validators.download.allow.push(e.download),delete e.download}return t.files.allow.call(t.files,e)},t.Collection.prototype.deny=function(e){var t=this;if(e.download){if(!(e.download instanceof Function))throw new Error("deny: Value for `download` must be a function");t._validators.download.deny.push(e.download),delete e.download}return t.files.deny.call(t.files,e)},t.Collection.prototype.allowsFile=function(){return!0}}.call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:collection"]={}}(),function(){var e=(Package.meteor.Meteor,Package["cfs:base-package"].FS);(function(){function t(e,t){for(var n,i=!1,o=0,r=e.length;r>o;o++){if(n=e[o],n===t){i=!0;break}if("image/*"===n&&0===t.indexOf("image/")){i=!0;break}if("audio/*"===n&&0===t.indexOf("audio/")){i=!0;break}if("video/*"===n&&0===t.indexOf("video/")){i=!0;break}}return i}e.Collection.prototype.filters=function(t){var n=this;if(t){if(e.Utility.each(["allow","deny"],function(e){if(t[e]){if("object"!=typeof t[e])throw new Error(e+" filter must be an object")}else t[e]={}}),"undefined"==typeof t.maxSize)t.maxSize=null;else if(t.maxSize&&"number"!=typeof t.maxSize)throw new Error("maxSize filter must be an number");e.Utility.each(["allow","deny"],function(n){if(t[n].extensions){if(!e.Utility.isArray(t[n].extensions))throw new Error(n+".extensions filter must be an array of extensions");for(var i=0,o=t[n].extensions.length;o>i;i++)t[n].extensions[i]=t[n].extensions[i].toLowerCase()}else t[n].extensions=[]}),e.Utility.each(["allow","deny"],function(n){if(t[n].contentTypes){if(!e.Utility.isArray(t[n].contentTypes))throw new Error(n+".contentTypes filter must be an array of content types")}else t[n].contentTypes=[]}),n.options.filter=t}n.files.deny({insert:function(e,t){return!n.allowsFile(t)},update:function(e,t){return!n.allowsFile(t)},fetch:[]}),Package&&Package.insecure&&n.allow({insert:function(){return!0},update:function(){return!0},remove:function(){return!0},download:function(){return!0},fetch:[],transform:null})},e.Collection.prototype.allowsFile=function(n){var i=this,o=i.options.filter;if(!o)return!0;var r=0===o.allow.extensions.length,a=0===o.allow.contentTypes.length,s=n.name(),l=n.type();if(!l)return o.onInvalid&&o.onInvalid(s+" has an unknown content type"),!1;var c=n.size();if(!c||isNaN(c))return o.onInvalid&&o.onInvalid(s+" has an unknown file size"),!1;if(s){var u=n.getExtension();if(!r&&-1===e.Utility.indexOf(o.allow.extensions,u)||-1!==e.Utility.indexOf(o.deny.extensions,u))return o.onInvalid&&o.onInvalid(s+' has the extension "'+u+'", which is not allowed'),!1}return!a&&!t(o.allow.contentTypes,l)||t(o.deny.contentTypes,l)?(o.onInvalid&&o.onInvalid(s+' is of the type "'+l+'", which is not allowed'),!1):"number"==typeof o.maxSize&&c>o.maxSize?(o.onInvalid&&o.onInvalid(s+" is too big"),!1):!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:collection-filters"]={}}(),function(){Package.meteor.Meteor,Package["cfs:base-package"].FS,Package.ddp.DDP,Package["cfs:power-queue"].PowerQueue,Package.mongo.Mongo;"undefined"==typeof Package&&(Package={}),Package["cfs:worker"]={}}(),RouteController=Package["iron:router"].RouteController,Route=Package["iron:router"].Route,Router=Package["iron:router"].Router,IronLocation=Package["iron:router"].IronLocation,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Tracker=Package.deps.Tracker,Deps=Package.deps.Deps,Session=Package.session.Session,DDP=Package.livedata.DDP,Mongo=Package.mongo.Mongo,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package.templating.Template,check=Package.check.check,Match=Package.check.Match,_=Package.underscore._,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,Accounts=Package["accounts-base"].Accounts,FS=Package["cfs:base-package"].FS,HTML=Package.htmljs.HTML,function(){Template.__checkName("explanationHome"),Template.explanationHome=new Template("Template.explanationHome",function(){return HTML.TABLE({"class":"bckg-full black-wavy explanation"},"\n		",HTML.TR("\n			",HTML.TD({"class":"title"},HTML.H1("HOW?")),"\n		"),"\n		",HTML.TR("\n			",HTML.TD({"class":"logo-section"},HTML.IMG({"class":"top",src:"/general_logos/logo_top.svg"})),"\n			",HTML.TD({"class":"description"},"\n				",HTML.H3({clss:"title"},"GROUP"),"\n				",HTML.HR(),"\n				",HTML.DIV({"class":"body"},"Within 2-3 months you do a Group Project in which you try to launch a new product or service in a new country."),"\n			"),"\n		"),"\n		",HTML.TR("\n			",HTML.TD({"class":"logo-section"},HTML.IMG({"class":"middle",src:"/general_logos/logo_middle.svg"})),"\n			",HTML.TD({"class":"description"},"\n				",HTML.H3({clss:"title"},"PLACEMENT"),"\n				",HTML.HR(),"\n				",HTML.DIV({"class":"body"},"At the same time, you do a 3-4 week placement in an organisation to learn FROM others and in exchange you offer them the skills you have already attained."),"\n			"),"\n		"),"\n		",HTML.TR("\n			",HTML.TD({"class":"logo-section"},HTML.IMG({"class":"bottom",src:"/general_logos/logo_bottom.svg"})),"\n			",HTML.TD({"class":"description"},"\n				",HTML.H3({clss:"title"},"INDIVIDUAL"),"\n				",HTML.HR(),"\n				",HTML.DIV({"class":"body"},"Every week you choose a small thing you want to learn & you just do it."),"\n			"),"\n		"),"\n	")})}(),function(){Template.__checkName("firstUnivernHome"),Template.firstUnivernHome=new Template("Template.firstUnivernHome",function(){var e=this;return HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"univernPage",Spacebars.kw({_id:Spacebars.dot(e.lookup("george"),"_id")}))},"class":"actionBtn"},"\n		",HTML.DIV({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"univernPage",Spacebars.kw({_id:Spacebars.dot(e.lookup("george"),"_id")}))},"class":"bckg-half grey-wavy"},"\n			",HTML.Raw('<div class="logo"><img src="/general_logos/lab_rat.svg" alt="The first Univern"></div>'),"\n			",HTML.Raw('<div class="baseline">CHECK OUT HOW THE 1ST UNIVERN IS DOING.</div>'),"\n		"),"\n	")}),Template.__checkName("participateHome"),Template.participateHome=new Template("Template.participateHome",function(){var e=this;return HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"helpdesk")},"class":"actionBtn"},HTML.Raw('\n		<div class="bckg-half grey-wavy">\n			<div class="logo"><img src="/general_logos/want_in.svg" alt="Want in?"></div>\n			<div class="baseline">YOU WANT IN...?</div>\n		</div>\n	'))})}(),function(){Template.__checkName("shortDescriptionHome"),Template.shortDescriptionHome=new Template("Template.shortDescriptionHome",function(){return HTML.DIV({"class":"bckg-full blue-wavy"},HTML.Raw('\n		<h1 class="short-description">A ONE YEAR  PROGRAM TO LEARN, MEET AMAZING PEOPLE AND GAIN PRACTICAL EXPERIENCE ON A GLOBAL SCALE.</h1>\n		'),HTML.TABLE({"class":"short-description-home"},"\n			",HTML.TR("\n				",HTML.TD({"class":"icon"},HTML.I({"class":"fa fa-puzzle-piece"})),"\n				",HTML.TD({"class":"text"},HTML.DIV("You choose",HTML.BR(),"your skills."))),"\n			",HTML.TR(HTML.TD({colspan:"2"},HTML.HR({"class":"line"}))),"\n			",HTML.TR("\n				",HTML.TD({"class":"icon"},HTML.I({"class":"fa fa-line-chart"})),"\n				",HTML.TD({td:"","class":"text"},HTML.DIV("You develop them",HTML.BR(),"in the real world.")),"\n			"),"\n			",HTML.TR(HTML.TD({colspan:"2"},HTML.HR({"class":"line"}))),"\n			",HTML.TR("\n				",HTML.TD({"class":"icon"},HTML.I({"class":"fa fa-share-alt"})),"\n				",HTML.TD({td:"","class":"text"},HTML.DIV("You share everything",HTML.BR(),"with the rest of us.")),"\n			"),"\n		"),HTML.Raw('\n		<div class="arrow-down"></div>\n	'))})}(),function(){Template.__checkName("splashScreen"),Template.splashScreen=new Template("Template.splashScreen",function(){return HTML.Raw('<div class="bckg-full black-wavy splash-screen">\n		<div class="logo"><img class="svg" src="/general_logos/logo_letters.svg" alt="Univerhip, studies designed by you."></div>\n		<hr>\n		<div class="baseline">We dream of a global, hands-on, open-source education.</div>\n	</div>		\n	<div class="scroll-explanation">\n		<i class="start-arrow fa fa-chevron-down"></i>\n		<span class="text">Scroll Down</span>\n	</div>')})}(),function(){Template.__checkName("videoHome"),Template.videoHome=new Template("Template.videoHome",function(){return HTML.DIV({"class":"bckg-full video"},HTML.Raw('\n		<h1 class="short-description">A ONE YEAR  PROGRAM TO LEARN, MEET AMAZING PEOPLE AND GAIN PRACTICAL EXPERIENCE ON A GLOBAL SCALE.</h1>\n		<a href="https://www.youtube.com/watch?v=bgW5Snd-CFM" class="play-video"><i class="fa fa-youtube-play"></i></a>\n		'),HTML.TABLE({"class":"short-description-home"},"\n			",HTML.TR("\n				",HTML.TD({"class":"text"},HTML.DIV("You choose",HTML.BR(),"your skills."))),"\n			",HTML.TR("\n				",HTML.TD(HTML.HR({"class":"line"})),"\n			"),"\n			",HTML.TR("\n				",HTML.TD({"class":"text"},HTML.DIV("You develop them",HTML.BR(),"in the real world.")),"\n			"),"\n			",HTML.TR("\n				",HTML.TD(HTML.HR({"class":"line"})),"\n			"),"\n			",HTML.TR("\n				",HTML.TD({td:"","class":"text"},HTML.DIV("You share everything",HTML.BR(),"with the rest of us.")),"\n			"),"\n		"),"\n	")})}(),function(){Template.__checkName("layout"),Template.layout=new Template("Template.layout",function(){var e=this;return[Spacebars.include(e.lookupTemplate("header")),"\n	",Spacebars.include(e.lookupTemplate("yield"))]})}(),function(){Template.__checkName("footer"),Template.footer=new Template("Template.footer",function(){return HTML.Raw('<div class="footer black-wavy">\n	</div>')})}(),function(){Template.__checkName("header"),Template.header=new Template("Template.header",function(){var e=this;return[HTML.Raw('<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">\n	'),HTML.DIV({"class":"header",id:"myMenu"},"\n		",HTML.Raw('<div class="trigger-header">\n			<i class="fa fa-bars"></i>\n		</div>'),"\n		",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"home")},"class":"logo menu-link hide-submenu",id:"logo"},"\n			",HTML.Raw('<img class="svg" src="/general_logos/logo.svg" alt="Univerhip, studies designed by you.">'),"\n		"),"\n		",HTML.H4({id:"definition","class":"hide-submenu"},"\n			",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"home")},"class":"menu-item"},"What is it?"),"\n		"),"\n		",HTML.H4({id:"introduction","data-menuanchor":"introduction"},"\n			",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"univernPage",Spacebars.kw({_id:e.lookup("getGeorge"),hash:"introduction"}))},"class":"menu-item"},"The first Univern"),"\n		"),"\n		",HTML.DIV({"class":"first-univern"},"\n			",HTML.H5({id:"skills","data-menuanchor":"skills"},"\n				",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"univernPage",Spacebars.kw({_id:e.lookup("getGeorge"),hash:"skills"}))},"class":"menu-item"},"Skills Chosen"),"\n			"),"\n			",HTML.H5({id:"people","data-menuanchor":"people"},"\n				",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"univernPage",Spacebars.kw({_id:e.lookup("getGeorge"),hash:"people"}))},"class":"menu-item"},"People Met"),"\n			"),"\n			",HTML.H5({id:"group-projects","data-menuanchor":"group-projects"},"\n				",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"univernPage",Spacebars.kw({_id:e.lookup("getGeorge"),hash:"group-projects"}))},"class":"menu-item"},"Group Projects"),"\n			"),"\n			",HTML.H5({id:"placements","data-menuanchor":"placements"},"\n				",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"univernPage",Spacebars.kw({_id:e.lookup("getGeorge"),hash:"placements"}))},"class":"menu-item"},"Placements"),"\n			"),"\n			",HTML.H5({id:"individual-projects","data-menuanchor":"individual-projects"},"\n				",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"univernPage",Spacebars.kw({_id:e.lookup("getGeorge"),hash:"individual-projects"}))},"class":"menu-item"},"individual projects"),"\n			"),"\n			",HTML.H5({id:"work","data-menuanchor":"work"},"\n				",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"univernPage",Spacebars.kw({_id:e.lookup("getGeorge"),hash:"work"}))},"class":"menu-item"},"Wanna work together?"),"\n			"),"\n		"),"\n		",HTML.H4({id:"join","class":"hide-submenu"},"\n			",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"helpdesk")},"class":"menu-item"},"Join in!"),"\n		"),"\n	")]})}(),function(){Template.__checkName("projectProcess"),Template.projectProcess=new Template("Template.projectProcess",function(){var e=this;return[HTML.DIV({"class":function(){return["bckg-full ",Spacebars.mustache(e.lookup("getProjectType")),"-wavy project-processes"]}},"\n	",HTML.Raw("<h1>Wow! But how?</h1>"),"\n	",Blaze.Each(function(){return Spacebars.call(e.lookup("getProcesses"))},function(){return["\n		",HTML.DIV({"class":"slide"},"\n			",HTML.H2(Blaze.View(function(){return Spacebars.mustache(e.lookup("getTitle"))
})),"\n			",HTML.HR(),"\n			",HTML.H3(Blaze.View(function(){return Spacebars.mustache(e.lookup("getBody"))})),"\n			",HTML.DIV({"class":"links"},"\n				",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("hasLink"),"file")},function(){return["\n					",HTML.A({href:function(){return Spacebars.mustache(e.lookup("getLink"),"file")},target:"_blank"},HTML.I({"class":"fa fa-file"})),"\n				"]}),"\n				",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("hasLink"),"folder")},function(){return["\n					",HTML.A({href:function(){return Spacebars.mustache(e.lookup("getLink"),"folder")},target:"_blank"},HTML.I({"class":"fa fa-folder-open"})),"\n				"]}),"\n				",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("hasLink"),"github")},function(){return["\n					",HTML.A({href:function(){return Spacebars.mustache(e.lookup("getLink"),"github")},target:"_blank"},HTML.I({"class":"fa fa-github"})),"\n				"]}),"\n				",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("hasLink"),"video")},function(){return["\n					",HTML.A({href:function(){return Spacebars.mustache(e.lookup("getLink"),"video")},target:"_blank"},HTML.I({"class":"fa fa-youtube-play"})),"\n				"]}),"\n				",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("hasLink"),"instructables")},function(){return["\n					",HTML.A({href:function(){return Spacebars.mustache(e.lookup("getLink"),"instructables")},target:"_blank"},HTML.I({"class":"fa fa-cogs"})),"\n				"]}),"\n			"),"\n		"),"\n	"]}),"\n	"),"\n	",Blaze.View(function(){return Spacebars.mustache(e.lookup("restartFullPageJS"))})]})}(),function(){Template.__checkName("projectIntro"),Template.projectIntro=new Template("Template.projectIntro",function(){var e=this;return HTML.DIV({"class":"bckg-full splash-screen project-intro",style:function(){return Spacebars.mustache(e.lookup("setBackground"))}},"\n		",HTML.DIV({"class":"logo"},HTML.IMG({"class":"svg",src:function(){return Spacebars.mustache(e.lookup("getLogo"))}})),"\n		",HTML.DIV({"class":"logo-letters"},"\n			",HTML.H1(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"title"))}),HTML.Raw("&nbsp;"),"\n				",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"introVideo"))},"class":"play"},"\n					",HTML.Raw('<i class="fa fa-play-circle-o"></i>'),"\n				"),"\n			"),"\n		"),HTML.Raw("\n		<hr>\n		"),HTML.DIV({"class":"baseline"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"body"))})),"\n	")})}(),function(){Template.__checkName("projectPage"),Template.projectPage=new Template("Template.projectPage",function(){var e=this;return HTML.DIV({"class":"project-page"},"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("projectIntro")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("projectSkills")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("projectProcess")),"\n		"),"\n	")})}(),function(){Template.__checkName("projectSkills"),Template.projectSkills=new Template("Template.projectSkills",function(){var e=this;return HTML.DIV({"class":"bckg-full black-wavy univernSkills"},HTML.Raw("\n		<h1>The skills</h1>\n		"),HTML.DIV({"class":"explanation-block"},"\n		",Blaze.Each(function(){return Spacebars.call(e.lookup("getSkills"))},function(){return["\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"user-centered-design")},function(){return["\n				",HTML.DIV({"class":"explanation-text",id:"skill-1-text"},"\n					",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getPercentage"))})),"\n					",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("body"))})),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"physical-object-design")},function(){return["\n				",HTML.DIV({"class":"explanation-text",id:"skill-2-text"},"\n					",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getPercentage"))})),"\n					",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("body"))})),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"entrepreneurship")},function(){return["\n				",HTML.DIV({"class":"explanation-text",id:"skill-3-text"},"\n					",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getPercentage"))})),"\n					",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("body"))})),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"coding")},function(){return["\n				",HTML.DIV({"class":"explanation-text",id:"skill-4-text"},"\n					",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("ggetPercentage"))})),"\n					",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("body"))})),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"graphic-design")},function(){return["\n				",HTML.DIV({"class":"explanation-text",id:"skill-5-text"},"\n					",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getPercentage"))})),"\n					",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("body"))})),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"communication")},function(){return["\n				",HTML.DIV({"class":"explanation-text",id:"skill-6-text"},"\n					",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getPercentage"))})),"\n					",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("body"))})),"\n				"),"\n			"]}),"\n		"]}),"\n		"),"\n		",Blaze.Each(function(){return Spacebars.call(e.lookup("getSkills"))},function(){return["\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"user-centered-design")},function(){return["\n				",HTML.DIV({"class":"skill project-skill",id:"skill-1"},"\n					",HTML.IMG({"class":"logo",src:"/general_logos/user-centered-design.svg"}),"\n					",HTML.DIV({"class":"text"},"User-centered design"),"		\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"physical-object-design")},function(){return["\n				",HTML.DIV({"class":"skill project-skill",id:"skill-2"},"\n					",HTML.IMG({"class":"logo",src:"/general_logos/physical-object-design.svg"}),"\n					",HTML.DIV({"class":"text"},"Physical object design"),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"entrepreneurship")},function(){return["\n				",HTML.DIV({"class":"skill",id:"skill-3"},"\n					",HTML.IMG({"class":"logo",src:"/general_logos/entrepreneurship.svg"}),"\n					",HTML.DIV({"class":"text"},"Entrepreneurship"),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"coding")},function(){return["\n				",HTML.DIV({"class":"skill",id:"skill-4"},"\n					",HTML.IMG({"class":"logo",src:"/general_logos/coding.svg"}),"\n					",HTML.DIV({"class":"text"},"Coding (electronics & web)"),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"graphic-design")},function(){return["\n				",HTML.DIV({"class":"skill",id:"skill-5"},"\n					",HTML.IMG({"class":"logo",src:"/general_logos/graphic-design.svg"}),"\n					",HTML.DIV({"class":"text"},"Graphic design"),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getTitle"),"communication")},function(){return["\n				",HTML.DIV({"class":"skill",id:"skill-6"},"\n					",HTML.IMG({"class":"logo",src:"/general_logos/communication.svg"}),"\n					",HTML.DIV({"class":"text"},"Communication"),"\n				"),"\n			"]}),"\n		"]}),"\n	")})}(),function(){Template.__checkName("amazingPeople"),Template.amazingPeople=new Template("Template.amazingPeople",function(){var e=this;return HTML.DIV({"class":"bckg-full"},"\n		",Blaze.Each(function(){return Spacebars.call(e.lookup("person"))},function(){return["\n				",HTML.DIV({"class":function(){return["slide amazingPeople person-",Spacebars.mustache(e.lookup("_id"))]},style:function(){return Spacebars.mustache(e.lookup("setBackground"))},id:function(){return["person-",Spacebars.mustache(e.lookup("_id"))]}},"\n					",HTML.H1("I work with amazing people"),"\n					",HTML.DIV({"class":"title"},"\n						",HTML.H3(HTML.SPAN({"class":"name"},Blaze.View(function(){return Spacebars.mustache(e.lookup("name"))})),", ",HTML.SPAN({"class":"profession"},Blaze.View(function(){return Spacebars.mustache(e.lookup("proffesion"))}))),"\n						",HTML.HR(),"\n					"),"\n					",HTML.DIV({"class":"description"},Blaze.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("body")))})),"\n					",HTML.DIV({"class":"links"},"\n						",HTML.DIV({"class":"univerships"},"\n							",HTML.DIV({"class":"bar"},"UNIVERSHIPS"),"\n							",HTML.DIV({"class":"icons"},"\n								",Blaze.Each(function(){return Spacebars.call(e.lookup("getProjects"))},function(){return["\n									",HTML.A({href:function(){return["/projects/",Spacebars.mustache(e.lookup("."))]},target:"_blank","class":"actionIcon"},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getProjectLogo"))}})),"\n								"]}),"\n							"),"\n						"),"\n						",HTML.DIV({"class":"skills"},"\n							",HTML.DIV({"class":"bar"},"SKILLS"),"\n							",HTML.DIV({"class":"icons"},"\n								",Blaze.Each(function(){return Spacebars.call(e.lookup("getProjects"))},function(){return["\n									",Blaze.Each(function(){return Spacebars.call(e.lookup("getSkills"))},function(){return["\n										",Blaze.If(function(){return Spacebars.call(e.lookup("notAdded"))},function(){return["\n											",HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getSkillLogo"))}}),"\n										"]}),"\n									"]}),"\n								"]}),"\n							"),"\n						"),"\n						",HTML.DIV({"class":"contact"},"\n							",HTML.DIV({"class":"bar"},"CONTACT"),"\n							",HTML.DIV({"class":"icons"},"\n								",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("contact"),"email"))},function(){return["\n									",HTML.A({href:function(){return["mailto:",Spacebars.mustache(Spacebars.dot(e.lookup("contact"),"email"))]},target:"_blank","class":"icon"},HTML.I({"class":"fa fa-envelope"})),"\n								"]}),"\n								",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("contact"),"facebook"))},function(){return["\n									",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("contact"),"facebook"))},target:"_blank","class":"icon"},HTML.I({"class":"fa fa-facebook"})),"\n								"]}),"\n								",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("contact"),"twitter"))},function(){return["\n									",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("contact"),"twitter"))},target:"_blank"},HTML.I({"class":"fa fa-twitter"})),"\n								"]}),"\n							"),"\n						"),"\n					"),"\n				"),"\n				",Blaze.View(function(){return Spacebars.mustache(e.lookup("restartFullPageJS"))}),"\n		"]}),"\n	")})}(),function(){Template.__checkName("contact"),Template.contact=new Template("Template.contact",function(){var e=this;return HTML.DIV({"class":"bckg-full black-wavy univernContact"},HTML.Raw("\n		<h1>Wanna work together?</h1>\n		"),HTML.H2(HTML.Raw('<i class="fa fa-map-marker"></i>'),HTML.Raw("&nbsp;"),"currently in ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getLocation"))})),"\n			",HTML.DIV({"class":"social icons"},"\n				",HTML.A({href:function(){return["mailto:",Spacebars.mustache(Spacebars.dot(e.lookup("."),"emails","0","address"))]}},HTML.Raw('<i class="fa fa-envelope"></i>')),"\n				",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"profile","social","facebook"))},target:"_blank"},HTML.Raw('<i class="fa fa-facebook"></i>')),"\n				",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"profile","social","twitter"))},target:"_blank"},HTML.Raw('<i class="fa fa-twitter"></i>')),"\n			"),"\n	")})}(),function(){Template.__checkName("groupProjects"),Template.groupProjects=new Template("Template.groupProjects",function(){var e=this;return HTML.DIV({"class":"bckg-full green-wavy projects"},HTML.Raw('\n		<h1><img src="/general_logos/group_projects.svg">MY GROUP PROJECTS</h1>\n		'),Blaze.Each(function(){return Spacebars.call(e.lookup("getGroupProjects"))},function(){return["\n			",HTML.DIV({"class":"slide"},"\n				",HTML.DIV({"class":"logo"},"\n					",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"projectPage",Spacebars.dot(e.lookup("."),"_id"))},"class":"actionBtn",target:"_blank"},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getProjectLogo"))}})),"\n				"),"\n				",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"projectPage",Spacebars.dot(e.lookup("."),"_id"))},"class":"actionBtn",target:"_blank"},"\n					",HTML.DIV({"class":"info"},"\n						",HTML.H1({"class":"title"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"title"))})),"\n						",HTML.HR(),"\n						",HTML.DIV({"class":"description"},Blaze.View(function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(e.lookup("."),"body")))})),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"skills"},"\n					",HTML.DIV({"class":"bar"},"SKILLS"),"\n					",HTML.DIV({"class":"icons"},"\n						",Blaze.Each(function(){return Spacebars.call(e.lookup("getSkills"))},function(){return["\n							",HTML.SPAN({"class":"icon"},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getSkillLogo"))}})),"\n						"]}),"\n					"),"\n				"),"\n			"),"\n		"]}),"\n	")}),Template.__checkName("placements"),Template.placements=new Template("Template.placements",function(){var e=this;return HTML.DIV({"class":"bckg-full blue-wavy projects"},HTML.Raw('\n		<h1><img src="/general_logos/placements.svg">MY Placements</h1>\n		'),Blaze.Each(function(){return Spacebars.call(e.lookup("getPlacements"))},function(){return["\n			",HTML.DIV({"class":"slide"},"\n				",HTML.DIV({"class":"logo"},"\n					",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"projectPage",Spacebars.dot(e.lookup("."),"_id"))},"class":"actionBtn",target:"_blank"},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getProjectLogo"))}})),"\n				"),"\n				",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"projectPage",Spacebars.dot(e.lookup("."),"_id"))},"class":"actionBtn",target:"_blank"},"\n					",HTML.DIV({"class":"info"},"\n						",HTML.H1({"class":"title"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"title"))})),"\n						",HTML.HR(),"\n						",HTML.DIV({"class":"description"},Blaze.View(function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(e.lookup("."),"body")))})),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"skills"},"\n					",HTML.DIV({"class":"bar"},"SKILLS"),"\n					",HTML.DIV({"class":"icons"},"\n						",Blaze.Each(function(){return Spacebars.call(e.lookup("getSkills"))},function(){return["\n							",HTML.SPAN({"class":"icon"},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getSkillLogo"))}})),"\n						"]}),"\n					"),"\n				"),"\n			"),"\n		"]}),"\n	")}),Template.__checkName("individualProjects"),Template.individualProjects=new Template("Template.individualProjects",function(){var e=this;return HTML.DIV({"class":"bckg-full red-wavy projects"},HTML.Raw('\n		<h1><img src="/general_logos/individual_projects.svg">MY Individual Projects</h1>\n		'),Blaze.Each(function(){return Spacebars.call(e.lookup("individualProjects"))},function(){return["\n			",HTML.DIV({"class":"slide"},"\n				",HTML.DIV({"class":"logo"},"\n					",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"projectPage",Spacebars.dot(e.lookup("."),"_id"))},"class":"actionBtn",target:"_blank"},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getProjectLogo"))}})),"\n				"),"\n				",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"projectPage",Spacebars.dot(e.lookup("."),"_id"))},"class":"actionBtn",target:"_blank"},"\n					",HTML.DIV({"class":"info"},"\n						",HTML.H1({"class":"title"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"title"))})),"\n						",HTML.HR(),"\n						",HTML.DIV({"class":"description"},Blaze.View(function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(e.lookup("."),"body")))})),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"skills"},"\n					",HTML.DIV({"class":"bar"},"SKILLS"),"\n					",HTML.DIV({"class":"icons"},"\n						",Blaze.Each(function(){return Spacebars.call(e.lookup("getSkills"))},function(){return["\n							",HTML.SPAN({"class":"icon"},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getSkillLogo"))}})),"\n						"]}),"\n					"),"\n				"),"\n			"),"\n		"]}),"\n	")})}(),function(){Template.__checkName("univernIntroduction"),Template.univernIntroduction=new Template("Template.univernIntroduction",function(){return[HTML.TABLE({"class":"bckg-full gray-wavy univernIntroduction"},"\n		",HTML.TR(HTML.TD(HTML.H1("I'M GEORGE & I'M A UNIVERN."))),"\n		",HTML.TR(HTML.TD(HTML.DIV({"class":"logo"},HTML.IMG({src:"/general_logos/lab_rat.svg",alt:"The first Univern"})))),"\n		",HTML.TR(HTML.TD(HTML.H1("I AM THE UNIVERSHIP'S LAB RAT."))),"\n	"),HTML.Raw('\n	<div class="arrow-next-black"></div>')]}),Template.__checkName("univernIntroductionText"),Template.univernIntroductionText=new Template("Template.univernIntroductionText",function(){return HTML.Raw('<div class="slide">\n		<div class="bckg-full gray-wavy univernIntroduction">\n			<h1>At first, I was confused.</h1>\n			<h2>I was confused. I didn\'t know what I wanted to do. I had completed a Master\'s degree in Electronic Engineering. I had lived in Athens, London and Paris. I had worked as a Market Analyst. Then as a Project Manager helping organisations innovate.</h2>\n		</div>\n		<div class="fp-controlArrow fp-next"></div>\n	</div>\n	<div class="slide">\n		<div class="bckg-full gray-wavy univernIntroduction">\n			<h1>I wanted to learn &amp; to create.</h1>\n			<h2>When I heard about "Design" I thought that I had finally found IT. A new way of thinking, a collection of many different knowledge domains, a profoundly creative working process. So I applied to schools. And I was accepted. And then I realised it was way too expensive for what was in offer. The freedom was limited, the people to meet were restricted to the schools contacts or philosophy, the number of skills to attain couldn\'t satisfy my appettite.</h2>\n		</div>\n	</div>\n	<div class="slide">\n		<div class="bckg-full gray-wavy univernIntroduction">\n			<h1>So I became a univern</h1>\n			<h2>I decided to join the Univern program as a beta-tester. I want to learn more in the following six domains: Graphic, Physical Object &amp; User-Centered Design as well as Entrepreneurship, Coding &amp; Communication.</h2>\n		</div>\n	</div>\n	<div class="slide">\n		<div class="bckg-full gray-wavy univernIntroduction">\n			<h1>I already know...</h1>\n			<h2>I already have a strong coding background, a not-too-bad understanding of aesthetic rules, project management experience &amp; an analytical mind.</h2>\n		</div>\n	</div>\n	<div class="slide">\n		<div class="bckg-full gray-wavy univernIntroduction">\n			<h1>I want placements</h1>\n			<h2>I have defined most of my Individual &amp; Group projects. That leaves me with placements. If you have one of the obove skills and would like to work with me for 3-4 weeks, please tell me! Check out what I\'m doing and if you like it, contact me.</h2>\n		</div>\n	</div>\n	<div class="slide">\n		<div class="bckg-full gray-wavy univernIntroduction">\n			<h1>Thank you for helping!</h1>\n			<h2>And believing that a different education model is possible...</h2>\n		</div>\n	</div>')})}(),function(){Template.__checkName("univernPage"),Template.univernPage=new Template("Template.univernPage",function(){var e=this;return HTML.DIV({"class":"univernPage"},"\n		",HTML.DIV({"class":"section"},"\n			",HTML.DIV({"class":"slide"},Spacebars.include(e.lookupTemplate("univernIntroduction"))),"\n			",Spacebars.include(e.lookupTemplate("univernIntroductionText")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("univernSkills")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("amazingPeople")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("groupProjects")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("placements")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("individualProjects")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("contact")),"\n		"),"\n	")})}(),function(){Template.__checkName("univernSkills"),Template.univernSkills=new Template("Template.univernSkills",function(){var e=this;return HTML.DIV({"class":"bckg-full black-wavy univernSkills"},HTML.Raw("\n		<h1>I WANT TO LEARN:</h1>\n		"),HTML.DIV({"class":"explanation-block"},"\n			",HTML.DIV({"class":"explanation-text",id:"skill-1-text"},"\n				",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSkillPercentage"),"user-centered-design")})),"\n				",HTML.Raw("<p>I want to understand the thought &amp; work process for discovering the needs, wants, and limitations of end users.</p>"),"\n			"),"\n			",HTML.DIV({"class":"explanation-text",id:"skill-2-text"},"\n				",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSkillPercentage"),"physical-object-design")})),"\n				",HTML.Raw("<p>I want to create objects, whether that be using new technologies (<i>3D printers, laser cutters, etc</i>) or old ones!</p>"),"\n			"),"\n			",HTML.DIV({"class":"explanation-text",id:"skill-3-text"},"\n				",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSkillPercentage"),"entrepreneurship")})),"\n				",HTML.Raw("<p>How do you successfully start &amp; run a company during its first years of existance?</p>"),"\n			"),"\n			",HTML.DIV({"class":"explanation-text",id:"skill-4-text"},"\n				",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSkillPercentage"),"coding")})),"\n				",HTML.Raw("<p>Web (<i>mostly .js</i>), electronics (<i>PIC's, arduino's, raspberry Pi's, ...</i>) or both (<i>Internet of Things</i>)!</p>"),"\n			"),"\n			",HTML.DIV({"class":"explanation-text",id:"skill-5-text"},"\n				",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSkillPercentage"),"graphic-design")})),"\n				",HTML.Raw("<p>How can you visually communicate a complicated message or emotion? </p>"),"\n			"),"\n			",HTML.DIV({"class":"explanation-text",id:"skill-6-text"},"\n				",HTML.H3("Skill @ ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSkillPercentage"),"communication")})),"\n				",HTML.Raw("<p>How can you create an online community? How do you use social media effectively?</p>"),"\n			"),"\n		"),HTML.Raw('\n		<div class="skill" id="skill-1">\n			<img class="logo" src="/general_logos/user-centered-design.svg">\n			<div class="text">User-centered design</div>		\n		</div>\n		<div class="skill" id="skill-2">\n			<img class="logo" src="/general_logos/physical-object-design.svg">\n			<div class="text">Physical object design</div>\n		</div>\n		<div class="skill" id="skill-3">\n			<img class="logo" src="/general_logos/entrepreneurship.svg">\n			<div class="text">Entrepreneurship</div>\n		</div>\n		<div class="skill" id="skill-4">\n			<img class="logo" src="/general_logos/coding.svg">\n			<div class="text">Coding (electronics &amp; web)</div>\n		</div>\n		<div class="skill" id="skill-5">\n			<img class="logo" src="/general_logos/graphic-design.svg">\n			<div class="text">Graphic design</div>\n		</div>\n		<div class="skill" id="skill-6">\n			<img class="logo" src="/general_logos/communication.svg">\n			<div class="text">Communication</div>\n		</div>\n	'))})}(),function(){Template.__checkName("helpdesk"),Template.helpdesk=new Template("Template.helpdesk",function(){return HTML.Raw('<div class="section">\n		<div class="bckg-full red-wavy helpdesk">\n			<h1>You won\'t find a helpdesk here...</h1>\n			<div class="logo"><img src="/general_logos/helpdesk.svg"></div>\n			<div class="description">\n				Unfortunately, our only Univern for this year is George.\n				<br><br>\n				We are testing on him this novel educational concept. \n				<br><br>\n				You are of course welcome to try it for yourselves! \n				<br><br>\n				Just drop George an email, facebook or tweet him &amp; he\'ll help you !\n			</div>\n		</div> \n	</div>')})}(),function(){Template.__checkName("home"),Template.home=new Template("Template.home",function(){var e=this;return HTML.DIV({"class":"home"},"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("splashScreen")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("videoHome")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("explanationHome")),"\n		"),"\n		",HTML.DIV({"class":"section"},"\n			",Spacebars.include(e.lookupTemplate("firstUnivernHome")),"\n			",Spacebars.include(e.lookupTemplate("participateHome")),"\n			",Spacebars.include(e.lookupTemplate("footer")),"\n		"),"\n	")})}(),function(){Template.__checkName("locationEdit"),Template.locationEdit=new Template("Template.locationEdit",function(){return HTML.Raw('<div class="bckg-full black-wavy">\n		<h1>Adding a location</h1>\n		<form class="form">\n			<div class="form-group">\n				<label class="control-label" for="city">City</label>\n				<div class="controls">\n	                <input name="city" class="form-control input-lg" type="text" value="" placeholder="City">\n	            </div>\n			</div>\n			<div class="form-group">\n				<label class="control-label" for="country">Country</label>\n				<div class="controls">\n	                <input name="country" class="form-control input-lg" type="text" value="" placeholder="Country">\n	            </div>\n			</div>\n			<div>_____________________________________________________________</div>	   \n			<input class="btn btn-block btn-primary submit" type="button" id="save" value="Save">\n			<div>_____________________________________________________________</div>\n		</form>\n	</div>')})}(),function(){Template.__checkName("loginPage"),Template.loginPage=new Template("Template.loginPage",function(){var e=this;return Spacebars.include(e.lookupTemplate("loginButtons"))})}(),function(){Template.__checkName("peopleAdd"),Template.peopleAdd=new Template("Template.peopleAdd",function(){return HTML.Raw('<div class="bckg-full black-wavy">\n		<h1>Adding an amazing person</h1>\n			<form>\n			<div class="form-group">\n				<label class="control-label" for="title">Person\'s Name</label>\n				<div class="controls">\n	                <input name="name" class="form-control input-lg" type="text" value="" placeholder="Name &amp; surname">\n	            </div>\n			</div>\n			<div>_____________________________________________________________</div>			\n			<input class="btn btn-block btn-primary submit" type="submit" id="create" value="Add">\n			<div>_____________________________________________________________</div>\n		</form>\n	</div>')})}(),function(){Template.__checkName("peopleEdit"),Template.peopleEdit=new Template("Template.peopleEdit",function(){var e=this;return HTML.DIV({"class":"bckg-full black-wavy",style:"height:100%"},"\n		",HTML.H1("Editing ",Blaze.View(function(){return Spacebars.mustache(e.lookup("personName"))})),"\n		",HTML.FORM({"class":"form",id:function(){return Spacebars.mustache(e.lookup("getID"))}},"\n			",HTML.DIV({"class":"form-group"},"\n				",HTML.Raw('<label class="control-label" for="name">Name</label>'),"\n				",HTML.DIV({"class":"controls"},"\n	                ",HTML.INPUT({name:"name","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("personName"))},placeholder:"Name & surname"}),"\n	            "),"\n			"),"\n			",HTML.DIV({"class":"form-group"},"\n				",HTML.Raw('<label class="control-label" for="proffesion">Proffesion</label>'),"\n				",HTML.DIV({"class":"controls"},"\n	                ",HTML.INPUT({name:"proffesion","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("personProffesion"))},placeholder:"teacher, chemist, coder, etc."}),"\n	            "),"\n			"),"\n			",HTML.DIV({"class":"form-group"},"\n				",HTML.Raw('<label class="control-label" for="body">Description</label>'),"\n				",HTML.DIV({"class":"controls"},"\n					 ",HTML.TEXTAREA({name:"body",id:"body","class":"form-control",value:function(){return Spacebars.mustache(e.lookup("personDescription"))},rows:"10"}),"\n	            "),"\n			"),"\n			",HTML.DIV({"class":"photo-import"},"\n	            ",HTML.Raw("<div>Choose a photo</div>")," \n	            ",HTML.Raw('<input type="file" name="file" id="add-photo">'),"\n	            ",HTML.DIV(HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getPhoto"))}})),"\n	        "),"\n			",HTML.Raw("<div>_____________________________________________________________</div>"),"\n			",HTML.Raw("<h3>Projects</h3>"),"\n			 ",Blaze._TemplateWith(function(){return{settings:Spacebars.call(e.lookup("settings")),id:Spacebars.call("projectAdd"),"class":Spacebars.call("input-xlarge"),placeholder:Spacebars.call("Project")}},function(){return Spacebars.include(e.lookupTemplate("inputAutocomplete"))}),"\n			 ",Blaze.Each(function(){return Spacebars.call(e.lookup("getProjects"))},function(){return["\n			 		",HTML.DIV(HTML.A({href:function(){return["/projects/",Spacebars.mustache(e.lookup("."))]},target:"_blank"},Blaze.View(function(){return Spacebars.mustache(e.lookup("."))})),HTML.I({"class":"fa fa-times delete",id:function(){return Spacebars.mustache(e.lookup("."),e.lookup(".."))}})),"\n			 "]}),"\n			",HTML.Raw("<div>_____________________________________________________________</div>"),"\n			",HTML.Raw("<h3>contact</h3>"),"\n			",HTML.DIV({"class":"form-group"},"\n				",HTML.Raw('<label class="control-label" for="email">Email</label>'),"\n				",HTML.DIV({"class":"controls"},"\n	                ",HTML.INPUT({name:"email","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("personEmail"))},placeholder:"email address"}),"\n	            "),"\n			"),"\n			",HTML.DIV({"class":"form-group"},"\n				",HTML.Raw('<label class="control-label" for="twitter">Twitter</label>'),"\n				",HTML.DIV({"class":"controls"},"\n	                ",HTML.INPUT({name:"twitter","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("personTwitter"))},placeholder:"twitter address"}),"\n	            "),"\n			"),"\n			",HTML.DIV({"class":"form-group"},"\n				",HTML.Raw('<label class="control-label" for="facebook">Facebook</label>'),"\n				",HTML.DIV({"class":"controls"},"\n	                ",HTML.INPUT({name:"facebook","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("personFacebook"))},placeholder:"facebook address"}),"\n	            "),"\n			"),"\n			",HTML.Raw("<div>_____________________________________________________________</div>"),"	   \n			",HTML.Raw('<input class="btn btn-block btn-primary" type="button" id="save" value="Save">'),"\n			",HTML.Raw("<div>_____________________________________________________________</div>"),"\n		"),"\n	")}),Template.__checkName("projectTitle"),Template.projectTitle=new Template("Template.projectTitle",function(){var e=this;return HTML.SPAN({"class":"label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("title"))
}))})}(),function(){Template.__checkName("processEdit"),Template.processEdit=new Template("Template.processEdit",function(){var e=this;return HTML.DIV({"class":"bckg-full black-wavy",style:"height:100%"},"\n		",HTML.H1("Adding Process to ",Blaze.View(function(){return Spacebars.mustache(e.lookup("projectName"))})),"\n		",HTML.FORM({id:"processes-form"},"\n			",Blaze.Each(function(){return Spacebars.call(e.lookup("processes"))},function(){return["\n				",HTML.DIV("_____________________________________________________________"),"\n				",HTML.H3("Step #",Blaze.View(function(){return Spacebars.mustache(e.lookup("rank"))})),"\n				",HTML.DIV({"class":"form-group",id:function(){return Spacebars.mustache(e.lookup("_id"))}},"\n					",HTML.LABEL({"class":"control-label","for":function(){return["title-",Spacebars.mustache(e.lookup("rank"))]}},"Title"),"\n					",HTML.DIV({"class":"controls"},"\n		                ",HTML.INPUT({name:function(){return["title-",Spacebars.mustache(e.lookup("rank"))]},"class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("title"))},placeholder:"Title"}),"\n		            "),"\n		            ",HTML.LABEL({"class":"control-label","for":function(){return["body-",Spacebars.mustache(e.lookup("rank"))]}},"Project name"),"\n						",HTML.DIV({"class":"controls"},"\n	               		",HTML.TEXTAREA({name:function(){return["body-",Spacebars.mustache(e.lookup("rank"))]},"class":"form-control",value:function(){return Spacebars.mustache(e.lookup("body"))},rows:"4"}),"\n	            	"),"\n	            	",HTML.LABEL({"class":"control-label","for":function(){return["file-",Spacebars.mustache(e.lookup("rank"))]}},"File"),"\n					",HTML.DIV({"class":"controls"},"\n						",HTML.INPUT({type:"file",name:function(){return["file-",Spacebars.mustache(e.lookup("rank"))]}}),"\n		            "),"\n	            	",HTML.LABEL({"class":"control-label","for":function(){return["folder-",Spacebars.mustache(e.lookup("rank"))]}},"Folder"),"\n					",HTML.DIV({"class":"controls"},"\n		                ",HTML.INPUT({name:function(){return["folder-",Spacebars.mustache(e.lookup("rank"))]},"class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("files"),"folder"))},placeholder:"Folder URL"}),"\n		            "),"\n		            ",HTML.LABEL({"class":"control-label","for":function(){return["github-",Spacebars.mustache(e.lookup("rank"))]}},"Github"),"\n					",HTML.DIV({"class":"controls"},"\n		                ",HTML.INPUT({name:function(){return["github-",Spacebars.mustache(e.lookup("rank"))]},"class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("files"),"github"))},placeholder:"Github URL"}),"\n		            "),"\n		            ",HTML.LABEL({"class":"control-label","for":function(){return["instructables-",Spacebars.mustache(e.lookup("rank"))]}},"Instructables"),"\n					",HTML.DIV({"class":"controls"},"\n		                ",HTML.INPUT({name:function(){return["instructables-",Spacebars.mustache(e.lookup("rank"))]},"class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("files"),"instructables"))},placeholder:"Instructables URL"}),"\n		            "),"\n		            ",HTML.LABEL({"class":"control-label","for":function(){return["video-",Spacebars.mustache(e.lookup("rank"))]}},"Video"),"\n					",HTML.DIV({"class":"controls"},"\n		                ",HTML.INPUT({name:function(){return["video-",Spacebars.mustache(e.lookup("rank"))]},"class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("files"),"video"))},placeholder:"Instructables URL"}),"\n		            "),"\n		            ",HTML.BUTTON({type:"button","class":"btn btn-default btn-lg delete-process",id:function(){return Spacebars.mustache(e.lookup("_id"))}},"Delete Process"),"\n				"),"\n			"]}),"\n			",HTML.Raw("<div>_____________________________________________________________</div>"),"\n			",HTML.Raw('<button type="button" class="btn btn-default btn-lg" id="add-process">Add Process</button>'),"\n			",HTML.Raw('<input class="btn btn-default btn-lg" type="button" id="save" value="Save">'),"\n			",HTML.Raw("<div>_____________________________________________________________</div>"),"\n		"),"\n	")})}(),function(){Template.__checkName("projectAdd"),Template.projectAdd=new Template("Template.projectAdd",function(){return HTML.Raw('<div class="bckg-full black-wavy">\n		<h1>Creating a project</h1>\n			<form>\n			<div class="form-group">\n				<label class="control-label" for="title">Project name</label>\n				<div class="controls">\n	                <input name="title" class="form-control input-lg" type="text" value="" placeholder="Project name">\n	            </div>\n			</div>\n			<div>_____________________________________________________________</div>			\n			<input class="btn btn-block btn-primary submit" type="submit" id="create" value="Create">\n			<div>_____________________________________________________________</div>\n		</form>\n	</div>')})}(),function(){Template.__checkName("projectEdit"),Template.projectEdit=new Template("Template.projectEdit",function(){var e=this;return HTML.DIV({"class":"bckg-full black-wavy",style:"height:100%"},"\n		",HTML.H1("Editing project ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getProjectName"))})),"\n			",HTML.FORM("\n			",HTML.DIV({"class":"form-group"},"\n				",HTML.Raw('<label class="control-label" for="title">Project name</label>'),"\n				",HTML.DIV({"class":"controls"},"\n	                ",HTML.INPUT({name:"title","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getProjectName"))},placeholder:"Project name"}),"\n	            "),"\n			"),"\n			",HTML.DIV({"class":"form-group"},"\n				",HTML.Raw('<label class="control-label" for="project-body">Project Description</label>'),"\n				",HTML.DIV({"class":"controls"},"\n	               ",HTML.TEXTAREA({name:"project-body",id:"project-body","class":"form-control",value:function(){return Spacebars.mustache(e.lookup("getProjectBody"))},rows:"7"}),"\n	            "),"\n			"),"\n			",HTML.Raw('<div class="logo-import">\n	            <div>Choose an .svg file for the logo:</div> \n	            <input type="file" name="file" id="add-logo">\n	        </div>'),"\n			",HTML.DIV({"class":"project-logo"},"\n				",HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getLogo"))}}),"\n			"),"\n			",HTML.Raw('<div class="image-import">\n	            <div>Choose the project\'s image:</div> \n	            <input type="file" name="file" id="add-image">\n	        </div>'),"\n	        ",HTML.DIV({"class":"project-image"},"\n				",HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("getImage"))}}),"\n			"),"\n			 ",HTML.DIV({"class":"form-group"},"\n	            ",HTML.Raw('<label for="project-type">Project Type</label>'),"\n	            ",HTML.DIV({"class":"controls"},"\n	                ",HTML.SELECT({id:"project-type","class":"form-control"},"\n	                    ",HTML.OPTION({value:"individual",selected:function(){return Spacebars.mustache(e.lookup("getProjectType"),"individual")}},"individual"),"\n	                    ",HTML.OPTION({value:"placement",selected:function(){return Spacebars.mustache(e.lookup("getProjectType"),"placement")}},"placement"),"\n	                    ",HTML.OPTION({value:"group",selected:function(){return Spacebars.mustache(e.lookup("getProjectType"),"group")}},"group"),"\n	                "),"\n	            "),"\n	        "),"\n			",HTML.Raw("<div>_____________________________________________________________</div>"),"\n			",HTML.DIV({"class":"form-group"},"\n				",HTML.Raw('<label class="control-label" for="intro-video"><h3>Intro Video</h3></label>'),"\n				",HTML.DIV({"class":"controls"},"\n	                ",HTML.INPUT({name:"intro-video","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getIntroVideo"))},placeholder:"Intro Video"}),"\n	            "),"\n	            ",HTML.Raw("<div>_____________________________________________________________</div>"),"\n	            ",HTML.Raw("<h3>Skills</h3>"),"\n	            ",HTML.Raw('<label class="control-label" for="user-centered-design">User Centered Design</label>'),"\n				",HTML.DIV({textarea:"controls"},"\n	                ",HTML.TEXTAREA({name:"user-centered-design-body","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"user-centered-design","body")},placeholder:"Description",rows:"5"}),"\n	                 ",HTML.INPUT({name:"user-centered-design-percentage","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"user-centered-design","percentage")},placeholder:"Percentage"}),"\n	            "),"\n	            ",HTML.Raw('<label class="control-label" for="physical-object-design">Physical Object Design</label>'),"\n	            ",HTML.DIV({textarea:"controls"},"\n	                ",HTML.TEXTAREA({name:"physical-object-design-body","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"physical-object-design","body")},placeholder:"Description",rows:"5"}),"\n	                 ",HTML.INPUT({name:"physical-object-design-percentage","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"physical-object-design","percentage")},placeholder:"Percentage"}),"\n	            "),"\n	            ",HTML.Raw('<label class="control-label" for="entrepreneurship">Entrepreneurship</label>'),"\n	            ",HTML.DIV({textarea:"controls"},"\n	                ",HTML.TEXTAREA({name:"entrepreneurship-body","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"entrepreneurship","body")},placeholder:"Description",rows:"5"}),"\n	                 ",HTML.INPUT({name:"entrepreneurship-percentage","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"entrepreneurship","percentage")},placeholder:"Percentage"}),"\n	            "),"\n	            ",HTML.Raw('<label class="control-label" for="coding">Coding</label>'),"\n	            ",HTML.DIV({textarea:"controls"},"\n	                ",HTML.TEXTAREA({name:"coding-body","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"coding","body")},placeholder:"Description",rows:"5"}),"\n	                 ",HTML.INPUT({name:"coding-percentage","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"coding","percentage")},placeholder:"Percentage"}),"\n	            "),"\n	            ",HTML.Raw('<label class="control-label" for="graphic-design">Graphic Design</label>'),"\n	            ",HTML.DIV({textarea:"controls"},"\n	                ",HTML.TEXTAREA({name:"graphic-design-body","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"graphic-design","body")},placeholder:"Description",rows:"5"}),"\n	                 ",HTML.INPUT({name:"graphic-design-percentage","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"graphic-design","percentage")},placeholder:"Percentage"}),"\n	            "),"\n	            ",HTML.Raw('<label class="control-label" for="communication">Communication</label>'),"\n	            ",HTML.DIV({textarea:"controls"},"\n	                ",HTML.TEXTAREA({name:"communication-body","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"communication","body")},placeholder:"Description",rows:"5"}),"\n	                 ",HTML.INPUT({name:"communication-percentage","class":"form-control input-lg",type:"text",value:function(){return Spacebars.mustache(e.lookup("getSkill"),"communication","percentage")},placeholder:"Percentage"}),"\n	            "),"\n			"),"\n			",HTML.Raw("<div>_____________________________________________________________</div>"),"	   \n			",HTML.Raw('<input class="btn btn-block btn-primary submit" type="submit" id="save" value="Save">'),"\n			",HTML.Raw("<div>_____________________________________________________________</div>"),"\n		"),"\n	")})}(),function(){ownsDocument=function(e,t){return t&&t.univernID===e}}(),function(){Router.configure({layoutTemplate:"layout",linkSelector:"a[href], a:not([skipir])"}),Router.map(function(){this.route("home",{path:"/",waitOn:function(){return Meteor.subscribe("allUniverns")},onStop:function(){$.fn.fullpage.destroy()}}),this.route("univernPage",{path:"/univerns/:_id",data:function(){return Meteor.users.findOne(this.params._id)},waitOn:function(){return[Meteor.subscribe("univerns",this.params._id),Meteor.subscribe("univernsSkills",this.params._id),Meteor.subscribe("univernsPeople",this.params._id),Meteor.subscribe("univernsProjects",this.params._id),Meteor.subscribe("projectlogos"),Meteor.subscribe("profilepics"),Meteor.subscribe("locations",this.params._id)]},onStop:function(){$.fn.fullpage.destroy()}}),this.route("loginPage",{path:"/login"}),this.route("projectEdit",{path:"/projects/:_id/edit",data:function(){return Projects.findOne(this.params._id)},waitOn:function(){return[Meteor.subscribe("projects",this.params._id),Meteor.subscribe("projectlogos"),Meteor.subscribe("skills")]}}),this.route("processEdit",{path:"/projects/:_id/process",data:function(){return Projects.findOne(this.params._id)},waitOn:function(){return[Meteor.subscribe("projects",this.params._id),Meteor.subscribe("processes",this.params._id),Meteor.subscribe("projectfiles")]}}),this.route("projectAdd",{path:"/projects/new"}),this.route("peopleAdd",{path:"/people/new"}),this.route("peopleEdit",{path:"/people/:_id/edit",data:function(){return People.findOne(this.params._id)},waitOn:function(){return[Meteor.subscribe("people",this.params._id),Meteor.subscribe("projects"),Meteor.subscribe("profilepics")]}}),this.route("helpdesk",{path:"/helpdesk",onStop:function(){$.fn.fullpage.destroy("")}}),this.route("projectPage",{path:"/projects/:_id",data:function(){return Projects.findOne(this.params._id)},waitOn:function(){return[Meteor.subscribe("projects",this.params._id),Meteor.subscribe("projectlogos"),Meteor.subscribe("projectSkills",this.params._id),Meteor.subscribe("processes",this.params._id),Meteor.subscribe("projectfiles")]},onStop:function(){$.fn.fullpage.destroy()}}),this.route("locationEdit",{path:"/univerns/:_id/locations",data:function(){return Meteor.users.findOne(this.params._id)},waitOn:function(){return[Meteor.subscribe("locations",this.params._id)]}})})}(),function(){Template.firstUnivernHome.helpers({george:function(){return Meteor.users.findOne({"emails.0.address":"george.koulouris1@gmail.com"})}})}(),function(){Template.splashScreen.rendered=function(){$(".start-arrow").click(function(){$.fn.fullpage.moveSectionDown()})}}(),function(){Template.videoHome.rendered=function(){$(".play-video").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1})}}(),function(){Template.layout.events({"click .bckg-full":function(){$(".header").animate({left:-$(".header").width()})}})}(),function(){Template.header.rendered=function(){},Template.header.helpers({getGeorge:function(){var e=Meteor.users.findOne({"emails.0.address":"george.koulouris1@gmail.com"});return e?e._id:void 0}}),Template.header.events({"click #introduction":function(){$(".first-univern").show(400)},"click .hide-submenu":function(){$(".first-univern").hide(400)},"click .trigger-header":function(){var e=$(".header").css("left");$(".header").animate("0px"==e?{left:-$(".header").width()}:{left:0})},"click body":function(){console.log("ccol")}})}(),function(){Template.projectProcess.helpers({getProjectType:function(){switch(this.type){case"group":return"green";case"placement":return"blue";case"individual":return"red"}},getProcesses:function(){return Processes.find()},getTitle:function(){return Session.set("updated",new Date),this.title},getBody:function(){return Session.set("updated",new Date),this.body},restartFullPageJS:function(){return $.fn.fullpage.destroy("all"),$(".project-page").fullpage(),Session.get("updated")},hasLink:function(e){switch(e){case"file":if(""!==this.files.file)return!0;break;case"folder":if(""!==this.files.folder)return!0;break;case"video":if(""!==this.files.video)return!0;break;case"github":if(""!==this.files.github)return!0;break;case"instructables":if(""!==this.files.instructables)return!0}},getLink:function(e){switch(Session.set("updated",new Date),e){case"file":break;case"folder":return this.files.folder;case"video":return this.files.video;case"github":return this.files.github;case"instructables":return this.files.instructables}}})}(),function(){Template.projectIntro.rendered=function(){$(".play").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1})},Template.projectIntro.helpers({getLogo:function(){var e=projectLogos.findOne(this.logo);return e?e.url():void 0},setBackground:function(){var e=projectLogos.findOne(this.image);return e?"background: url("+e.url()+") no-repeat center center fixed; background-size: cover;":void 0}})}(),function(){Template.projectPage.rendered=function(){$(".project-page").fullpage()}}(),function(){Template.projectSkills.rendered=function(){$(".skill").click(function(e){e.preventDefault();for(var t=$(e.target).parent().attr("id").split("-")[1],n=$(e.target).parent().position(),i=1;6>=i;i++)$("#skill-"+i+"-text").css("display","none");$("#skill-"+t+"-text").css("display","block"),$(".explanation-block").animate({left:n.left},400,function(){$(".explanation-block").animate({top:n.top},400)})})},Template.projectSkills.helpers({getSkills:function(){return Skills.find()},getTitle:function(e){return this.title==e?!0:void 0},getPercentage:function(){return Math.round(100*this.percentage)+"%"}}),Template.projectSkills.events({})}(),function(){Template.amazingPeople.helpers({person:function(){var e=People.find();return e.count()>0?e:void 0},setBackground:function(){var e=ProfilePics.findOne(this.photo);return e?(Session.set("updated",new Date),"background: url("+e.url()+") no-repeat center center fixed; background-size: cover;"):void 0},getProjects:function(){return this.projectID},getProjectLogo:function(){Session.set("updated",new Date);var e=Projects.findOne({_id:String(this)});if(e){var t=projectLogos.findOne(e.logo);if(t)return Session.set("updated",new Date),t.url()}},getSkills:function(){var e=Skills.find({projectID:String(this)});return e?e:void 0},getSkillLogo:function(){return Session.set("updated",new Date),"/general_logos/"+this.title+".svg"},notAdded:function(){return!0},restartFullPageJS:function(){return $.fn.fullpage.destroy("all"),$(".univernPage").fullpage({}),Session.get("updated")}})}(),function(){Template.contact.helpers({getLocation:function(){var e=Locations.findOne();return e?e.city+", "+e.country:void 0}})}(),function(){Template.groupProjects.helpers({getGroupProjects:function(){return Projects.find({type:"group"})},getProjectLogo:function(){var e=projectLogos.findOne(this.logo);return e?e.url():void 0},getSkills:function(){var e=Skills.find({projectID:this._id});return e?e:void 0},getSkillLogo:function(){return"/general_logos/"+this.title+".svg"}}),Template.placements.helpers({getPlacements:function(){return Projects.find({type:"placement"})},getProjectLogo:function(){var e=projectLogos.findOne(this.logo);return e?e.url():void 0},getSkills:function(){var e=Skills.find({projectID:this._id});return e?e:void 0},getSkillLogo:function(){return"/general_logos/"+this.title+".svg"}}),Template.individualProjects.helpers({individualProjects:function(){return Projects.find({type:"individual"})},getProjectLogo:function(){var e=projectLogos.findOne(this.logo);return e?e.url():void 0},getSkills:function(){var e=Skills.find({projectID:this._id});return e?e:void 0},getSkillLogo:function(){return"/general_logos/"+this.title+".svg"}})}(),function(){Template.univernPage.rendered=function(){$(".univernPage").fullpage({anchors:["introduction","skills","people","group-projects","placements","individual-projects","work"],animateAnchor:!1}),$("#introduction").click(function(){$.fn.fullpage.moveTo("introduction",0)}),$("#skills").click(function(){$.fn.fullpage.moveTo("skills",0)}),$("#people").click(function(){$.fn.fullpage.moveTo("people",0)}),$("#group-projects").click(function(){$.fn.fullpage.moveTo("group-projects",0)}),$("#placements").click(function(){$.fn.fullpage.moveTo("placements",0)}),$("#individual-projects").click(function(){$.fn.fullpage.moveTo("individual-projects",0)}),$("#work").click(function(){$.fn.fullpage.moveTo("work",0)})}}(),function(){Template.univernSkills.rendered=function(){$(".skill").click(function(e){e.preventDefault();for(var t=$(e.target).parent().attr("id").split("-")[1],n=$(e.target).parent().position(),i=1;6>=i;i++)$("#skill-"+i+"-text").css("display","none");$("#skill-"+t+"-text").css("display","block"),$(".explanation-block").animate({left:n.left},400,function(){$(".explanation-block").animate({top:n.top},400)})})},Template.univernSkills.helpers({getSkillPercentage:function(e){var t=_.reduce(_.map(Skills.find({title:e}).fetch(),function(e){return e.percentage}),function(e,t){return Number(e)+Number(t)},0),n=9.5;return Math.round(100*t/n)+"%"}})}(),function(){Template.helpdesk.rendered=function(){$(".helpdesk").fullpage()}}(),function(){Template.home.rendered=function(){$(".home").fullpage()}}(),function(){Template.locationEdit.events({"click #save":function(){var e={country:$(".form").find("[name=country]").val(),city:$(".form").find("[name=city]").val()};Meteor.call("addLocation",e,function(e){return e?alert(e.reason):void 0})}})}(),function(){Template.peopleAdd.events({submit:function(e){e.preventDefault();var t={name:$(e.target).find("[name=name]").val(),"public":!1};Meteor.call("addPerson",t,function(e,t){return e?alert(e.reason):void Router.go("peopleEdit",{_id:t})})}})}(),function(){Template.peopleEdit.helpers({personName:function(){return this.name},personProffesion:function(){return this.proffesion},personDescription:function(){return this.body},personEmail:function(){return this.contact?this.contact.email:void 0},personTwitter:function(){return this.contact?this.contact.twitter:void 0},personFacebook:function(){return this.contact?this.contact.facebook:void 0},getProjects:function(){return this.projectID},getID:function(){return this._id},getPhoto:function(){var e=ProfilePics.findOne(this.photo);return e?e.url():void 0}}),Template.peopleEdit.events({"click .delete":function(e){People.update({_id:$(".form").attr("id")},{$pull:{projectID:e.target.id}})},"click #save":function(){var e={id:this._id,univernID:this.univernID,name:$(".form").find("[name=name]").val(),proffesion:$(".form").find("[name=proffesion]").val(),body:$(".form").find("[name=body]").val(),contact:{email:$(".form").find("[name=email]").val(),twitter:$(".form").find("[name=twitter]").val(),facebook:$(".form").find("[name=facebook]").val()}};Meteor.call("updatePerson",e,function(e){return e?alert(e.reason):void 0})},"change #add-photo":function(e){e.preventDefault();var t=ProfilePics.insert(e.target.files[0],function(){});console.log(e.target.files[0]);var n={id:this._id,previousPhoto:this.photo,univernID:this.univernID,newphoto:t._id};Meteor.call("setPersonPhoto",n,function(e){return e?alert(e.reason):void 0})}}),Template.peopleEdit.settings=function(){var e=this._id;return{position:"bottom",limit:5,rules:[{collection:Projects,field:"title",template:Template.projectTitle,callback:function(t){People.update({_id:e},{$push:{projectID:t._id}}),$("#projectAdd").val("")}}]}}}(),function(){Template.processEdit.rendered=function(){getHighestRank=function(e){return Processes.find({projectID:e}).count()}},Template.processEdit.helpers({processes:function(){return Processes.find({projectID:this._id},{sort:{rank:1}})},projectName:function(){return this.title}}),Template.processEdit.events({"click #add-process":function(e){e.preventDefault();var t={projectID:this._id,rank:getHighestRank(this._id)+1};Meteor.call("addStep",t,function(e){return e?alert(e.reason):void 0})},"click .delete-process":function(e){e.preventDefault();var t={id:this._id,projectID:this.projectID};Meteor.call("deleteStep",t,function(e){return e?alert(e.reason):void 0})},"click #save":function(){for(var e=1;e<=getHighestRank(this._id);e++){var t=$("#processes-form").find("[name=file-"+e+"]")[0].files[0];if(t)var n=projectFiles.insert(t,function(){});else var n=null;var i={projectID:this._id,title:$("#processes-form").find("[name=title-"+e+"]").val(),body:$("#processes-form").find("[name=body-"+e+"]").val(),rank:e,files:{file:n?n._id:"",folder:$("#processes-form").find("[name=folder-"+e+"]").val(),video:$("#processes-form").find("[name=video-"+e+"]").val(),github:$("#processes-form").find("[name=github-"+e+"]").val(),instructables:$("#processes-form").find("[name=instructables-"+e+"]").val()}};console.log(n),Meteor.call("saveStep",i,function(e){return e?alert(e.reason):void 0})}}})}(),function(){Template.projectAdd.events({submit:function(e){e.preventDefault();var t={title:$(e.target).find("[name=title]").val(),"public":!1};Meteor.call("createProject",t,function(e,t){return e?alert(e.reason):void Router.go("projectEdit",{_id:t})})}})}(),function(){Template.projectEdit.rendered=function(){exportSkill=function(e,t,n,i){if(t.find("[name="+e+"-percentage]").val()){var o={projectID:n,univernID:i,body:t.find("[name="+e+"-body]").val(),percentage:t.find("[name="+e+"-percentage]").val(),title:e};return o}}},Template.projectEdit.helpers({getProjectName:function(){return this.title},getProjectBody:function(){return this.body},getLogo:function(){var e=projectLogos.findOne(this.logo);return void 0!==e?e.url():void 0},getImage:function(){var e=projectLogos.findOne(this.image);return void 0!==e?e.url():void 0},getIntroVideo:function(){return this.introVideo},getSkill:function(e,t){switch(e){case"user-centered-design":var n=Skills.findOne({projectID:this._id,title:e});break;case"physical-object-design":var n=Skills.findOne({projectID:this._id,title:e});break;case"entrepreneurship":var n=Skills.findOne({projectID:this._id,title:e});break;case"coding":var n=Skills.findOne({projectID:this._id,title:e});break;case"graphic-design":var n=Skills.findOne({projectID:this._id,title:e});break;case"communication":var n=Skills.findOne({projectID:this._id,title:e})}return n?"body"==t?n.body:n.percentage:void 0},getProjectType:function(e){return e===this.type?"selected":void 0}}),Template.projectEdit.events({"change #add-logo":function(e){e.preventDefault();var t={id:this._id,previousLogo:this.logo,owner:this.univernID},n=projectLogos.insert(e.target.files[0],function(){});t.handleID=n._id,Meteor.call("setProjectLogo",t,function(e){return e?alert(e.reason):void 0})},"change #add-image":function(e){e.preventDefault();var t={id:this._id,previousImage:this.image,owner:this.univernID},n=projectLogos.insert(e.target.files[0],function(){});t.handleID=n._id,Meteor.call("setProjectImage",t,function(e){return e?alert(e.reason):void 0})},submit:function(e){e.preventDefault();var t={title:$(e.target).find("[name=title]").val(),body:$(e.target).find("[name=project-body]").val(),type:$(e.target).find("[id=project-type]").val(),introVideo:$(e.target).find("[name=intro-video]").val()};Projects.update(this._id,{$set:t},function(e){e&&alert(e.reason)});for(var n=[exportSkill("user-centered-design",$(e.target),this._id,this.univernID),exportSkill("physical-object-design",$(e.target),this._id,this.univernID),exportSkill("entrepreneurship",$(e.target),this._id,this.univernID),exportSkill("coding",$(e.target),this._id,this.univernID),exportSkill("graphic-design",$(e.target),this._id,this.univernID),exportSkill("communication",$(e.target),this._id,this.univernID)],i=0;i<n.length;i++)n[i]&&Meteor.call("setSkill",n[i],function(e){return e?alert(e.reason):void 0});Router.go("project",{_id:this._id})}})}(),function(){Locations=new Meteor.Collection("locations"),Meteor.methods({addLocation:function(e){var t=Meteor.user();if(!t)throw new Meteor.Error(401,"You need to be a univern to edit this project");var n=_.extend(_.pick(e,"city","country"),{univernID:t._id,created:(new Date).getTime()});Locations.insert(n)}})}(),function(){People=new Meteor.Collection("people"),People.allow({update:function(e,t){return e==t.univernID?!0:void 0}}),Meteor.methods({addPerson:function(e){var t=Meteor.user();if(!t)throw new Meteor.Error(401,"You need to be a univern to add a project");var n=_.extend(_.pick(e,"name"),{univernID:t._id,created:(new Date).getTime(),"public":!0}),i=People.insert(n);return i},updatePerson:function(e){var t=Meteor.user();if(!t)throw new Meteor.Error(401,"You need to be a univern to add a project");if(t._id!==e.univernID)throw new Meteor.Error(401,"Bad Univern! This is not your project!");var n=_.extend(_.pick(e,"name","proffesion","body","contact"),{});People.update({_id:e.id},{$set:n})},setPersonPhoto:function(e){var t=Meteor.user(),n=ProfilePics.findOne(e.previousPhoto);if(!t)throw new Meteor.Error(401,"You need to be a univern to add a project");if(t._id!==e.univernID)throw new Meteor.Error(401,"Bad Univern! This is not your project!");n&&ProfilePics.remove(n._id),People.update(e.id,{$set:{photo:e.newphoto}})}})}(),function(){Processes=new Meteor.Collection("processes"),Meteor.methods({addStep:function(e){var t=Meteor.user(),n=Projects.findOne(e.projectID);if(!t)throw new Meteor.Error(401,"You need to be a univern to add a project");if(t._id!==n.univernID)throw new Meteor.Error(401,"Bad Univern! This is not your project!");var i=_.extend(_.pick(e,"projectID","rank"),{univernID:t._id,created:(new Date).getTime()}),o=Processes.insert(i);return o},deleteStep:function(e){var t=Meteor.user(),n=Projects.findOne(e.projectID);if(!t)throw new Meteor.Error(401,"You need to be a univern to add a project");if(t._id!==n.univernID)throw new Meteor.Error(401,"Bad Univern! This is not your project!");Processes.remove({_id:e.id,projectID:e.projectID})},saveStep:function(e){var t=Meteor.user(),n=Projects.findOne(e.projectID);if(!t)throw new Meteor.Error(401,"You need to be a univern to add a project");if(t._id!==n.univernID)throw new Meteor.Error(401,"Bad Univern! This is not your project!");var i=_.extend(_.pick(e,"title","body","files"),{created:(new Date).getTime()});Processes.update({rank:e.rank,projectID:n._id},{$set:i})}})}(),function(){ProfilePics=new FS.Collection("profilepics",{stores:[new FS.Store.GridFS("profilepics",{})]}),ProfilePics.allow({insert:function(e){return e?!0:void 0},download:function(){return!0},update:function(e){return e?!0:void 0}})}(),function(){projectFiles=new FS.Collection("projectfiles",{stores:[new FS.Store.GridFS("projectfiles",{})]}),projectFiles.allow({insert:function(){return userID?!0:void 0},download:function(){return!0},update:function(){return userID?!0:void 0}})}(),function(){projectLogos=new FS.Collection("projectlogos",{stores:[new FS.Store.GridFS("projectlogos",{})]}),projectLogos.allow({insert:function(e){return e?!0:void 0},download:function(){return!0},update:function(e){return e?!0:void 0}}),Meteor.methods({setProjectLogo:function(e){{var t=Meteor.user();projectLogos.findOne(e.previousLogo)}if(!t)throw new Meteor.Error(401,"You need to be a univern to edit this project");if(t._id!==e.owner)throw new Meteor.Error(401,"Bad Univern! This is not your project!");projectLogos.remove(e.previousLogo),Projects.update(e.id,{$set:{logo:e.handleID}})}}),Meteor.methods({setProjectImage:function(e){{var t=Meteor.user();projectLogos.findOne(e.previousImage)}if(!t)throw new Meteor.Error(401,"You need to be a univern to edit this project");if(t._id!==e.owner)throw new Meteor.Error(401,"Bad Univern! This is not your project!");
projectLogos.remove(e.previousImage),Projects.update(e.id,{$set:{image:e.handleID}})}})}(),function(){Projects=new Meteor.Collection("projects"),Projects.allow({update:function(e,t){return e==t.univernID?!0:void 0}}),Meteor.methods({createProject:function(e){var t=Meteor.user();if(!t)throw new Meteor.Error(401,"You need to be a univern to add a project");var n=_.extend(_.pick(e,"title"),{univernID:t._id,created:(new Date).getTime(),"public":!0}),i=Projects.insert(n);return i}})}(),function(){Skills=new Meteor.Collection("skills"),Meteor.methods({setSkill:function(e){var t=Meteor.user(),n=Skills.findOne({projectID:e.projectID,title:e.title});if(!t)throw new Meteor.Error(401,"You need to be a univern to edit this project");if(t._id!==e.univernID)throw new Meteor.Error(401,"Bad Univern! This is not your project!");n&&Skills.remove(n),e.percentage>0&&Skills.insert(e)}})}();